<HTML>
<!-- This page produced Mon Jul 19 13:58:41 EDT 1999
 -->
<!-- Used program version 1.118.1.2 from beta -->
<HEAD>
<!-- <META http-equiv="Content-Type" content="text/html; charset="> -->
<TITLE>Statements : MERGE </TITLE></HEAD>
<BODY bgcolor="#FFFFFF">
<!-- navigation -->
<TABLE cellpadding="0" cellspacing="0">
<TR valign="top">
<TD align="center">
<A href="z0293668.htm">
<IMG border="0" SRC="../common/images/cont1.gif"><BR><FONT size="-2">Chapter Contents</FONT></A></TD>
<TD align="center">
<A href="z0289424.htm">
<IMG border="0" src="../common/images/prev1.gif"><BR><FONT size="-2">Previous</FONT></A></TD>
<TD align="center">
<A href="z0227561.htm">
<IMG border="0" SRC="../common/images/next1.gif"><BR><FONT size="-2">Next</FONT></A></TD>
</TR></TABLE>
<!-- running head -->
<TABLE width="100%" cellpadding="4">
<TR valign="MIDDLE">
<TD bgcolor="#CCCC99"><I><FONT size="2">MERGE</FONT></I></TD>
</TR>
</TABLE><H1><FONT size="5"><A name="z0202970">MERGE</A></FONT></H1>

<P><HR><BR><B>Joins observations from two or more SAS data sets into single
observations</B><p>

<TABLE cellpadding="4" cellspacing="2">
<TR valign="top">
<TD align="right" bgcolor="#F5F5F5" nowrap><B>Valid:</B></TD>
<TD bgcolor="#CCCCCC" align="left">in a DATA step
</TD></TR>
<TR valign="top">
<TD align="right" bgcolor="#F5F5F5" nowrap><B>Category:</B></TD>
<TD bgcolor="#CCCCCC" align="left">File-handling
</TD></TR>
<TR valign="top">
<TD align="right" bgcolor="#F5F5F5" nowrap><B>Type:</B></TD>
<TD bgcolor="#CCCCCC" align="left">Executable
</TD></TR>
</TABLE><HR>
<TABLE cellspacing="0" cellpadding="1">
<TR>
<TD colspan="2"><A href="z0202970.htm#zid-2474"><FONT size="2"><B>Syntax</b></FONT></A></TD></TR>
<TR>
<TD colspan="2"><A href="z0202970.htm#zid-2475"><FONT size="2"><B>Arguments</b></FONT></A></TD></TR>
<TR>
<TD colspan="2"><A href="z0202970.htm#z0289879"><FONT size="2"><B>Details</b></FONT></A></TD></TR>
<TR>
<TD width="18"></TD>
<TD><A href="z0202970.htm#z0172354"><FONT size="2">Overview</FONT></A></TD></TR>
<TR>
<TD width="18"></TD>
<TD><A href="z0202970.htm#z0289880"><FONT size="2">One-to-One Merging</FONT></A></TD></TR>
<TR>
<TD width="18"></TD>
<TD><A href="z0202970.htm#z0289881"><FONT size="2">Match-Merging</FONT></A></TD></TR>
<TR>
<TD colspan="2"><A href="z0202970.htm#z0289882"><FONT size="2"><B>Comparisons</b></FONT></A></TD></TR>
<TR>
<TD colspan="2"><A href="z0202970.htm#z0289883"><FONT size="2"><B>Examples</b></FONT></A></TD></TR>
<TR>
<TD width="18"></TD>
<TD><A href="z0202970.htm#z0162609"><FONT size="2">Example 1: One-to-One Merging</FONT></A></TD></TR>
<TR>
<TD width="18"></TD>
<TD><A href="z0202970.htm#z0162673"><FONT size="2">Example 2: Match-Merging</FONT></A></TD></TR>
<TR>
<TD colspan="2"><A href="z0202970.htm#z0289886"><FONT size="2"><B>See Also</b></FONT></A></TD></TR></TABLE>
<TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><H2><A name="zid-2474">Syntax</A></H2></TD></TR></TABLE>

<TABLE cellpadding="4" cellspacing="2">
<TR valign="top"><TD>
<B>MERGE  </B> <I>SAS-data-set-1</I>
&lt;(<I>data-set-options</I>)&gt;
<BR><I>SAS-data-set-2</I> &lt;(<I>data-set-options</I>) &gt;
<BR>&lt;<I>. . .
SAS-data-set-n</I>&lt;(<I>data-set-options</I>)&gt;&gt;
<BR>&lt;END=<I>variable</I>&gt;;
</TD></TR></TABLE>
<BR><H3><A name="zid-2475">Arguments</A></H3>

<P><A name="z0854652">&#13;</A>
<DL>
<DT><B><B><I>SAS-data-set(s)</I></B></B></DT>
<DD>names at least two existing SAS data sets
from which observations are read.
<TABLE cellpadding="4" cellspacing="2">
<TR valign="top">
<TD align="left" bgcolor="#F5F5F5" width="95" nowrap><B>Tip:</B></TD>
<TD align="left" bgcolor="#F5F5F5">Optionally, you can specify
additional SAS data sets.</TD>
</TABLE>
<P></DD>

<DT><B> (<B><I>data-set-options</I></B>)</B></DT>
<DD>specifies one or more SAS data set options
in parentheses after a SAS data set name.
<TABLE cellpadding="4" cellspacing="2">
<TR valign="top">
<TD align="left" bgcolor="#F5F5F5" width="95" nowrap><B>Explanation:</B></TD>
<TD align="left" bgcolor="#F5F5F5">The data set options
specify actions that SAS is to take when it reads observations into the DATA
step for processing. For a list of data set options, see
<A href="z0201788.htm">Data Set Options</A>.</TD>
</TABLE>
<P></DD>

<DT><B>END=<B><I>variable</I></B></B></DT>
<DD>names and creates a temporary variable that
contains an end-of-file indicator.
<TABLE cellpadding="4" cellspacing="2">
<TR valign="top">
<TD align="left" bgcolor="#F5F5F5" width="95" nowrap><B>Explanation:</B></TD>
<TD align="left" bgcolor="#F5F5F5">The variable, which
is initialized to 0, is set to 1 when the MERGE statement processes the last
observation.  If the input data sets have different numbers of observations,
the END= variable is set to 1 when MERGE processes the last observation from
all data sets.  </TD>
<TR valign="top">
<TD align="left" bgcolor="#F5F5F5" width="95" nowrap><B>Tip:</B></TD>
<TD align="left" bgcolor="#F5F5F5">The END= variable is not
added to any SAS data set that is being created.</TD>
</TABLE>
<P></DD>
</DL>


<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5"><A name="z0289879">Details</A></FONT></B></TD></TR></TABLE>

<BR><H3><A name="z0172354">Overview</A></H3>


<P>The MERGE statement
is flexible and has a variety of uses in SAS programming.  This section describes
basic uses of MERGE. Other applications include using more than one BY variable,
merging more than two data sets, and merging a few observations with all observations
in another data set.
<BR><H3><A name="z0289880">One-to-One Merging</A></H3>


<P><A name="z0854664">&#13;One-to-one merging
combines observations from two or more SAS data sets into a single observation
in a new data set. To perform a one-to-one merge, use the MERGE statement
without a BY statement. SAS combines the first observation from all data sets
that are named in the MERGE statement into the first observation in the new
data set, the second observation from all data sets into the second observation
in the new data set, and so on. In a one-to-one merge, the number of observations
in the new data set is equal to the number of observations in the largest
data set named in the MERGE statement. See Example 1 for an example of a one-to-one
merge. For more information, see "Reading, Modifying, and Combining
SAS Data Sets" in  
<B>SAS Language Reference: Concepts</B>. </A><DL>
<DT><B><FONT color="FF00007">CAUTION:</FONT></B></DT><DD><B>Use care when you combine data sets with a one-to-one
merge.</B>
One-to-one merges may sometimes produce
undesirable results. Test your program on representative samples of the data
sets before you use this method.&nbsp;&nbsp;<IMG border="0" src="../common/images/cautend.gif" alt="[cautionend]" align="bottom"></DD></DL>
<BR><H3><A name="z0289881">Match-Merging</A></H3>


<P><A name="z0854666">&#13;Match-merging combines observations
from two or more SAS data sets into a single observation in a new data set
according to the values of a common variable. The number of observations in
the new data set is the sum of the largest number of observations in each
BY group in all data sets. To perform a match-merge, use a BY statement immediately
after the MERGE statement. The variables in the BY statement must be common
to all data sets. Only one BY statement can accompany each MERGE statement
in a DATA step.  The data sets that are listed in the MERGE statement must
be sorted in order of the values of the variables that are listed in the BY
statement, or they must have an appropriate index. See Example 2 for an example
of a match-merge. For more information, see "Reading, Modifying, and
Combining SAS Data Sets" in  
<B>SAS Language Reference: Concepts</B>.</A>
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5"><A name="z0289882">Comparisons</A></FONT></B></TD></TR></TABLE>

<P><A name="z0854667">&#13;</A>
<P>
<UL>

<LI>MERGE combines observations from two or more SAS
data sets. UPDATE combines observations from exactly two SAS data sets. UPDATE
changes or updates the values of selected observations in a master data set
as well. UPDATE also may add observations.<P>

<LI>Like UPDATE, MODIFY combines observations from
two SAS data sets by changing or updating values of selected observations
in a master data set.  <P>

<LI>The results that are obtained by reading observations
using two or more SET statements are similar to those that are obtained by
using the MERGE statement with no BY statement. However, with the SET statements,
SAS stops processing before all observations are read from all data sets if
the number of observations are not equal. In contrast, SAS continues processing
all observations in all data sets named in the MERGE statement.<P>
</UL>

<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5"><A name="z0289883">Examples</A></FONT></B></TD></TR></TABLE>

<BR><H3> <A name="z0162609">Example 1: One-to-One Merging</A> </H3>


<P>This
example shows how to combine observations from two data sets into a single
observation in a new data set:



<PRE>data benefits.qtr1;
   merge benefits.jan benefits.feb;
run;</PRE>
<BR><H3> <A name="z0162673">Example 2: Match-Merging</A> </H3>


<P>This example
shows how to combine observations from two data sets into a single observation
in a new data set according to the values of a variable that is specified
in the BY statement:



<PRE>data inventry;
   merge stock orders;
   by partnum;
run;</PRE>
<TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5"><FONT size="5"><A name="z0289886">See Also</A></FONT>
</FONT></B></TD></TR></TABLE>
<P>
<TABLE cellpadding="6" cellspacing="2">
<TR valign="top"><TD></TD><TD>Statements:
<P>
<TABLE cellpadding="6" cellspacing="2">
<TR valign="top"><TD></TD><TD><A href="z0202968.htm">BY</A></TD></TR>
<TR valign="top"><TD></TD><TD><A href="z0173361.htm">MODIFY</A></TD></TR>
<TR valign="top"><TD></TD><TD><A href="z0173782.htm">SET</A></TD></TR>
<TR valign="top"><TD></TD><TD><A href="z0202975.htm">UPDATE</A></TD></TR></TABLE></TD></TR>
<TR valign="top"><TD></TD><TD>Combining
SAS Data Sets in  
<B>SAS Language Reference: Concepts</B></TD></TR></TABLE>

<P><!-- navigation -->
<P><TABLE cellpadding="0" cellspacing="0">
<TR valign="top">
<TD align="center">
<A href="z0293668.htm">
<IMG border="0" SRC="../common/images/cont1.gif"><BR><FONT size="-2">Chapter Contents</FONT></A></TD>
<TD align="center">
<A href="z0289424.htm">
<IMG border="0" src="../common/images/prev1.gif"><BR><FONT size="-2">Previous</FONT></A></TD>
<TD align="center">
<A href="z0227561.htm">
<IMG border="0" SRC="../common/images/next1.gif"><BR><FONT size="-2">Next</FONT></A></TD>
<TD align="center">
<A href="#z0202970">
<IMG border="0" SRC="../common/images/top1.gif"><BR><FONT size="-2">Top of Page</FONT></A></TD>
</TR></TABLE>
<P><FONT size=1><A href="../common/images/copyrite.htm">Copyright 1999 by SAS Institute Inc., Cary, NC, USA. All rights reserved.</A></FONT>
</BODY>
</HTML>