<HTML>
<!-- This page produced Tue Jun 22 10:41:23 EDT 1999
 -->
<!-- Used program version 1.117.1.1 from beta -->
<HEAD>
<!-- <META http-equiv="Content-Type" content="text/html; charset="> -->
<TITLE>OS/390: TCP/IP Access Method : SAS/CONNECT </TITLE></HEAD>
<BODY bgcolor="#FFFFFF">
<!-- navigation -->
<TABLE cellpadding="0" cellspacing="0">
<TR valign="top">
<TD align="center">
<A href="z0382161.htm">
<IMG border="0" SRC="../common/images/cont1.gif"><BR><FONT size="-2">Chapter Contents</FONT></A></TD>
<TD align="center">
<A href="z0216242.htm">
<IMG border="0" src="../common/images/prev1.gif"><BR><FONT size="-2">Previous</FONT></A></TD>
<TD align="center">
<A href="z0140816.htm">
<IMG border="0" SRC="../common/images/next1.gif"><BR><FONT size="-2">Next</FONT></A></TD>
</TR></TABLE>
<!-- running head -->
<TABLE width="100%" cellpadding="4">
<TR valign="MIDDLE">
<TD bgcolor="#CCCC99"><I><FONT size="2">Communications Access Methods for SAS/CONNECT     and SAS/SHARE Software                                                  </FONT></I></TD>
</TR>
</TABLE><H1><FONT size="5"><A name="z0363155">SAS/CONNECT</A></FONT></H1>


<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5">Local Host Tasks</FONT></B></TD></TR></TABLE>

<P>
<DL>
<DT><B>User or Applications
Programmer</B></DT>
<DD>To connect an OS/390 local host to a remote host, perform
these tasks at the local host: 
<OL START="1" type="1">
<LI>Consider the requirements of the remote host that you are connecting
to.<P>

<LI>If you connect to a UNIX remote host or an OS/390 remote host
by means of the spawner program, configure the UNIX spawner service in the
SERVICES file, as necessary.<P>

<LI>If you connect to a remote host by means of the UNIX spawner the
PC spawner, or the OS/390 spawner, set security, as necessary.<P>

<LI>Specify the communications access method.<P>

<LI>Specify a remote host to connect
to.<P>

<LI>Identify the script file to be used for signing on and signing
off, as necessary.<P>

<LI>Sign on to the remote host.<P>
</OL>
<P></DD>
</DL>

<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5">Remote Host Connection Considerations</FONT></B></TD></TR></TABLE>

<P>If
you are connecting to a Windows
95, Windows 98, or Windows NT remote host, you <B>must</B> connect by
means of a spawner program that is already running on the remote host. If
you are connecting to an OS/2, a UNIX, or an OS/390 remote host, you optionally <B>may</B> connect by means of a spawner program that also is already running
on the remote host. A spawner program allows the encryption of userids and
passwords when passed through the network. Without a spawner, readable userids
and passwords are passed through the network, which may present a security
risk. See <A href="z0117320.htm">Spawner Programs</A>
for information about starting the spawner on the remote host.
<P>You may also sign on to the remote host with a script file. If you do
not sign on with a script file, as a security measure, set the USER= and PASSWORD=
options in the SIGNON statement, which is passed to the remote host, allowing
a local host connection. 
<P><B>Note:</B>&nbsp;&nbsp;&nbsp;Setting the Version 7 TCPSEC option at
the local host also works.&nbsp;&nbsp;<IMG border="0" src="../common/images/cautend.gif" alt="[cautionend]" align="bottom"><BR>
<P>If the -NOSCRIPT option is set at the spawner invocation, sign on with
a script is prohibited. Ask your network administrator whether the  -NOSCRIPT
 option is set at the spawner invocation.
<P>If you sign on to a host that is not a Windows NT, a Windows 95, a Windows
98, an OS/2, a UNIX, or an OS/390 host, you will sign on with a script.
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5">Configuring the Spawner in the SERVICES File</FONT></B></TD></TR></TABLE>

<P>Before
connecting to a UNIX remote host or an OS/390 remote host with the spawner
program, configure the spawner service in the SERVICES file on the local host.
See <A href="z0214126.htm">Starting the OS/390 Spawner</A>
for information about configuring the SERVICES file.
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5">Setting Security for Local Hosts</FONT></B></TD></TR></TABLE>

<P>If you are not using a script
file to sign on to the remote host,  set security at the local host using
either of the methods explained in <A href="z0216242.htm#z1252230">Setting Security for SAS/CONNECT and SAS/SHARE</A>. For Version 8 security behavior, specify
the USER= and PASSWORD= options to the SIGNON statement. For details, see <A href="z0216242.htm#z1252331">Providing Client Identification in a Version 8 Session</A>. 
<P>For Version 7 security behavior, if
you set the TCPSEC option at the
local host, either specify a userid and a password that are valid on the remote
host or specify PROMPT to supply the userid and password when connecting to
a remote host. For information about setting the TCPSEC option, see <A href="z0216242.htm#z1252272">Providing Client Identification in a pre-Version 8 Session</A>. 
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5">Specifying the TCP/IP Access Method</FONT></B></TD></TR></TABLE>

<P>You must specify
the TCP/IP communications access
method to make a remote host connection. Use the following syntax:  



<PRE>OPTIONS COMAMID=<I>access-method-id</I>;</PRE>
<P>where COMAMID is an acronym for Communications Access Method Identification. <B>access-method-id</B> identifies the method used by the local host to communicate
with the remote host. TCP (short for TCP/IP, which is an abbreviation for
Transmission Control Protocol/Internet Protocol) is an example of <B>access-method-id</B>.
<P>Alternatively, you may set this option at a SAS invocation or in the
SAS configuration file.
<P>Example:  



<PRE>options comamid=tcp;</PRE>
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5"><A name="z0363163">Specifying the Remote Node Name</A></FONT></B></TD></TR></TABLE>

<P>To make a
connection from an OS/390 local
host to a remote host, use the following syntax:  



<PRE>OPTIONS REMOTE=<I>node-name</I>&lt;.<I>service-name</I>>;</PRE>
<P>The value of <B>node-name</B> is based on the type of remote host
that you are connecting to. 
<P>
<UL>

<LI>If you are connecting to a Windows NT, a Windows 95, a Windows
98, or an OS/2 remote host that is running the PC spawner program, use the
name of the node on which the PC spawner is running. See <A href="z0117320.htm">Spawner Programs</A> for more information.<P>

<LI>If you are connecting
to a UNIX or an OS/390 host that is running
a spawner program, use a two-level name in the form of <B>node-name.service-name</B>, where <B>node-name</B> specifies the node on which the spawner
program is running and <B>service-name</B> specifies the port on which
the spawner is listening for a connection request.
<P>See <A href="z0117320.htm">Spawner Programs</A>
for information about the spawner program. See <A href="z3wner.htm">Starting the UNIX Spawner Program</A> for information about configuring the  spawner
service in the SERVICES file.<P>

<LI>If you are connecting to any other remote host platforms that
use a sign-on script, use the node name of the remote host. The remote host
must be defined in a local HOSTS file or in a domain server.<P>
</UL>

<P>The value of the REMOTE= option must be a valid SAS name. See <B>SAS Language Reference:
Dictionary</B>
for details about SAS naming rules.
<P>Example:  



<PRE>OPTIONS REMOTE=<I>node-name</I>;</PRE>
<P>If you use an Internet address (or some other invalid SAS name), you
must assign the address to a macro variable and specify the macro variable
for the value of the REMOTE= option. Here is an example:  



<PRE>%let <I>node</I>=<I>Internet-address</I>;
options remote=<I>node</I>;</PRE>
<P>Do not choose a macro name that is also a valid host name on your network.
 SAS first attempts to reach a network host with the value of the REMOTE=
option (in this example, MYNODE).



<PRE>%let mynode=149.999.228.6;
options remote=mynode;</PRE>
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5"><A name="z1ript">Identifying a Script File for Signing On and Signing Off</A></FONT></B></TD></TR></TABLE>

<P>To use one of the sample
script files that is supplied with SAS/CONNECT for
signing on and signing off, assign the RLINK fileref to the appropriate script
file, based on the remote host that you are connecting to. The sample script
files are installed in your <B>prefix</B>.CTMISC data set. You must
customize the sample scripts to accurately reflect the logon processes at
your site. Failure to do so will produce errors.
<P>The fileref format follows:  



<PRE>FILENAME RLINK '&amp;<I>prefix</I>.CTMISC(<I>script-name</I>)';</PRE>
<P>where <B>script-name</B> identifies the script that corresponds
to the remote host that you want to connect to.
<P>The following table lists the scripts that are supplied by SAS Institute:

<P>
<TABLE cellpadding="6" cellspacing="0" border="1">
<CAPTION align="top"><B><I><A name="zenid-55">OS/390  TCP/IP SAS/CONNECT Sign-on Scripts</A></I></B></CAPTION>


<TR valign="bottom" bgcolor="#CCCCCC">
  <TH  align="LEFT" valign="BOTTOM" ><B>Remote Host </B></TH>
  <TH  align="LEFT" valign="BOTTOM" ><B>Script Name </B></TH>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">CMS </TD>
  
<TD  align="LEFT" valign="TOP">TCPCMS</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">CMS (using full-screen 3270  TELNET protocol)  </TD>
  
<TD  align="LEFT" valign="TOP">TCPCMS32</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">OS/390 (with TSO)</TD>
  
<TD  align="LEFT" valign="TOP">TCPTSO</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">OS/390 (without TSO) </TD>
  
<TD  align="LEFT" valign="TOP">TCPMVS</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">OS/390 (using full-screen 3270  TELNET protocol)  </TD>
  
<TD  align="LEFT" valign="TOP">TCPTSO32</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">OpenVMS </TD>
  
<TD  align="LEFT" valign="TOP">TCPVMS</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">OS/2 </TD>
  
<TD  align="LEFT" valign="TOP">TCPOS2</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">UNIX </TD>
  
<TD  align="LEFT" valign="TOP">TCPUNIX</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">Windows NT, Windows 95 , and Windows 98</TD>
  
<TD  align="LEFT" valign="TOP">TCPWIN</TD>
</TR>

</TABLE>

<BR>Example:  



<PRE>filename rlink '&amp;prefix.CTMISC.(tcpunix)';</PRE>
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5">Signing On to the Remote Host</FONT></B></TD></TR></TABLE>

<P>To
complete your sign on to the
remote host, enter the SIGNON statement, as follows:  



<PRE>signon user=_prompt_;</PRE>
<P>To set security at the remote host, specify valid values for the USER=
and PASSWORD= options in the SIGNON statement. For details, see <A href="z0216242.htm#z1252331">Providing Client Identification in a Version 8 Session</A>.
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5">Local Host Example</FONT></B></TD></TR></TABLE>

<P>The following example
illustrates the
statements that you specify in an OS/390 local host SAS session to connect
to a remote host with the TCP/IP access method.  



<PRE>filename rlink 'sas.ctmisc.tcpvms';
options comamid=tcp remote=rmthost;
signon user=_prompt_;</PRE>
<P>The first line identifies the script file that you use to sign on to
the OpenVMS remote host. The script file contains a prompt for a userid and
a password that are valid on the remote host. The TCP/IP communications access
method is declared with a connection to the remote host RMTHOST. The USER=
option in the SIGNON statement specifies that the connecting local host be
prompted for a userid and a password that are valid on the remote host.
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5">Remote Host Tasks</FONT></B></TD></TR></TABLE>

<DL>
<DT><B>System Administrator</B></DT>
<DD>You have two options:<P></DD>
</DL>

<OL START="1" type="1">
<LI>To allow a connection from a local host to an OS/390 remote host
that is running an OS/390 spawner, start the spawner program at the remote
OS/390 host. For information about how to start the spawner, see <A href="z0117320.htm">Spawner Programs</A>.<P>

<LI>
<P>To allow a connection from a local host to an OS/390 remote host without
running a TSO terminal monitor program, install the logon procedure on the
remote OS/390 host.<P>
</OL>

<P> If you are signing on to an OS/30 remote host with TSO, there are no
remote host tasks.
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5">Installing the Logon Procedure on the Remote Host</FONT></B></TD></TR></TABLE>

<P>For OS/390 remote
host connections, you can eliminate the need for TSO by replacing the terminal
monitor program (also called logon procedure) with a procedure that invokes
SAS with the options that you want. The benefits of this method are that signing
on and signing off an OS/390 remote host is much faster than running with
TSO, and you eliminate the overhead consumed by running TSO. However, a disadvantage
of running without TSO is that you cannot execute any X commands or TSO commands.
<P>In the following example, the logon procedure invokes SAS with the DMR
and the COMAMID=TCP options. When you log on to the OS/390 remote host, this
procedure is immediately run so that the current OS/390 account is limited
to running SAS each time that the current OS/390 account user logs on.  



<PRE>//JOBDL   PROC ENTRY=SASHOST,
//             OPTIONS=,
//             WORK='500,200'
//JOBDL   EXEC PGM=&amp;ENTRY,
// PARM='&amp;OPTIONS DMR COMAMID=TCP',REGION=4096K
//STEPLIB   DD DISP=SHR,DSN=&amp;prefix.TS450.LIBRARY
//CONFIG    DD DISP=SHR,DSN=&amp;prefix.TS450.CNTL(TSOXA)
//SASAUTOS  DD DISP=SHR,DSN=&amp;prefix.TS450.AUTOLIB
//SASHELP   DD DISP=SHR,DSN=&amp;prefix.TS450.SASHELP
//SASMSG    DD DISP=SHR,DSN=&amp;prefix.TS450.SASMSG
//WORK      DD UNIT=SYSDA,SPACE=(6144,(&amp;WORK),,,ROUND),
//             DCB=(RECFM=FS,DSORG=PS,LRECL=6144,BLKSIZE=6144)
//SASPARM   DD UNIT=SYSDA,SPACE=(400,(100,300)),
               DCB=(RECFM=FB,LRECL=80,BLKSIZE=400,BUFNO=1)</PRE>
<P>A script file is still required at the local host for sign on. However,
a SAS invocation is not included in the script file because the logon procedure
already performs SAS invocation.
<P>See <A href="zsanstso.htm">TCPMVS.SCR Script</A>
for the content of the script file.
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5">Remote Host Example</FONT></B></TD></TR></TABLE>

<P>You may set the following
variables
to restrict port access in the AUTOEXEC file:  



<PRE>options tcpportfirst=5020;
options tcpportlast=5050;</PRE>
<P>These statements restrict access to ports 5020 through 5050.

<P><!-- navigation -->
<P><TABLE cellpadding="0" cellspacing="0">
<TR valign="top">
<TD align="center">
<A href="z0382161.htm">
<IMG border="0" SRC="../common/images/cont1.gif"><BR><FONT size="-2">Chapter Contents</FONT></A></TD>
<TD align="center">
<A href="z0216242.htm">
<IMG border="0" src="../common/images/prev1.gif"><BR><FONT size="-2">Previous</FONT></A></TD>
<TD align="center">
<A href="z0140816.htm">
<IMG border="0" SRC="../common/images/next1.gif"><BR><FONT size="-2">Next</FONT></A></TD>
<TD align="center">
<A href="#z0363155">
<IMG border="0" SRC="../common/images/top1.gif"><BR><FONT size="-2">Top of Page</FONT></A></TD>
</TR></TABLE>
<P><FONT size=1><A href="../common/images/copyrite.htm">Copyright 1999 by SAS Institute Inc., Cary, NC, USA. All rights reserved.</A></FONT>
</BODY>
</HTML>