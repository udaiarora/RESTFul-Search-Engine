<HTML>
<HEAD>
<TITLE>Overview</TITLE>
<LINK REL="STYLESHEET" TYPE="text/css" HREF="../sas.css">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<!--Navigation Panel-->
<TABLE BORDER="0" CELLPADDING="0">
<TR VALIGN="TOP">
  <TD ALIGN="CENTER">
  <A NAME="topofpage" HREF="index.htm">
  <IMG BORDER="0" SRC="../../common/images/cont1.gif" ALT="Chapter Contents" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Chapter Contents</FONT></A></TD>
  <TD ALIGN=CENTER>
  <A HREF="sect2.htm"><IMG BORDER="0" SRC="../../common/images/prev1.gif" ALT="Previous" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Previous</FONT></A></TD>
  <TD ALIGN=CENTER>
  <A HREF="sect4.htm"><IMG BORDER="0" SRC="../../common/images/next1.gif" ALT="Next" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Next</FONT></A></TD>
</TR>
</TABLE>
<TABLE BGCOLOR="#CCCC99" WIDTH="100%" CELLPADDING=4>
<TR>
  <TD VALIGN=MIDDLE CLASS="chaphead"><I><FONT SIZE="2">SAS Macros and Functions</FONT></I></TD>
</TR>
</TABLE><BR>
<P><!--End of Navigation Panel-->
<H2>Overview  </H2>
<P>Transformations of the dependent variable are a useful way of
dealing with nonlinear relationships or heteroscedasticity.
For example, the logarithmic transformation is often used
for modeling and forecasting time series that show
exponential growth or that show variability proportional to
the level of the series.
<P>The Box-Cox transformation is a general class of power transformations
that include the log transformation and no-transformation as
special cases.
The Box-Cox transformation is
<DL CLASS="equation"><DD><IMG WIDTH="224" HEIGHT="117" ALIGN="left"
 SRC="images/maceq1.gif"
 ALT="Y_{t} = \cases{
 \frac{(X_{t}+c)^{{\lambda}}-1}{{\lambda}}
 & \rm{for }{\lambda}{\neq}0\space \cr
 {\ln}(X_{t}+c) & \rm{for }{\lambda}=0\cr}"><BR CLEAR="ALL">
</DL>
The parameter <IMG WIDTH="14" HEIGHT="16" ALIGN="BOTTOM" BORDER="0"
 SRC="images/maceq2.gif"
 ALT="{\lambda}"> controls the shape of the transformation.
For example, <IMG WIDTH="14" HEIGHT="16" ALIGN="BOTTOM" BORDER="0"
 SRC="images/maceq2.gif"
 ALT="{\lambda}">=0 produces a log transformation,
while <IMG WIDTH="14" HEIGHT="16" ALIGN="BOTTOM" BORDER="0"
 SRC="images/maceq2.gif"
 ALT="{\lambda}">=.5 results in a square root transformation.
When <IMG WIDTH="14" HEIGHT="16" ALIGN="BOTTOM" BORDER="0"
 SRC="images/maceq2.gif"
 ALT="{\lambda}">=1 the transformed series differs from the original
series by <SPAN CLASS="mathfont"><I>c</I>-1</SPAN>.
<P>The constant <I>c</I> is optional.
It can be used when some <SPAN CLASS="mathfont"><I>X</I><SUB><I>t</I></SUB></SPAN> values are negative or 0.
You choose <I>c</I> so that the series <SPAN CLASS="mathfont"><I>X</I><SUB><I>t</I></SUB></SPAN>
is always greater than <SPAN CLASS="mathfont">- <I>c</I></SPAN>.
<P>The %BOXCOXAR macro tries a range of <IMG WIDTH="14" HEIGHT="16" ALIGN="BOTTOM" BORDER="0"
 SRC="images/maceq2.gif"
 ALT="{\lambda}"> values and
reports which of the values tried produces the optimal Box-Cox transformation.
To evaluate different <IMG WIDTH="14" HEIGHT="16" ALIGN="BOTTOM" BORDER="0"
 SRC="images/maceq2.gif"
 ALT="{\lambda}"> values,
the %BOXCOXAR macro transforms the series with each <IMG WIDTH="14" HEIGHT="16" ALIGN="BOTTOM" BORDER="0"
 SRC="images/maceq2.gif"
 ALT="{\lambda}"> value
and fits an autoregressive model to the transformed series.
It is assumed that this autoregressive model is a reasonably good
approximation to the true time series model appropriate
for the transformed series.
The likelihood of the data under each autoregressive model is computed,
and the <IMG WIDTH="14" HEIGHT="16" ALIGN="BOTTOM" BORDER="0"
 SRC="images/maceq2.gif"
 ALT="{\lambda}"> value producing the maximum likelihood over
the values tried is reported as the optimal Box-Cox transformation
for the series.
<P>The %BOXCOXAR macro prints and optionally writes to a SAS data set
all of the <IMG WIDTH="14" HEIGHT="16" ALIGN="BOTTOM" BORDER="0"
 SRC="images/maceq2.gif"
 ALT="{\lambda}"> values tried and the corresponding
log likelihood value and related statistics
for the autoregressive model.
<P>You can control the range and number of <IMG WIDTH="14" HEIGHT="16" ALIGN="BOTTOM" BORDER="0"
 SRC="images/maceq2.gif"
 ALT="{\lambda}"> values tried.
You can also control the order of the autoregressive models fit to the
transformed series.
You can difference the transformed series before the autoregressive
model is fit.
<P>
<!--Navigation Panel-->
<TABLE BORDER="0" CELLPADDING="0">
<TR VALIGN="TOP">
  <TD ALIGN="CENTER">
  <A HREF="index.htm">
  <IMG BORDER="0" SRC="../../common/images/cont1.gif" ALT="Chapter Contents" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Chapter Contents</FONT></A></TD>
  <TD ALIGN=CENTER>
  <A HREF="sect2.htm"><IMG BORDER="0" SRC="../../common/images/prev1.gif" ALT="Previous" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Previous</FONT></A></TD>
  <TD ALIGN=CENTER>
  <A HREF="sect4.htm"><IMG BORDER="0" SRC="../../common/images/next1.gif" ALT="Next" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Next</FONT></A></TD>
  <TD ALIGN=CENTER>
  <A HREF="#topofpage">
  <IMG BORDER="0" SRC="../../common/images/top1.gif" ALT="Top" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Top</FONT></A></TD>
</TR>
</TABLE>
<P><!--End of Navigation Panel-->
<P><FONT SIZE="1"><A HREF="../../common/images/copyrite.htm">Copyright &copy; 1999 by SAS Institute Inc., Cary, NC, USA. All rights reserved.</A></FONT>
</BODY>
</HTML>
