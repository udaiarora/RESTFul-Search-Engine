<HTML>
<HEAD>
<TITLE>Predicted Values</TITLE>
<LINK REL="STYLESHEET" TYPE="text/css" HREF="../sas.css">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<!--Navigation Panel-->
<TABLE BORDER="0" CELLPADDING="0">
<TR VALIGN="TOP">
  <TD ALIGN="CENTER">
  <A NAME="topofpage" HREF="index.htm">
  <IMG BORDER="0" SRC="../../common/images/cont1.gif" ALT="Chapter Contents" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Chapter Contents</FONT></A></TD>
  <TD ALIGN=CENTER>
  <A HREF="sect25.htm"><IMG BORDER="0" SRC="../../common/images/prev1.gif" ALT="Previous" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Previous</FONT></A></TD>
  <TD ALIGN=CENTER>
  <A HREF="sect27.htm"><IMG BORDER="0" SRC="../../common/images/next1.gif" ALT="Next" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Next</FONT></A></TD>
</TR>
</TABLE>
<TABLE BGCOLOR="#CCCC99" WIDTH="100%" CELLPADDING=4>
<TR>
  <TD VALIGN=MIDDLE CLASS="chaphead"><I><FONT SIZE="2">The AUTOREG Procedure</FONT></I></TD>
</TR>
</TABLE><BR>
<P><!--End of Navigation Panel-->
<H2>Predicted Values  </H2>
<P>The AUTOREG procedure can produce two kinds of predicted
values for the response series
and corresponding residuals and confidence limits.
The residuals in both cases are computed as the actual value
minus the predicted value.
In addition, when GARCH models are estimated,
the AUTOREG procedure can output predictions of
the conditional error variance.
<A NAME="idxaut0269">&#13;</A><A NAME="idxaut0268">&#13;</A><H3><I>Predicting the Unconditional Mean</I></H3>
<A NAME="idxaut0271">&#13;</A><A NAME="idxaut0270">&#13;</A>The first type of predicted value
is obtained from only the structural part of the model,
<SPAN CLASS="mathfont"><b>x</b><sub><I>t</I></sub>'<b>b</b></SPAN>. These are useful in
predicting values of new response time series, which are assumed to be
described by the same model as the current response time series.
The predicted values, residuals, and upper and lower confidence
limits
for the structural predictions are requested by specifying the
PREDICTEDM=, RESIDUALM=, UCLM=, or LCLM= options in the OUTPUT
statement.
The ALPHACLM= option controls the confidence level
for UCLM= and LCLM=. These confidence limits are for
estimation of the mean of the dependent variable,
<SPAN CLASS="mathfont"><b>x</b><sub><I>t</I></sub>'<b>b</b></SPAN>,
where <SPAN CLASS="mathfont"><b>x</b><sub><I>t</I></sub></SPAN>
is the column vector of independent variables at observation <I>t</I>.
<P>The predicted values are computed as
<A NAME="idxaut0273">&#13;</A><A NAME="idxaut0272">&#13;</A>
<DL CLASS="equation"><DD><IMG WIDTH="66" HEIGHT="75"
 SRC="images/auteq243.gif"
 ALT="\hat{y}_{t}=x_{t}'b"></DL>
<P>and the upper and lower confidence limits as
<P>
<DL CLASS="equation"><DD><IMG WIDTH="117" HEIGHT="75"
 SRC="images/auteq244.gif"
 ALT="\hat{u}_{t}= \hat{y}_{t}+ t_{{\alpha}/2 }\rm{v}"></DL>

<DL CLASS="equation"><DD><IMG WIDTH="112" HEIGHT="80"
 SRC="images/auteq245.gif"
 ALT="\hat{l}_{t}= \hat{y}_{t}- t_{{\alpha}/2 }\rm{v}"></DL>
<P>where  v<SPAN CLASS="mathfont"><SUP>2</SUP></SPAN> is an estimate of the variance of
<IMG WIDTH="18" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="images/auteq36.gif"
 ALT="{ \hat{y}_{t}}"> and <IMG WIDTH="34" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="images/auteq246.gif"
 ALT="{t_{{\alpha}/2}}"> is the upper
<IMG WIDTH="15" HEIGHT="16" ALIGN="BOTTOM" BORDER="0"
 SRC="images/auteq188.gif"
 ALT="{\alpha}">/2 percentage point of the <I>t</I> distribution.
<P>
<DL CLASS="equation"><DD><IMG WIDTH="174" HEIGHT="76"
 SRC="images/auteq247.gif"
 ALT="\rm{Prob}(T \gt t_{{\alpha}/2})={\alpha}/2"></DL>
<P>where <I>T</I> is an observation from a <I>t</I> distribution
with <I>q</I> degrees of freedom.
The value of <IMG WIDTH="15" HEIGHT="16" ALIGN="BOTTOM" BORDER="0"
 SRC="images/auteq188.gif"
 ALT="{\alpha}"> can be set with the ALPHACLM= option.
The degrees of freedom parameter, <I>q</I>, is taken to be the number of
observations minus the number of free parameters in the
regression and autoregression parts of the model. For the
YW estimation method, the value of v is calculated as
<P>
<DL CLASS="equation"><DD><IMG WIDTH="206" HEIGHT="89"
 SRC="images/auteq248.gif"
 ALT="\rm{v}=\sqrt{s^2{x}_{t}'
(X'V^{-1}X)^{-1}x_{t} }"></DL>
<P>where <SPAN CLASS="mathfont"><I>s<SUP>2</SUP></I></SPAN> is the error sum of squares divided by <I>q</I>.
For the ULS and ML methods, it is calculated as
<P>
<DL CLASS="equation"><DD><IMG WIDTH="124" HEIGHT="89"
 SRC="images/auteq249.gif"
 ALT="\rm{v}=\sqrt{ s^2{x}_{t}'{Wx}_{t} }"></DL>
<P>where  <B>W</B> is the  <SPAN CLASS="mathfont"><I>k</I>&times;<I>k</I></SPAN>
submatrix of <SPAN CLASS="mathfont">(<b>J</b>'<b>J</b>)<sup>-1 </sup></SPAN>
that corresponds to the regression parameters.
For details, see &#34;Computational Methods&#34; earlier in this chapter.
<P><H3><I>Predicting Future Series Realizations</I></H3>
<A NAME="idxaut0275">&#13;</A><A NAME="idxaut0274">&#13;</A>The other predicted values use both the structural part of the model and
the predicted values of the error process. These conditional mean
values are useful in
predicting future values of the current response time series.
The predicted values, residuals, and upper and lower confidence limits
for future observations conditional on past values are requested by
the PREDICTED=, RESIDUAL=, UCL=, or LCL= options in the
OUTPUT statement.
The ALPHACLI= option controls the confidence level for UCL= and LCL=.
These confidence limits are for the predicted value,
<P>
<DL CLASS="equation"><DD><IMG WIDTH="129" HEIGHT="78"
 SRC="images/auteq250.gif"
 ALT="\tilde{y}_{t}=x_{t}'b+ {\nu}_{t| t-1}"></DL>
<P>where <SPAN CLASS="mathfont"><b>x</b><sub><I>t</I></sub></SPAN> is the vector of
independent variables and <IMG WIDTH="45" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="images/auteq251.gif"
 ALT="{ {\nu}_{t| t-1}}"> is
the minimum variance linear predictor of the error term given
the available past values of <IMG WIDTH="178" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="images/auteq252.gif"
 ALT="{{\nu}_{t-j},j=1,2, { ... }, t-1}">, and the autoregressive
<P>model for <IMG WIDTH="18" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="images/auteq16.gif"
 ALT="{{\nu}_{t}}">.
If the <I>m</I> previous values of the structural residuals are available, then
<P>
<DL CLASS="equation"><DD><IMG WIDTH="259" HEIGHT="75"
 SRC="images/auteq253.gif"
 ALT="{\nu}_{t| t-1}=- \hat{{\varphi}}_{1} {\nu}_{t-1}-
{ ... } - \hat{{\varphi}}_{m} {\nu}_{t-m}"></DL>
<P>where
<IMG WIDTH="86" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="images/auteq254.gif"
 ALT="{ \hat{{\varphi}}_{1}, { ... } , \hat{{\varphi}}_{m}}">
are the estimated AR parameters.
The upper and lower confidence limits are computed as
<P>
<DL CLASS="equation"><DD><IMG WIDTH="117" HEIGHT="75"
 SRC="images/auteq255.gif"
 ALT="\tilde{u}_{t}=
 \tilde{y}_{t}+
 t_{{\alpha}/2}\rm{v}"></DL>

<DL CLASS="equation"><DD><IMG WIDTH="112" HEIGHT="80"
 SRC="images/auteq256.gif"
 ALT="\tilde{l}_{t}=
 \tilde{y}_{t}- t_{{\alpha}/2}\rm{v}"></DL>
<P>where v, in this case, is computed as
<P>
<DL CLASS="equation"><DD><IMG WIDTH="250" HEIGHT="89"
 SRC="images/auteq257.gif"
 ALT="\rm{v}=\sqrt{ s^2(x_{t}'
({X'V}^{-1}X)^{-1}x_{t}+r) }"></DL>
<P>where the value <SPAN CLASS="mathfont"><I>rs<SUP>2</SUP></I></SPAN> is the estimate of the variance of
<IMG WIDTH="45" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="images/auteq251.gif"
 ALT="{ {\nu}_{t| t-1}}">.
At the start of the series, and
after missing values, <I>r</I> is generally greater than 1.
See &#34;Predicting the Conditional Variance&#34; for computational details of <I>r</I>.
The plot of residuals and confidence limits in
<A HREF="sect35.htm">Example 8.4</A> later in this chapter illustrates this behavior.
<P>Except to adjust the degrees of freedom for the error sum of squares,
the preceding formulas do not account for the fact that the autoregressive
parameters are estimated. In particular, the confidence limits are
likely to be somewhat too narrow.
In large samples, this is probably not an important effect,
but it may be appreciable in small samples.
Refer to Harvey (1981) for some discussion of this problem for AR(1) models.
<P>Note that at the beginning of the series
(the first <I>m</I> observations, where <I>m</I> is the value of the NLAG= option)
and after missing values, these residuals do not match the residuals
obtained by using OLS on the transformed variables.
This is because, in these cases, the predicted noise values must be based
on less than a complete set of past noise values and, thus, have
larger variance. The GLS transformation for these observations
includes a scale factor as well as a linear combination of past values.
Put another way, the  <SPAN CLASS="mathfont"><b>L</b><sup>-1</sup></SPAN> matrix defined in the section
&#34;Computational Methods&#34; has the value 1 along the diagonal,
except for the first <I>m</I> observations and after missing values.
<P><H3><I>Predicting the Conditional Variance</I></H3>
<A NAME="idxaut0277">&#13;</A><A NAME="idxaut0276">&#13;</A><A NAME="idxaut0279">&#13;</A><A NAME="idxaut0278">&#13;</A><A NAME="idxaut0281">&#13;</A><A NAME="idxaut0280">&#13;</A>The GARCH process can be written
<P>
<DL CLASS="equation"><DD><IMG WIDTH="336" HEIGHT="113"
 SRC="images/auteq258.gif"
 ALT="{\epsilon}^2_{t} = {\omega} + \sum_{i=1}^n{( {\alpha}_{i}+ {\gamma}_{i}) {\epsilon}^2_{t-i}} - \sum_{j=1}^p{{\gamma}_{j}
 {\eta}_{t-j}} + {\eta}_{t}"></DL>
<P>where <IMG WIDTH="96" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="images/auteq259.gif"
 ALT="{ {\eta}_{t}= {\epsilon}^2_{t}- h_{t}}">and <SPAN CLASS="mathfont"><I>n</I> = max(<I>p</I>,<I>q</I>)</SPAN>. This representation shows that the squared residual
 <IMG WIDTH="19" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="images/auteq260.gif"
 ALT="{\epsilon}^2_{t}"> follows an ARMA(<I>n</I>,<I>p</I>) process.
Then for any <SPAN CLASS="mathfont"><I>d</I> &#62; 0</SPAN>, the conditional expectations are as follows:
<P>
<DL CLASS="equation"><DD><IMG WIDTH="511" HEIGHT="113"
 SRC="images/auteq261.gif"
 ALT="E( {\epsilon}^2_{t+d}| {\Psi}_{t}) =
{\omega} + \sum_{i=1}^n{( {\alpha}_{i}+ {\...
 ...-i}| {\Psi}_{t})} -
\sum_{j=1}^p{{\gamma}_{j}E
( {\eta}_{t+d-j}| {\Psi}_{t})}"></DL>
<P>The <I>d</I>-step-ahead prediction error,
 <IMG WIDTH="36" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="images/auteq262.gif"
 ALT="{\xi}_{t+d}"> = <SPAN CLASS="mathfont"><I>y</I><SUB><I>t</I>+<I>d</I></SUB> - <I>y</I><SUB><I>t</I>+<I>d</I>|<I>t</I></SUB></SPAN>,
has the conditional variance
<P>
<DL CLASS="equation"><DD><IMG WIDTH="216" HEIGHT="116"
 SRC="images/auteq263.gif"
 ALT="V( {\xi}_{t+d}| {\Psi}_{t}) = \sum_{j=0}^{d-1}{g^2_{j} {\sigma}^2_{t+d-j| t}}"></DL>
<P>where
<P>
<DL CLASS="equation"><DD><IMG WIDTH="184" HEIGHT="80"
 SRC="images/auteq264.gif"
 ALT="{\sigma}^2_{t+d-j| t} =
E( {\epsilon}^2_{t+d-j}| {\Psi}_{t})"></DL>
<P>Coefficients in the conditional <I>d</I>-step prediction error variance are
calculated recursively using the following formula:
<P>
<DL CLASS="equation"><DD><IMG WIDTH="237" HEIGHT="72"
 SRC="images/auteq265.gif"
 ALT="g_{j} = - {\varphi}_{1} g_{j-1} - { ... } -
 {\varphi}_{m} g_{j-m}"></DL>
<P>where <SPAN CLASS="mathfont"> <I>g<SUB>0</SUB></I>=1</SPAN> and <SPAN CLASS="mathfont"> <I>g</I><SUB><I>j</I></SUB>=0 </SPAN> if <SPAN CLASS="mathfont"><I>j</I>&#60;0</SPAN>;
 <IMG WIDTH="23" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="images/auteq266.gif"
 ALT="{\varphi}_{1}">, <SPAN CLASS="mathfont">...</SPAN>,  <IMG WIDTH="29" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="images/auteq267.gif"
 ALT="{\varphi}_{m}"> are autoregressive
parameters.
Since the parameters are not known, the conditional variance is computed
using the estimated autoregressive parameters.
The <I>d</I>-step-ahead prediction error variance is simplified when there are
no autoregressive terms:
<P>
<DL CLASS="equation"><DD><IMG WIDTH="152" HEIGHT="80"
 SRC="images/auteq268.gif"
 ALT="V( {\xi}_{t+d}| {\Psi}_{t}) =
 {\sigma}^2_{t+d| t}"></DL>
<P>Therefore, the one-step-ahead prediction error variance is equivalent
to the conditional error variance defined in the GARCH process:

<DL CLASS="equation"><DD><IMG WIDTH="191" HEIGHT="80"
 SRC="images/auteq269.gif"
 ALT="h_{t} = E( {\epsilon}^2_{t}|
 {\Psi}_{t-1}) = {\sigma}^2_{t| t-1}"></DL>
<P>Note that the conditional prediction error variance of the EGARCH and
GARCH-M models cannot be calculated using the preceding
formula. Therefore, the confidence intervals for the predicted values
are computed assuming the homoscedastic conditional error
variance. That is, the conditional prediction error variance is
identical to the unconditional prediction error variance:
<P>
<DL CLASS="equation"><DD><IMG WIDTH="264" HEIGHT="116"
 SRC="images/auteq270.gif"
 ALT="V( {\xi}_{t+d}| {\Psi}_{t}) = V( {\xi}_{t+d})
 = {\sigma}^2\sum_{j=0}^{d-1}{g^2_{j}}"></DL>
<P>since <IMG WIDTH="108" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="images/auteq271.gif"
 ALT="{ {\sigma}^2_{t+d-j| t} = {\sigma}^2}">.
You can compute <SPAN CLASS="mathfont"><I>s<SUP>2</SUP></I><I>r</I></SPAN>, which is the second term of the variance for the predicted value
<IMG WIDTH="18" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="images/auteq272.gif"
 ALT="{\tilde{y}_{t}}"> explained previously in &#34;Predicting Future Series Realizations,&#34;
using the formula
<IMG WIDTH="91" HEIGHT="41" ALIGN="MIDDLE" BORDER="0"
 SRC="images/auteq273.gif"
 ALT="{ {\sigma}^2\sum_{j=0}^{d-1}{g^2_{j}}}">;
<I>r</I> is estimated from
<IMG WIDTH="69" HEIGHT="41" ALIGN="MIDDLE" BORDER="0"
 SRC="images/auteq274.gif"
 ALT="{\sum_{j=0}^{d-1}{g^2_{j}}}">
using the estimated autoregressive parameters.
<P>Consider the following conditional prediction error variance:

<DL CLASS="equation"><DD><IMG WIDTH="362" HEIGHT="116"
 SRC="images/auteq275.gif"
 ALT="V( {\xi}_{t+d}| {\Psi}_{t}) = {\sigma}^2
\sum_{j=0}^{d-1}{g^2_{j}} +
\sum_{j=0}^{d-1}{g^2_{j}
( {\sigma}^2_{t+d-j| t}}
- {\sigma}^2)"></DL>
<P>The second term in the preceding equation can be interpreted as the noise
from using the homoscedastic conditional variance when the errors follow
the GARCH process. However, it is expected that if the GARCH process is
covariance stationary, the difference between
the conditional prediction error variance and the unconditional prediction
error variance disappears as the forecast horizon <I>d</I> increases.
<P>
<!--Navigation Panel-->
<TABLE BORDER="0" CELLPADDING="0">
<TR VALIGN="TOP">
  <TD ALIGN="CENTER">
  <A HREF="index.htm">
  <IMG BORDER="0" SRC="../../common/images/cont1.gif" ALT="Chapter Contents" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Chapter Contents</FONT></A></TD>
  <TD ALIGN=CENTER>
  <A HREF="sect25.htm"><IMG BORDER="0" SRC="../../common/images/prev1.gif" ALT="Previous" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Previous</FONT></A></TD>
  <TD ALIGN=CENTER>
  <A HREF="sect27.htm"><IMG BORDER="0" SRC="../../common/images/next1.gif" ALT="Next" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Next</FONT></A></TD>
  <TD ALIGN=CENTER>
  <A HREF="#topofpage">
  <IMG BORDER="0" SRC="../../common/images/top1.gif" ALT="Top" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Top</FONT></A></TD>
</TR>
</TABLE>
<P><!--End of Navigation Panel-->
<P><FONT SIZE="1"><A HREF="../../common/images/copyrite.htm">Copyright &copy; 1999 by SAS Institute Inc., Cary, NC, USA. All rights reserved.</A></FONT>
</BODY>
</HTML>
