<HTML>
<HEAD>
<TITLE>Subsetting SAS Data Sets</TITLE>
<LINK REL="STYLESHEET" TYPE="text/css" HREF="../sas.css">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<!--Navigation Panel-->
<TABLE BORDER="0" CELLPADDING="0">
<TR VALIGN="TOP">
  <TD ALIGN="CENTER">
  <A NAME="topofpage" HREF="index.htm">
  <IMG BORDER="0" SRC="../../common/images/cont1.gif" ALT="Chapter Contents" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Chapter Contents</FONT></A></TD>
  <TD ALIGN=CENTER>
  <A HREF="sect10.htm"><IMG BORDER="0" SRC="../../common/images/prev1.gif" ALT="Previous" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Previous</FONT></A></TD>
  <TD ALIGN=CENTER>
  <A HREF="sect12.htm"><IMG BORDER="0" SRC="../../common/images/next1.gif" ALT="Next" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Next</FONT></A></TD>
</TR>
</TABLE>
<TABLE BGCOLOR="#CCCC99" WIDTH="100%" CELLPADDING=4>
<TR>
  <TD VALIGN=MIDDLE CLASS="chaphead"><I><FONT SIZE="2">Working with Time Series Data</FONT></I></TD>
</TR>
</TABLE><BR>
<P><!--End of Navigation Panel-->
<H2>Subsetting SAS Data Sets  </H2>
<P>To create a subset data set, specify the name of the subset data set
on the DATA statement, bring in the full data set with a SET statement,
and specify the subsetting criteria with either subsetting IF statements
or WHERE statements.
<P>For example, suppose you have a data set containing time series
observations for each of several states.
The following DATA step
uses a WHERE statement to exclude observations with dates before 1970
and uses a subsetting IF statement to select observations for the state NC:
<A NAME="idxtsd0059">&#13;</A><A NAME="idxtsd0060">&#13;</A><PRE>
   data subset;
      set full;
      where date &#62;= '1jan1970'd;
      if state = 'NC';
   run;
</PRE>
<P>In this case,
it makes no difference logically whether the WHERE statement or the IF statement is used,
and you can combine several conditions on one subsetting statement.
The following statements produce the same results as the previous example:
<P><PRE>
   data subset;
      set full;
      if date &#62;= '1jan1970'd &#38; state = 'NC';
   run;
</PRE>
<P>The WHERE statement acts on the input data sets specified in the SET statement
before observations are processed by the DATA step program,
whereas the IF statement is executed as part of the DATA step program.
If the input data set is indexed,
using the WHERE statement can be more efficient than using the IF statement.
However, the WHERE statement can only refer to variables
in the input data set, not to variables computed by the DATA step program.
<P>To subset the variables of a data set, use KEEP or DROP statements or
use KEEP= or DROP= data set options.
Refer to <I>SAS Language: Reference</I> for information on
KEEP and DROP statements and SAS data set options.
<A NAME="idxtsd0061">&#13;</A><A NAME="idxtsd0062">&#13;</A>For example, suppose you want to subset the data set as in the
preceding example, but you want to include in the subset data set
only the variables DATE, X, and Y.
You could use the following statements:
<P><PRE>
   data subset;
      set full;
      if date &#62;= '1jan1970'd &#38; state = 'NC';
      keep date x y;
   run;
</PRE>
<P>
<!--Navigation Panel-->
<TABLE BORDER="0" CELLPADDING="0">
<TR VALIGN="TOP">
  <TD ALIGN="CENTER">
  <A HREF="index.htm">
  <IMG BORDER="0" SRC="../../common/images/cont1.gif" ALT="Chapter Contents" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Chapter Contents</FONT></A></TD>
  <TD ALIGN=CENTER>
  <A HREF="sect10.htm"><IMG BORDER="0" SRC="../../common/images/prev1.gif" ALT="Previous" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Previous</FONT></A></TD>
  <TD ALIGN=CENTER>
  <A HREF="sect12.htm"><IMG BORDER="0" SRC="../../common/images/next1.gif" ALT="Next" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Next</FONT></A></TD>
  <TD ALIGN=CENTER>
  <A HREF="#topofpage">
  <IMG BORDER="0" SRC="../../common/images/top1.gif" ALT="Top" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Top</FONT></A></TD>
</TR>
</TABLE>
<P><!--End of Navigation Panel-->
<P><FONT SIZE="1"><A HREF="../../common/images/copyrite.htm">Copyright &copy; 1999 by SAS Institute Inc., Cary, NC, USA. All rights reserved.</A></FONT>
</BODY>
</HTML>
