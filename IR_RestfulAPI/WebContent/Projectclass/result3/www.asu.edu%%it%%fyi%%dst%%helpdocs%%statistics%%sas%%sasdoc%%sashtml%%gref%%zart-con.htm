<HTML>
<!-- This page produced Fri Jul  9 14:14:38 EDT 1999
 -->
<!-- Used program version 1.118.1.2 from beta -->
<HEAD>
<!-- <META http-equiv="Content-Type" content="text/html; charset="> -->
<TITLE>The GCHART Procedure : Concepts </TITLE></HEAD>
<BODY bgcolor="#FFFFFF">
<!-- navigation -->
<TABLE cellpadding="0" cellspacing="0">
<TR valign="top">
<TD align="center">
<A href="z0723580.htm">
<IMG border="0" SRC="../common/images/cont1.gif"><BR><FONT size="-2">Chapter Contents</FONT></A></TD>
<TD align="center">
<A href="z-gchart.htm">
<IMG border="0" src="../common/images/prev1.gif"><BR><FONT size="-2">Previous</FONT></A></TD>
<TD align="center">
<A href="zart-syn.htm">
<IMG border="0" SRC="../common/images/next1.gif"><BR><FONT size="-2">Next</FONT></A></TD>
</TR></TABLE>
<!-- running head -->
<TABLE width="100%" cellpadding="4">
<TR valign="MIDDLE">
<TD bgcolor="#CCCC99"><I><FONT size="2">The GCHART Procedure</FONT></I></TD>
</TR>
</TABLE><H1><FONT size="5"><A name="zart-con">Concepts</A></FONT></H1>


<P><A name="z0754816">&#13;   The GCHART
procedure produces charts based on the values of a <B>chart variable</B>.
These values are represented by a set of <B>midpoints</B>. The chart
itself displays information about the chart variable in the form of <B>chart statistics</B>.</A>
<P><A name="z0754817">&#13; 
</A><A href="#z-terms1">Terms Used with Bar Charts</A>
and <A href="#z-terms2">Terms Used with Pie and Donut Charts</A>
illustrate these terms as well as other terms used with the GCHART procedure. 
<P>
<B><I><A name="z-terms1">Terms Used with Bar Charts</A></I></B><BR>


<P><IMG border="0" src="./images/01329244.gif" vspace="12" alt="[IMAGE]">
<P>
<P> Bar
charts have two axes: a midpoint axis that shows
the categories of data, and a response axis that displays the scale of values
for the chart statistic. The response axis is divided into evenly spaced intervals
identified with major tick marks that are labeled with the corresponding statistic
value.  Minor tick marks are evenly distributed between the major tick marks.
 Each axis is labeled with the chart variable name or label.  The response
axis is also labeled with the statistic type. 
<P>
<B><I><A name="z-terms2">Terms Used with Pie and Donut Charts</A></I></B><BR>


<P><IMG border="0" src="./images/01329245.gif" vspace="12" alt="[IMAGE]">
<P>
<P>Pie charts show statistics based on values
of a variable
called the chart variable. Generally, the values of the chart variable are
represented by the slices in the chart. Next to each pie slice a number (or
character string) appears that identifies the value or range of values assigned
to that slice by the GCHART procedure. This number (or character string) is
known as the <B>midpoint</B> for that slice. The statistic value for
each midpoint is displayed beneath the midpoint. The slices in the chart represent
all the values of the chart variable included in the chart. The number of
degrees included in each slice represents the statistic value for the midpoint.
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5"><A name="zhartvar">About Chart Variables</A></FONT></B></TD></TR></TABLE>

<P><A name="z0754820">&#13; The <B>chart variable </B> is the
variable in the input
data set whose values determine the categories of data represented by the
bars, blocks, slices, or spines.  The chart variable generates the midpoints
to which each observation in the data set contribute.</A>
<P>The chart variable can be either character or numeric.
 Character chart variables contain character values, which are always discrete.
 Numeric chart variables fall into two categories: discrete and continuous. 
<P>
<UL>

<LI><A name="z0754822">&#13;
 <B>Discrete variables</B> contain a finite number of specific
numeric values that are to be represented on the chart.  For example, a variable
that contains years, such as 1984 or 2001, is a discrete variable.</A><P>

<LI><A name="z0754823">&#13;
 <B>Continuous variables</B> contain a range of numeric
values that are to be represented on the chart.  For example, a variable of
temperature data that contains real values between 0 and 212 is a continuous
variable.</A><P>
</UL>

<P>Numeric chart variables are always treated as continuous
variables unless the DISCRETE option is used in the action statement.
<BR><H3><A name="z0723581">Missing Values</A></H3>


<P><A name="z0754825">&#13;   By default, the GCHART procedure ignores
missing midpoint values for the chart variable.  If you specify the MISSING
option, missing values are treated as a valid midpoint and are included on
the chart. Missing values for the group and subgroup variables are always
treated as valid groups and subgroups.</A>
<P>When the value of the variable that is specified in
the FREQ= option is missing, 0, or negative, the observation is excluded from
the calculation of the chart statistic.
<P>When the value of the variable specified in the SUMVAR=
option is missing, the observation is excluded from the calculation of the
chart statistic.
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5"><A name="zdpoints">About Midpoints</A></FONT></B></TD></TR></TABLE>

<P><A name="z0754828">&#13; <B>Midpoints</B> are the values of the chart
variable
that identify categories of data.  By default, midpoints are selected or calculated
by the procedure. The way the procedure handles the midpoints depends on whether
the values of the chart variable are character, discrete numeric, or continuous
numeric.</A>
<BR><H3><A name="z0723582">Character Values</A></H3>


<P><A name="z0754829">&#13;  A character chart variable generates a
midpoint for each unique
value of the variable.  For example, if the chart variable CITY contains the
names of three different cities, each city is a midpoint, resulting in three
midpoints for the chart: </A>
<P>
<B><I><A name="zrt-fig3">Character Midpoints</A></I></B><BR>


<P><IMG border="0" src="./images/01329246.gif" vspace="12" alt="[IMAGE]">
<P>
<P>(In pie charts,
midpoint values that compose a small
percentage of the total for the chart may be placed in the OTHER slice and
will not produce a separate midpoint.)
<P>By default, character midpoints are arranged in alphabetic
order. If a character variable has an associated format, the values are arranged
in order of the formatted values.
<BR><H3><A name="z0723583">Discrete Numeric Values</A></H3>


<P><A name="z0754832">&#13;
 A numeric chart variable used
with the DISCRETE option generates a midpoint for each unique value of the
chart variable. For example, the numeric variable YEAR used with DISCRETE
produces one midpoint for each year: </A>
<P>
<B><I>Discrete Numeric Midpoints</I></B><BR>


<P><IMG border="0" src="./images/01329247.gif" vspace="12" alt="[IMAGE]">
<P>
<P>By
default, numeric midpoints are arranged in ascending
order. If the numeric variable has an associated format, each formatted value
generates a separate midpoint.  Formatted numeric variables are ordered by
the unformatted numeric values.
<BR><H3><A name="z0723584">Continuous Numeric Values</A></H3>


<P><A name="z0754834">&#13;
 A continuous numeric variable
generates midpoints that represent ranges of values.  By default, the GCHART
procedure determines the ranges, calculates the median value of each range,
and displays the appropriate median value at each midpoint on the chart. A
value that falls exactly halfway between two midpoints is placed in the higher
range.</A>
<P>For example, the numeric variable AGE produces four
midpoints, each of which represents a ten-year age range; the median value
of the range is displayed at each midpoint: 
<P>
<B><I>Continuous Numeric Midpoints</I></B><BR>


<P><IMG border="0" src="./images/01329248.gif" vspace="12" alt="[IMAGE]">
<P>
<P>By
default, midpoints of ranges are arranged in ascending
order.
<BR><H3><A name="z0723585">Selecting and Ordering Midpoints</A></H3>


<P><A name="z0754837">&#13; For character or
discrete numeric values, you can use the MIDPOINTS=
option to rearrange the midpoints or to exclude midpoints from the chart.
 For example, to change the default alphabetic order of the midpoints in </A><A href="#zrt-fig3">Character Midpoints</A>, specify
 



<PRE>midpoints='Tokyo' 'Denver' 'Seattle'</PRE>
<P>To exclude the midpoint for Denver, specify  



<PRE>midpoints='Tokyo' 'Seattle'</PRE>
<P>In this case, values excluded by the option are not
included in the calculation of the chart statistic.
<P>You can order or select discrete numeric midpoint values
just as you do character values, but you omit the quotation marks when specifying
numeric values.
<P>For continuous numeric variables, use the LEVELS= or
MIDPOINTS= option to change the number of midpoints, to control the range
of values each midpoint represents, or to change the order of the midpoints.
To control the range of values each midpoint represents, use the MIDPOINTS=
option to specify the median value of each range.  For example, to select
the ranges 20-29, 30-39, and 40-49, specify  



<PRE>midpoints=25 35 45</PRE>
<P>Alternatively, to select the number of midpoints that
you want and let the procedure calculate the ranges and medians, use the LEVELS=
option.
<P>You can also use formats to control the ranges of continuous
numeric variables, but in that case the values are no longer continuous but
discrete. 
<P><B>Note:</B>&nbsp;&nbsp;&nbsp;You cannot use MIDPOINTS= to exclude
continuous numeric values from the chart because values below or above the
ranges specified by the option are automatically included in the first and
last midpoints, respectively.  To exclude continuous numeric values from a
chart, use a WHERE statement in a DATA step or the WHERE= DATA set option.&nbsp;&nbsp;<IMG border="0" src="../common/images/cautend.gif" alt="[cautionend]" align="bottom"><BR>
<P>See also the description of the LEVELS= and MIDPOINTS=
options for the appropriate statement.
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5"><A name="zrt-stat">About Chart Statistics</A></FONT></B></TD></TR></TABLE>

<P><A name="z0754846">&#13;
The <B>chart statistic</B> is the statistical value calculated for the
chart variable and represented by each block, bar, or slice.  The GCHART procedure
calculates six chart statistics; the default statistic is frequency.</A>
<P>The examples given in the descriptions of these statistics
assume a data set with two variables, CITY and SALES. The values of CITY are <B>Denver</B>, <B>Seattle</B>, and <B>Tokyo</B>. There are 21
observations: seven for Denver, nine for Seattle, and five for Tokyo.
<BR><H3><A name="z0723586">Frequency</A></H3>


<P><A name="z0754848">&#13;  The frequency statistic is the total number of observations
in the data set for each midpoint.  For example, seven observations of the
chart variable, CITY, contain the value <B>Denver</B>, so the frequency
for the <B>Denver</B>  midpoint is 7.</A>
<BR><H3><A name="z0723587">Cumulative Frequency</A></H3>


<P><A name="z0754849">&#13;
 The cumulative frequency statistic adds the frequency
for the current midpoint to the frequency of all of the preceding midpoints.
For example, the frequency for the <B>Denver</B>  midpoint is 7, and
the frequency for the next midpoint, <B>Seattle</B>, is 9, so the cumulative
frequency for <B>Seattle</B>  is 16.</A>
<P>You cannot request cumulative frequency with the DONUT,
PIE, PIE3D, or STAR statements.
<BR><H3><A name="z0723588">Percentage</A></H3>


<P><A name="z0754851">&#13;  The percentage statistic is calculated by dividing the
frequency for each midpoint by the total frequency count for all midpoints
in the chart or group and multiplying it by 100.  For example, the frequency
count for the <B>Denver</B> midpoint is 7 and the total frequency count
for the chart is 21, so the percentage statistic for <B>Denver</B> is
33.3%.</A>
<BR><H3><A name="z0723589">Cumulative Percentage</A></H3>


<P><A name="z0754852">&#13;
 The cumulative percentage statistic adds the percentage
for the current midpoint to the percentage for all of the preceding midpoints
in the chart or group. For example, the percentage for the <B>Denver</B>
 midpoint is 33.3, and the percentage for the next midpoint, <B>Seattle</B>, is 42.9, so the cumulative percentage for <B>Seattle</B>  is
76.2.</A>
<P>You cannot request cumulative percentage with the DONUT,
PIE, PIE3D, or STAR statements.
<BR><H3><A name="z0723590">Sum</A></H3>


<P><A name="z0754854">&#13;  The sum statistic is the total of the values for the SUMVAR=
variable for each midpoint.  For example, if you specify SUMVAR=SALES and
the values of the SALES variable for the seven <B>Denver</B>  observations
are 8734, 982, 1504, 3207, 4502, 624, and 918, the sum statistic for the <B>Denver</B>   midpoint is 20,471.</A>
<P>You must use the SUMVAR= option to specify the variable
for which you want the sum statistic.
<BR><H3><A name="z0723591">Mean</A></H3>


<P><A name="z0754856">&#13; 
The mean statistic is the average of the values for the SUMVAR=
variable for each midpoint.  For example, if TYPE=MEAN and SUMVAR=SALES, the
mean statistic for the <B>Denver</B>   midpoint is 2924.42.</A>
<P>You must use the SUMVAR= option to specify the variable
for which you want the mean statistic.
<BR><H3><A name="zrt-calc">Calculating Weighted Statistics</A></H3>


<P><A name="z0754858">&#13;
  By default, each observation is
counted only once in
the calculation of the chart statistic.  To calculate weighted statistics
in which an observation can be counted more than once, use the FREQ= option.
 This option identifies a variable whose values are used as a multiplier for
the observation in the calculation of the statistic.  If the value of the
FREQ= variable is missing, 0, or negative, the observation is excluded from
the calculation.</A>
<P>For example, to use a variable called COUNT to produce
weighted statistics, assign FREQ=COUNT. This table shows how the values of
COUNT would affect the statistic calculation:
<P>
<TABLE cellpadding="6" cellspacing="0" border="1">


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">When COUNT is...</TD>
  
<TD  align="LEFT" valign="TOP">the observation is counted this many times in the statistic
calculation...</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">1</TD>
  
<TD  align="LEFT" valign="TOP">1</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">5</TD>
  
<TD  align="LEFT" valign="TOP">5</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">.</TD>
  
<TD  align="LEFT" valign="TOP">0</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">-3</TD>
  
<TD  align="LEFT" valign="TOP">0</TD>
</TR>

</TABLE>

<BR>
<P><A name="z0754870">&#13; If you use the SUMVAR= option, the SUMVAR= variable value
for an observation is multiplied by the FREQ= variable value for the observation
for use in calculating the chart statistic.</A>
<P>By default, the percentage and cumulative percentage
statistics are calculated based on the frequency.  If you want to chart a
percentage or cumulative percentage based on a sum, you can use the FREQ=
option to specify a variable to use for the "sum" calculation and specify
the PCT statistic, as shown in this example:  



<PRE>freq=count type=pct</PRE>
<P>Because the variable that is used by FREQ= determines
the number of times an observation is counted, the value of COUNT is the equivalent
of the sum statistic.
<P>See also the descriptions of the TYPE=, SUMVAR=, and
FREQ= options for the action statements.
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5"><A name="z2tern">About Patterns</A></FONT></B></TD></TR></TABLE>

<P>When a chart needs one or more patterns, the procedure
uses either 
<P>
<UL>

<LI>default patterns and outlines that are automatically
generated by SAS/GRAPH or<P>

<LI>patterns, colors, and outlines that are defined
by PATTERN statements, graphics options, and procedure options.<P>
</UL>

<P>The following sections summarize pattern behavior for
the GCHART procedure. For more information, see <A href="zernchap.htm">PATTERN Statement</A>.
<BR><H3><A name="z0723592">Default Patterns and Outlines</A></H3>


<P><A name="z0754878">&#13; In
general, the default
pattern that the GCHART procedure uses is a solid fill that it rotates once
through the colors list, skipping the foreground color. The procedure also
outlines all areas in the foreground color. (Typically, the foreground color
is the first color in the device's colors list.)</A>
<P>Specifically, the GCHART procedure uses default patterns
and outlines when you 
<P>
<UL>

<LI>do not specify <B>any</B> PATTERN statements,
and<P>

<LI>do not use the CPATTERN= graphics option, and<P>

<LI>do not use the COLORS= graphics options (that
is, you use the device's default colors list and it has more than one color),
and<P>

<LI>do not use the COUTLINE= option in the action
statement.<P>
</UL>

<P>If all of these conditions are true, then the GCHART
procedure 
<P>
<UL>

<LI>selects the first default fill pattern, which
is always solid, and rotates it through the colors list, generating one solid
pattern for each color. If the first color in the device's colors list is
black (or white), the procedure skips that color and begins generating patterns
with the next color.<P>

<LI>uses the foreground color to outline every patterned
area.<P>
</UL>

<P>If the procedure needs additional patterns, GCHART selects
the next default pattern fill that is appropriate to the type of chart and
rotates it through the colors list, skipping the foreground color as before.
 The procedure continues in this fashion until it has generated enough patterns
for the chart.
<P>Changing any of these conditions may change or override
the default behavior: 
<P>
<UL>

<LI>If you specify a colors list with the COLORS=
option in a GOPTIONS statement and the list contains more than one color,
the procedure rotates the default solid pattern through that list, using every
color, even if the foreground color is black (or white).  The default outline
color remains the foreground color.<P>

<LI>If you specify either COLORS=(<B>one-color</B>) or the CPATTERN= graphics option, the default fill pattern changes
from solid to the list of appropriate hatch patterns. The procedure uses the
specified color to generate one pattern definition for each hatch pattern
in the list. The default outline color remains the foreground color.<P>

<LI>Whenever there are PATTERN definitions in effect,
whether or not the GCHART procedure can use them, the default outline color
for all patterns changes from foreground to SAME, as described in the following
section.<P>
</UL>

<P>For a description of these graphics options, see
<A href="z0713550.htm">Graphics Options and Device Parameters Dictionary</A>.
<BR><H3><A name="z0723593">User-defined Patterns and Outlines</A></H3>


<P><A name="z0754893">&#13;
You can use PATTERN
statements to explicitly specify patterns, including color or fill type or
both. Different types of charts require different types of pattern fills.
For complete information on all pattern types, see </A><A href="zernchap.htm">PATTERN Statement</A>.  See also the section on controlling
patterns and colors for each chart type.
<P>When you use PATTERN statements, the procedure uses
the specified patterns until all of the PATTERN definitions they generate
have been used. Then, if more patterns are required, it returns to the default
pattern rotation.
<P>Whenever you specify <B>any</B> PATTERN statement,
the default pattern outline changes. Instead of the foreground color, the
outline color is the same as the fill color; for example, a blue bar has a
blue outline.  The effect is the same as specifying COUTLINE=SAME. Even when
the procedure runs out of user-defined patterns and generates default patterns,
the outlines continue to match the interior pattern color.
<P>To change the outline color of any pattern, whether
default or user-defined, use the COUTLINE= option in the action statement
that generates the chart.
<BR><H3><A name="z0723594">Version 6 Patterns</A></H3>


<P><A name="z0754897">&#13;   If you specify the V6COMP graphics
option, the procedure generates patterns by rotating the appropriate Version
6 default patterns through all of the colors in the colors list. With V6COMP,
all patterns are outlined in the same color as the fill.</A>

<P><!-- navigation -->
<P><TABLE cellpadding="0" cellspacing="0">
<TR valign="top">
<TD align="center">
<A href="z0723580.htm">
<IMG border="0" SRC="../common/images/cont1.gif"><BR><FONT size="-2">Chapter Contents</FONT></A></TD>
<TD align="center">
<A href="z-gchart.htm">
<IMG border="0" src="../common/images/prev1.gif"><BR><FONT size="-2">Previous</FONT></A></TD>
<TD align="center">
<A href="zart-syn.htm">
<IMG border="0" SRC="../common/images/next1.gif"><BR><FONT size="-2">Next</FONT></A></TD>
<TD align="center">
<A href="#zart-con">
<IMG border="0" SRC="../common/images/top1.gif"><BR><FONT size="-2">Top of Page</FONT></A></TD>
</TR></TABLE>
<P><FONT size=1><A href="../common/images/copyrite.htm">Copyright 1999 by SAS Institute Inc., Cary, NC, USA. All rights reserved.</A></FONT>
</BODY>
</HTML>