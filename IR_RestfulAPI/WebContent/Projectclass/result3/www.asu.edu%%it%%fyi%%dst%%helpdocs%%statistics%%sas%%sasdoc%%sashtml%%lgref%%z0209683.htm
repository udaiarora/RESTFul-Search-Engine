<HTML>
<!-- This page produced Mon Jul 19 13:58:41 EDT 1999
 -->
<!-- Used program version 1.118.1.2 from beta -->
<HEAD>
<!-- <META http-equiv="Content-Type" content="text/html; charset="> -->
<TITLE>Functions and CALL Routines : FOPEN </TITLE></HEAD>
<BODY bgcolor="#FFFFFF">
<!-- navigation -->
<TABLE cellpadding="0" cellspacing="0">
<TR valign="top">
<TD align="center">
<A href="z0245852.htm">
<IMG border="0" SRC="../common/images/cont1.gif"><BR><FONT size="-2">Chapter Contents</FONT></A></TD>
<TD align="center">
<A href="z0209721.htm">
<IMG border="0" src="../common/images/prev1.gif"><BR><FONT size="-2">Previous</FONT></A></TD>
<TD align="center">
<A href="z0209587.htm">
<IMG border="0" SRC="../common/images/next1.gif"><BR><FONT size="-2">Next</FONT></A></TD>
</TR></TABLE>
<!-- running head -->
<TABLE width="100%" cellpadding="4">
<TR valign="MIDDLE">
<TD bgcolor="#CCCC99"><I><FONT size="2">FOPEN</FONT></I></TD>
</TR>
</TABLE><H1><FONT size="5"><A name="z0209683">FOPEN</A></FONT></H1>

<P><HR><BR><B>Opens an external file and returns a file identifier value</B><p>

<TABLE cellpadding="4" cellspacing="2">
<TR valign="top">
<TD align="right" bgcolor="#F5F5F5" nowrap><B>Category:</B></TD>
<TD bgcolor="#CCCCCC" align="left">External
Files
</TD></TR>
</TABLE><HR>
<TABLE cellspacing="0" cellpadding="1">
<TR>
<TD colspan="2"><A href="z0209683.htm#zid-1044"><FONT size="2"><B>Syntax</b></FONT></A></TD></TR>
<TR>
<TD colspan="2"><A href="z0209683.htm#zid-1045"><FONT size="2"><B>Arguments</b></FONT></A></TD></TR>
<TR>
<TD colspan="2"><A href="z0209683.htm#z0226175"><FONT size="2"><B>Details</b></FONT></A></TD></TR>
<TR>
<TD colspan="2"><A href="z0209683.htm#z0226176"><FONT size="2"><B>Examples</b></FONT></A></TD></TR>
<TR>
<TD width="18"></TD>
<TD><A href="z0209683.htm#z0226177"><FONT size="2">Example 1: Opening a File Using Defaults</FONT></A></TD></TR>
<TR>
<TD width="18"></TD>
<TD><A href="z0209683.htm#z0226179"><FONT size="2">Example 2: Opening a File without Using Defaults</FONT></A></TD></TR>
<TR>
<TD colspan="2"><A href="z0209683.htm#z0226181"><FONT size="2"><B>See Also</b></FONT></A></TD></TR></TABLE>
<TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><H2><A name="zid-1044">Syntax</A></H2></TD></TR></TABLE>

<TABLE cellpadding="4" cellspacing="2">
<TR valign="top"><TD>
<B>FOPEN</B>(<I>fileref</I>&lt;,<I>open-mode</I>&lt;,<I>record-length</I>&lt;,<I>record-format</I>&gt;&gt;&gt;)
</TD></TR></TABLE>
<BR><H3><A name="zid-1045">Arguments</A></H3>

<P><A name="z0843194">&#13;</A>
<DL>
<DT><B><B><I>fileref</I></B></B></DT>
<DD>specifies the fileref assigned to the external
file.<P></DD>

<DT><B><B><I>open-mode</I></B></B></DT>
<DD>specifies the type of access to the file: 
<TABLE cellpadding="5" cellspacing="0">
<TR align=left valign="top">
<TD>A</TD>
<TD align="left">APPEND mode allows writing new records
after the current end of the file.</TD></TR>

<TR align=left valign="top">
<TD>I</TD>
<TD align="left">INPUT mode allows reading only (default).</TD></TR>

<TR align=left valign="top">
<TD>O</TD>
<TD align="left">OUTPUT mode defaults to the OPEN
mode specified in the host option in the FILENAME statement or function. 
If no host option is specified, it allows writing new records at the beginning
of the file.</TD></TR>

<TR align=left valign="top">
<TD>S</TD>
<TD align="left">Sequential input mode is used for
pipes and other sequential devices such as hardware ports.</TD></TR>

<TR align=left valign="top">
<TD>U</TD>
<TD align="left">UPDATE mode allows both reading and
writing.</TD></TR>
</TABLE>

<TABLE cellpadding="4" cellspacing="2">
<TR valign="top">
<TD align="left" bgcolor="#F5F5F5" width="95" nowrap><B>Default:</B></TD>
<TD align="left" bgcolor="#F5F5F5">I</TD>
</TABLE>
<P></DD>

<DT><B><B><I>record-length</I></B></B></DT>
<DD>specifies the logical record length of the
file.  To use the existing record length for the file, specify a length of
0, or do not provide a value here.<P></DD>

<DT><B><B><I>record-format</I></B></B></DT>
<DD>specifies the record format of the file.
To use the existing record format, do not specify a value here.  Valid values
are: 
<TABLE cellpadding="5" cellspacing="0">
<TR align=left valign="top">
<TD>B</TD>
<TD align="left">data are to be interpreted as binary
data.</TD></TR>

<TR align=left valign="top">
<TD>D</TD>
<TD align="left">use default record format.</TD></TR>

<TR align=left valign="top">
<TD>E</TD>
<TD align="left">use editable record format.</TD></TR>

<TR align=left valign="top">
<TD>F</TD>
<TD align="left">file contains fixed length records.</TD></TR>

<TR align=left valign="top">
<TD>P</TD>
<TD align="left">file contains printer carriage control
in host-dependent record format. <I><B>Note:</B></I>  For OS/390 data sets
with FBA or VBA record format, specify `P' for the <B><I>record-format</I></B> argument.</TD></TR>

<TR align=left valign="top">
<TD>V</TD>
<TD align="left">file contains variable length records.</TD></TR>
</TABLE>
<P></DD>
</DL>


<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5"><A name="z0226175">Details</A></FONT></B></TD></TR></TABLE>

<P><DL>
<DT><B><FONT color="FF00007">CAUTION:</FONT></B></DT><DD><B>Use OUTPUT mode with care.</B>
Opening an existing
file for output overwrites the current contents of the file without warning.&nbsp;&nbsp;<IMG border="0" src="../common/images/cautend.gif" alt="[cautionend]" align="bottom"></DD></DL>
<P>The FOPEN function opens an external file for reading
or updating and returns a file identifier value that is used to identify the
open file to other functions. You must associate a fileref with the external
file before calling the F   OPEN function. FOPEN returns a 0 if the file could
not be opened. You can assign filerefs by using the FILENAME statement or
the FILENAME external file access function. Under some operating environments,
you can also assign filerefs by using system comman  
ds.
<P><B>Operating Environment Information:</B>&nbsp;&nbsp;&nbsp;On some
operating environments you must close the file at the end o   f the
DATA step using the FCLOSE function.  For details, see the SAS documentation
for your operating environment.&nbsp;&nbsp;<img border="0" src="../common/images/cautend.gif" alt="[cautionend]" align="bottom">
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5"><A name="z0226176">Examples</A></FONT></B></TD></TR></TABLE>

<BR><H3> <A name="z0226177">Example 1: Opening a File Using Defaults</A> </H3>


<P>This example assigns the fileref MYFILE to an external file and attempts to
open the file for input using all defaults. Note that in a macro statement
you do not enclose character strings in quotation marks.  



<PRE>%let filrf=myfile;
%let rc=%sysfunc(filename(filrf,
   <I>physical-filename</I>));
%let fid=%sysfunc(fopen(&amp;filrf));</PRE>
<BR><H3> <A name="z0226179">Example 2: Opening a File without Using Defaults</A> </H3>


<P>This example attempts to open a file for input without using defaults. Note
that in a macro statement you do not enclose character strings in quotation
marks.    



<PRE>%let fid=%sysfunc(fopen(file2,o,132,e));</PRE>
<TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5"><FONT size="5"><A name="z0226181">See Also</A></FONT>
</FONT></B></TD></TR></TABLE>
<P>
<TABLE cellpadding="6" cellspacing="2">
<TR valign="top"><TD></TD><TD>Functions:



<TABLE cellpadding="6" cellspacing="2">
<TR valign="top"><TD></TD><TD><A href="z0209538.htm">DOPEN</A></TD></TR>
<TR valign="top"><TD></TD><TD><A href="z0210034.htm">FCLOSE</A></TD></TR>
<TR valign="top"><TD></TD><TD><A href="z0210819.htm">FILENAME</A></TD></TR>
<TR valign="top"><TD></TD><TD><A href="z0210907.htm">FILEREF</A></TD></TR>
<TR valign="top"><TD></TD><TD><A href="z0209685.htm">MOPEN</A></TD></TR></TABLE></TD></TR>
<TR valign="top"><TD></TD><TD>Statement:



<TABLE cellpadding="6" cellspacing="2">
<TR valign="top"><TD></TD><TD><A href="z0211297.htm">FILENAME</A></TD></TR></TABLE></TD></TR></TABLE>

<P><!-- navigation -->
<P><TABLE cellpadding="0" cellspacing="0">
<TR valign="top">
<TD align="center">
<A href="z0245852.htm">
<IMG border="0" SRC="../common/images/cont1.gif"><BR><FONT size="-2">Chapter Contents</FONT></A></TD>
<TD align="center">
<A href="z0209721.htm">
<IMG border="0" src="../common/images/prev1.gif"><BR><FONT size="-2">Previous</FONT></A></TD>
<TD align="center">
<A href="z0209587.htm">
<IMG border="0" SRC="../common/images/next1.gif"><BR><FONT size="-2">Next</FONT></A></TD>
<TD align="center">
<A href="#z0209683">
<IMG border="0" SRC="../common/images/top1.gif"><BR><FONT size="-2">Top of Page</FONT></A></TD>
</TR></TABLE>
<P><FONT size=1><A href="../common/images/copyrite.htm">Copyright 1999 by SAS Institute Inc., Cary, NC, USA. All rights reserved.</A></FONT>
</BODY>
</HTML>