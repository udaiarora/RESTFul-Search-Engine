<HTML>
<!-- This page produced Tue Jul  6 11:09:12 EDT 1999
 -->
<!-- Used program version 1.118.1.2 from beta -->
<HEAD>
<!-- <META http-equiv="Content-Type" content="text/html; charset="> -->
<TITLE>Allocating External Files : Identifying an External File </TITLE></HEAD>
<BODY bgcolor="#FFFFFF">
<!-- navigation -->
<TABLE cellpadding="0" cellspacing="0">
<TR valign="top">
<TD align="center">
<A href="z0425866.htm">
<IMG border="0" SRC="../common/images/cont1.gif"><BR><FONT size="-2">Chapter Contents</FONT></A></TD>
<TD align="center">
<A href="z0606445.htm">
<IMG border="0" src="../common/images/prev1.gif"><BR><FONT size="-2">Previous</FONT></A></TD>
<TD align="center">
<A href="z0545901.htm">
<IMG border="0" SRC="../common/images/next1.gif"><BR><FONT size="-2">Next</FONT></A></TD>
</TR></TABLE>
<!-- running head -->
<TABLE width="100%" cellpadding="4">
<TR valign="MIDDLE">
<TD bgcolor="#CCCC99"><I><FONT size="2">SAS Companion for the CMS Environment                                                                                     </FONT></I></TD>
</TR>
</TABLE><H1><FONT size="5"><A name="zf-ident">Identifying an External File</A></FONT></H1>


<P><A name="z0592425">&#13;

To identify the external file to SAS, use a <B>file-specification</B>
argument in a SAS statement.  The <B>file-specification</B> argument
takes one of the following forms: </A>
<DL>
<DT><B>external-file</B></DT>
<DD>specifies the CMS fileid of the external
file and has the following form:
<P>
<TABLE cellpadding="4" cellspacing="2">
<TR valign="top"><TD>
'<I>filename filetype</I> &lt;<I>filemode</I> | <I>SFS-directory</I> |
*&gt;'
</TD></TR></TABLE>This syntax can also be used to specify a MACLIB as an aggregate
external file, as follows:
<P>
<TABLE cellpadding="4" cellspacing="2">
<TR valign="top"><TD>
'<I>filename</I> MACLIB &lt;<I>filemode</I> |
<I>*</I>'&gt;
</TD></TR></TABLE>
<P>To specify a CMS minidisk or SFS directory as an aggregate file, use
the following:
<P>
<TABLE cellpadding="4" cellspacing="2">
<TR valign="top"><TD>
'<I>filemode</I> | <I>SFS-directory</I> | *'
</TD></TR></TABLE>
<P>Omitting the filename and filetype specifies an aggregate
file, which
consists of an SFS directory or minidisk. Files in the directory or minidisk
are accessed as independent members of the aggregate file.
<P>If you omit <B>filemode</B> or <B>SFS-directory</B>, or if you specify an asterisk (*) when you
reference the file for
input, accessed disks are searched in the standard CMS search order, and the
first occurrence of a file with a matching filename and filetype is read.
 If you omit <B>filemode</B> or <B>SFS-directory</B>, or if you
specify an asterisk (*) when you reference the file for output, the file is
written on the first R/W disk.
<P>You cannot use an asterisk (*) for either <B>filename</B> or
<B>filetype</B>.<P></DD>

<DT><B>fileref</B></DT>
<DD>specifies a logical name that is associated
with an external file.  This name contains 1 to 8 characters and is not enclosed
in quotes. The first character must be a letter (A to Z or a to z) or an underscore
(_); the remaining characters can be any combination of letter, numbers, or
underscores. If a SAS FILENAME statement, FILENAME function, or CMS FILEDEF
command has assigned this logical name to an external file, then the device
or file that is identified by that FILENAME statement is used. If a FILENAME
statement has not been issued, then SAS creates an assignment for the fileref
by creating a CMS file specification, and SAS uses the fileref as the filename
and defaults for filetype and filemode.<P></DD>

<DT><B>fileref(member)</B></DT>
<DD>specifies an independent member of an aggregate
file that was previously associated with the fileref.<P></DD>
</DL>

<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5">Aggregate External Files</FONT></B></TD></TR></TABLE>

<P>An
aggregate external file is processed as a single file that contains multiple
independent members. For input only, CMS MACLIBs can be specified as aggregate
files. For input and update, an aggregate file can be an SFS directory or
a CMS minidisk.
<P>The FILENAME statement is used to specify an aggregate external file:
<P>
<TABLE cellpadding="4" cellspacing="2">
<TR valign="top"><TD>
<B>FILENAME</B> <I>fileref</I> '<I>filename filetype
filemode</I> | <I>SFS-directory</I> | *';
</TD></TR></TABLE>
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5">Concatenating External Files</FONT></B></TD></TR></TABLE>

<P>To
concatenate external files or directories, use the FILENAME statement.  To
concatenate files that contain multiple SAS programs in order to invoke the
programs in a single invocation, use the SYSIN= system option.
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5">Aggregate Files Compared with Concatenated Files</FONT></B></TD></TR></TABLE>

<P>Aggregate files contain independent files that are processed as individual
members. Concatenated files appear to SAS as a single file that contains the
data of all of the files that are listed in concatenation. In other words,
concatenated files are not independent of each other. The order of the concatenation
means that files that are listed first in the FILENAME concatenation take
precedence over files that appear later in the list.
<P>Aggregate files can be concatenated. SAS treats an aggregate concatenation
as it does any other, by searching each aggregate in turn, in order of appearance,
in the initial concatenation specification.

<P><!-- navigation -->
<P><TABLE cellpadding="0" cellspacing="0">
<TR valign="top">
<TD align="center">
<A href="z0425866.htm">
<IMG border="0" SRC="../common/images/cont1.gif"><BR><FONT size="-2">Chapter Contents</FONT></A></TD>
<TD align="center">
<A href="z0606445.htm">
<IMG border="0" src="../common/images/prev1.gif"><BR><FONT size="-2">Previous</FONT></A></TD>
<TD align="center">
<A href="z0545901.htm">
<IMG border="0" SRC="../common/images/next1.gif"><BR><FONT size="-2">Next</FONT></A></TD>
<TD align="center">
<A href="#zf-ident">
<IMG border="0" SRC="../common/images/top1.gif"><BR><FONT size="-2">Top of Page</FONT></A></TD>
</TR></TABLE>
<P><FONT size=1><A href="../common/images/copyrite.htm">Copyright 1999 by SAS Institute Inc., Cary, NC, USA. All rights reserved.</A></FONT>
</BODY>
</HTML>