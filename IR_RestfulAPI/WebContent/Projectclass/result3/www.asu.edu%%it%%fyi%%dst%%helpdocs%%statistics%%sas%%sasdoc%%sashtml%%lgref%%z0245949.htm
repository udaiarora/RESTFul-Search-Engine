<HTML>
<!-- This page produced Mon Jul 19 13:58:41 EDT 1999
 -->
<!-- Used program version 1.118.1.2 from beta -->
<HEAD>
<!-- <META http-equiv="Content-Type" content="text/html; charset="> -->
<TITLE>Functions and CALL Routines : SPEDIS </TITLE></HEAD>
<BODY bgcolor="#FFFFFF">
<!-- navigation -->
<TABLE cellpadding="0" cellspacing="0">
<TR valign="top">
<TD align="center">
<A href="z0245852.htm">
<IMG border="0" SRC="../common/images/cont1.gif"><BR><FONT size="-2">Chapter Contents</FONT></A></TD>
<TD align="center">
<A href="z0245948.htm">
<IMG border="0" src="../common/images/prev1.gif"><BR><FONT size="-2">Previous</FONT></A></TD>
<TD align="center">
<A href="z0245950.htm">
<IMG border="0" SRC="../common/images/next1.gif"><BR><FONT size="-2">Next</FONT></A></TD>
</TR></TABLE>
<!-- running head -->
<TABLE width="100%" cellpadding="4">
<TR valign="MIDDLE">
<TD bgcolor="#CCCC99"><I><FONT size="2">SPEDIS</FONT></I></TD>
</TR>
</TABLE><H1><FONT size="5"><A name="z0245949">SPEDIS</A></FONT></H1>

<P><HR><BR><B>Determines the likelihood of two words matching, expressed as
the asymmetric spelling distance between the two words</B><p>

<TABLE cellpadding="4" cellspacing="2">
<TR valign="top">
<TD align="right" bgcolor="#F5F5F5" nowrap><B>Category:</B></TD>
<TD bgcolor="#CCCCCC" align="left">Character
</TD></TR>
</TABLE><HR>
<TABLE cellspacing="0" cellpadding="1">
<TR>
<TD colspan="2"><A href="z0245949.htm#zid-1601"><FONT size="2"><B>Syntax</b></FONT></A></TD></TR>
<TR>
<TD colspan="2"><A href="z0245949.htm#zid-1602"><FONT size="2"><B>Arguments</b></FONT></A></TD></TR>
<TR>
<TD colspan="2"><A href="z0245949.htm#z0226541"><FONT size="2"><B>Details</b></FONT></A></TD></TR>
<TR>
<TD colspan="2"><A href="z0245949.htm#z0226542"><FONT size="2"><B>Examples</b></FONT></A></TD></TR></TABLE>
<TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><H2><A name="zid-1601">Syntax</A></H2></TD></TR></TABLE>

<TABLE cellpadding="4" cellspacing="2">
<TR valign="top"><TD>
<B>SPEDIS</B>(<I>query</I>,<I>keyword</I>)
</TD></TR></TABLE>
<BR><H3><A name="zid-1602">Arguments</A></H3>

<P><A name="z0846288">&#13;</A>
<DL>
<DT><B><B><I>query</I></B></B></DT>
<DD>identifies the word to query for the likelihood
of a match. SPEDIS removes trailing blanks before comparing the value.<P></DD>

<DT><B><B><I>keyword</I></B></B></DT>
<DD>specifies a target word for the query. SPEDIS
removes trailing blanks before comparing the value.<P></DD>
</DL>

<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5"><A name="z0226541">Details</A></FONT></B></TD></TR></TABLE>

<P>SPEDIS returns the distance between the
query and a keyword, a nonnegative value usually less than 100, never greater
than 200 with the default costs.
<P>SPEDIS computes an asymmetric spelling distance between
two words as the normalized cost for converting the keyword to the query word
via a sequence of operations. SPEDIS(QUERY, KEYWORD) is NOT the same as SPEDIS(KEYWORD,
QUERY).
<P>Costs for each operation that is required to convert
the keyword to the query are
<P>
<TABLE cellpadding="6" cellspacing="0" border="0">


<TR valign="bottom" bgcolor="#CCCCCC">
  <TH  align="LEFT" valign="BOTTOM" ><B>Operation</B></TH>
  <TH  align="CENTER" valign="BOTTOM" ><B>Cost</B></TH>
  <TH  align="LEFT" valign="BOTTOM" ><B>Explanation</B></TH>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">match</TD>
  
<TD  align="CENTER" valign="TOP">0</TD>
  
<TD  align="LEFT" valign="TOP">no change</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">singlet</TD>
  
<TD  align="CENTER" valign="TOP">25</TD>
  
<TD  align="LEFT" valign="TOP">delete one of a double letter</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">doublet</TD>
  
<TD  align="CENTER" valign="TOP">50</TD>
  
<TD  align="LEFT" valign="TOP">double a letter</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">swap</TD>
  
<TD  align="CENTER" valign="TOP">50</TD>
  
<TD  align="LEFT" valign="TOP">reverse the order of two consecutive letters</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">truncate</TD>
  
<TD  align="CENTER" valign="TOP">50  </TD>
  
<TD  align="LEFT" valign="TOP">delete a letter from the end</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">append</TD>
  
<TD  align="CENTER" valign="TOP">35</TD>
  
<TD  align="LEFT" valign="TOP">add a letter to the end</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">delete</TD>
  
<TD  align="CENTER" valign="TOP">50</TD>
  
<TD  align="LEFT" valign="TOP">delete a letter from the middle</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">insert</TD>
  
<TD  align="CENTER" valign="TOP">100</TD>
  
<TD  align="LEFT" valign="TOP">insert a letter in the middle</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">replace</TD>
  
<TD  align="CENTER" valign="TOP">100</TD>
  
<TD  align="LEFT" valign="TOP">replace a letter in the middle</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">firstdel</TD>
  
<TD  align="CENTER" valign="TOP">100</TD>
  
<TD  align="LEFT" valign="TOP">delete the first letter</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">firstins</TD>
  
<TD  align="CENTER" valign="TOP">200</TD>
  
<TD  align="LEFT" valign="TOP">insert a letter at the beginning</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">firstrep</TD>
  
<TD  align="CENTER" valign="TOP">200</TD>
  
<TD  align="LEFT" valign="TOP">replace the first letter</TD>
</TR>

</TABLE>

<BR>
<P>The
distance is the sum of the costs divided (in integer
arithmetic) by the length of the query.
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5"><A name="z0226542">Examples</A></FONT></B></TD></TR></TABLE>

<P>
<PRE>options nodate pageno=1 linesize=64;
data words;
   input oper $ query $ keyword $;
   dist = spedis(query,keyword);
   cost = dist * length(query);
   put oper $10. query $10. keyword $10. 
       dist 5. cost 5.;
datalines;
match       fuzzy        fuzzy
singlet     fuzy         fuzzy
doublet     fuuzzy       fuzzy
swap        fzuzy        fuzzy
truncate    fuzz         fuzzy
append      fuzzys       fuzzy
delete      fzzy         fuzzy
insert      fluzzy       fuzzy
replace     fizzy        fuzzy
firstdel    uzzy         fuzzy
firstins    pfuzzy       fuzzy
firstrep    wuzzy        fuzzy
several     floozy       fuzzy
;

proc print data = words;
run;</PRE>
<P>The output from the DATA step is as follows:

<P>

<TABLE border="1" cellpadding="12" cellspacing="0" bgcolor="#FAFAFA">
<TR>
<TD><PRE>                         The SAS System                        1
      OBS    OPER        QUERY     KEYWORD    DIST    COST

        1    match       fuzzy      fuzzy       0        0
        2    singlet     fuzy       fuzzy       6       24
        3    doublet     fuuzzy     fuzzy       8       48
        4    swap        fzuzy      fuzzy      10       50
        5    truncate    fuzz       fuzzy      12       48
        6    append      fuzzys     fuzzy       5       30
        7    delete      fzzy       fuzzy      12       48
        8    insert      fluzzy     fuzzy      16       96
        9    replace     fizzy      fuzzy      20      100
       10    firstdel    uzzy       fuzzy      25      100
       11    firstins    pfuzzy     fuzzy      33      198
       12    firstrep    wuzzy      fuzzy      40      200
       13    several     floozy     fuzzy      50      300</PRE></TD></TR></TABLE>

<P>

<P><!-- navigation -->
<P><TABLE cellpadding="0" cellspacing="0">
<TR valign="top">
<TD align="center">
<A href="z0245852.htm">
<IMG border="0" SRC="../common/images/cont1.gif"><BR><FONT size="-2">Chapter Contents</FONT></A></TD>
<TD align="center">
<A href="z0245948.htm">
<IMG border="0" src="../common/images/prev1.gif"><BR><FONT size="-2">Previous</FONT></A></TD>
<TD align="center">
<A href="z0245950.htm">
<IMG border="0" SRC="../common/images/next1.gif"><BR><FONT size="-2">Next</FONT></A></TD>
<TD align="center">
<A href="#z0245949">
<IMG border="0" SRC="../common/images/top1.gif"><BR><FONT size="-2">Top of Page</FONT></A></TD>
</TR></TABLE>
<P><FONT size=1><A href="../common/images/copyrite.htm">Copyright 1999 by SAS Institute Inc., Cary, NC, USA. All rights reserved.</A></FONT>
</BODY>
</HTML>