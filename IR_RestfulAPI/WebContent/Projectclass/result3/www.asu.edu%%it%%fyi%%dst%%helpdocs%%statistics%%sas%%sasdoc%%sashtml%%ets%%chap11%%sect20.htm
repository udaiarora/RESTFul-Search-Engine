<HTML>
<HEAD>
<TITLE>Frequency Conversion</TITLE>
<LINK REL="STYLESHEET" TYPE="text/css" HREF="../sas.css">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<A NAME="expfreqconv">&#13;</A>
<!--Navigation Panel-->
<TABLE BORDER="0" CELLPADDING="0">
<TR VALIGN="TOP">
  <TD ALIGN="CENTER">
  <A NAME="topofpage" HREF="index.htm">
  <IMG BORDER="0" SRC="../../common/images/cont1.gif" ALT="Chapter Contents" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Chapter Contents</FONT></A></TD>
  <TD ALIGN=CENTER>
  <A HREF="sect19.htm"><IMG BORDER="0" SRC="../../common/images/prev1.gif" ALT="Previous" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Previous</FONT></A></TD>
  <TD ALIGN=CENTER>
  <A HREF="sect21.htm"><IMG BORDER="0" SRC="../../common/images/next1.gif" ALT="Next" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Next</FONT></A></TD>
</TR>
</TABLE>
<TABLE BGCOLOR="#CCCC99" WIDTH="100%" CELLPADDING=4>
<TR>
  <TD VALIGN=MIDDLE CLASS="chaphead"><I><FONT SIZE="2">The EXPAND Procedure</FONT></I></TD>
</TR>
</TABLE><BR>
<P><!--End of Navigation Panel-->
<H2>Frequency Conversion</H2>
<P><A NAME="idxexp0073">&#13;</A><A NAME="idxexp0072">&#13;</A><A NAME="idxexp0074">&#13;</A><A NAME="idxexp0075">&#13;</A><A NAME="idxexp0076">&#13;</A>Frequency conversion is controlled by the FROM=, TO=, and FACTOR= options.
The possible combinations of these options are explained in the
following:
<P><B><I>None Used</I></B> <BR>If FROM=, TO=, and FACTOR= are not specified, no frequency conversion is done.
The data are processed to interpolate any missing values
and perform any specified transformations.
Each input observation produces one output observation.
<P><A NAME="idxexp0077">&#13;</A><B><I>FACTOR=(n:m)</I></B> <BR>FACTOR=(<I>n</I>:<I>m</I>) specifies that
<I>n</I> output observations are produced for each group of <I>m</I> input observations.
The fraction <I>m</I>/<I>n</I> is reduced first:
thus FACTOR=(10:6) is equivalent to FACTOR=(5:3).
Note that if <I>m</I>/<I>n</I>=1,
the result is the same as the case given previously under &#34;None Used&#34;.
<P><A NAME="idxexp0078">&#13;</A><B><I>FROM=interval</I></B> <BR>The FROM= option used alone establishes the frequency and interval widths
of the input observations.
Missing values are interpolated,
and any specified transformations are performed,
but no frequency conversion is done.
<P><A NAME="idxexp0079">&#13;</A><B><I>TO=interval</I></B> <BR>When the TO= option is used without the FROM= option,
output observations with the TO= frequency are generated over the range of
input ID values.
The first output observation is for the TO= interval containing the ID value
of the first input observation; the last output observation is for the TO=
interval containing the ID value of the last input observation.
The input observations are not assumed to form regular time series
and may represent aperiodic points in time.
An ID variable is required to give the date or datetime of the input
observations.
<P><A NAME="idxexp0080">&#13;</A><A NAME="idxexp0081">&#13;</A><B><I>FROM=interval TO=interval</I></B> <BR>When both the FROM= and TO= options are used,
the input observations have the frequency given by the FROM= interval,
and the output observations have the frequency given by the TO= interval.
<P><A NAME="idxexp0082">&#13;</A><A NAME="idxexp0083">&#13;</A><B><I>FROM=interval FACTOR=(n:m)</I></B> <BR>When both the FROM= and FACTOR= options are used,
a TO= interval is inferred from the combination of the FROM=<I>interval</I> and
the FACTOR=(<I>n:m</I>) values specified.
For example, FROM=YEAR FACTOR=4 is the same as FROM=YEAR TO=QTR.
Also, FROM=YEAR FACTOR=(3:2) is the same as FROM=YEAR used with TO=MONTH8.
Once the implied TO= interval is determined,
this combination operates the same as if FROM= and TO= had been specified.
If no valid TO= interval can be constructed from the combination of
the FROM= and FACTOR= options, an error is produced.
<P><B><I>TO=interval FACTOR=(n:m)</I></B> <BR>The combination of the TO= option and the FACTOR= option 
is not allowed and produces an error.
<P><A NAME="idxexp0084">&#13;</A><B><I>ALIGN= option </I></B> <BR>Controls the alignment of SAS dates used to identify output observations.
The ALIGN= option allows the following values: BEGINNING|BEG|B, 
MIDDLE|MID|M, and ENDING|END|E.  BEGINNING is the default.
<P><H3><I>Converting to a Lower Frequency</I></H3>
When converting to a lower frequency, the results are either exact
or approximate, depending on whether or not the input intervals nest
within the output intervals and depending on the need to interpolate
missing values within the series.
If the TO= interval is nested within the FROM= interval
(as when converting monthly to yearly),
and if there are no missing input values or partial periods,
the results are exact.
<P>When values are missing or the FROM= intervals are not nested within
the TO= intervals (as when aggregating weekly to monthly), the results
depend on an interpolation.
The METHOD=AGGREGATE option always produces exact results, never an interpolation.
However, this method cannot be used unless the FROM= interval is nested within
the TO= interval.
<P>
<!--Navigation Panel-->
<TABLE BORDER="0" CELLPADDING="0">
<TR VALIGN="TOP">
  <TD ALIGN="CENTER">
  <A HREF="index.htm">
  <IMG BORDER="0" SRC="../../common/images/cont1.gif" ALT="Chapter Contents" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Chapter Contents</FONT></A></TD>
  <TD ALIGN=CENTER>
  <A HREF="sect19.htm"><IMG BORDER="0" SRC="../../common/images/prev1.gif" ALT="Previous" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Previous</FONT></A></TD>
  <TD ALIGN=CENTER>
  <A HREF="sect21.htm"><IMG BORDER="0" SRC="../../common/images/next1.gif" ALT="Next" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Next</FONT></A></TD>
  <TD ALIGN=CENTER>
  <A HREF="#topofpage">
  <IMG BORDER="0" SRC="../../common/images/top1.gif" ALT="Top" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Top</FONT></A></TD>
</TR>
</TABLE>
<P><!--End of Navigation Panel-->
<P><FONT SIZE="1"><A HREF="../../common/images/copyrite.htm">Copyright &copy; 1999 by SAS Institute Inc., Cary, NC, USA. All rights reserved.</A></FONT>
</BODY>
</HTML>
