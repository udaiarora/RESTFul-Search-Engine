<HTML>
<!-- This page produced Tue Jul 20 10:24:46 EDT 1999
 -->
<!-- Used program version 1.118.1.2 from beta -->
<HEAD>
<!-- <META http-equiv="Content-Type" content="text/html; charset="> -->
<TITLE>Extended Text Entry Class : Extended Text Entry: _feedback </TITLE></HEAD>
<BODY bgcolor="#FFFFFF">
<!-- navigation -->
<TABLE cellpadding="0" cellspacing="0">
<TR valign="top">
<TD align="center">
<A href="z4slam.htm">
<IMG border="0" SRC="../common/images/cont1.gif"><BR><FONT size="-2">Chapter Contents</FONT></A></TD>
<TD align="center">
<A href="z0231552.htm">
<IMG border="0" src="../common/images/prev1.gif"><BR><FONT size="-2">Previous</FONT></A></TD>
<TD align="center">
<A href="z0231557.htm">
<IMG border="0" SRC="../common/images/next1.gif"><BR><FONT size="-2">Next</FONT></A></TD>
</TR></TABLE>
<!-- running head -->
<TABLE width="100%" cellpadding="4">
<TR valign="MIDDLE">
<TD bgcolor="#CCCC99"><I><FONT size="2">Extended Text Entry: _feedback</FONT></I></TD>
</TR>
</TABLE><H1><FONT size="5"><A name="z0231554">Extended Text Entry: _feedback</A></FONT></H1>

<P><HR><BR><B>Handles each character as an
event</B><p>
 <HR>
<TABLE cellspacing="0" cellpadding="1">
<TR>
<TD colspan="2"><A href="z0231554.htm#zid-5469"><FONT size="2"><B>Syntax</b></FONT></A></TD></TR>
<TR>
<TD colspan="2"><A href="z0231554.htm#z0231555"><FONT size="2"><B>Details</b></FONT></A></TD></TR>
<TR>
<TD colspan="2"><A href="z0231554.htm#z0231556"><FONT size="2"><B>Example</b></FONT></A></TD></TR></TABLE>
<TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><H2><A name="zid-5469">Syntax</A></H2></TD></TR></TABLE>

<TABLE cellpadding="4" cellspacing="2">
<TR valign="top"><TD>
_feedback:METHOD<I>event</I>$20<I>line</I><I>offset</I>8;endmethod;
</TD></TR></TABLE><A name="zid-5470">&#13;</A>
<P>
<P>
<TABLE cellpadding="6" cellspacing="0" border="0">


<TR valign="bottom" bgcolor="#CCCCCC">
  <TH  align="LEFT" valign="BOTTOM" ><B>Argument </B></TH>
  <TH  align="LEFT" valign="BOTTOM" ><B>Type </B></TH>
  <TH  align="LEFT" valign="BOTTOM" ><B>Description </B></TH>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP"><B>event</B><BR></TD>
  
<TD  align="LEFT" valign="TOP">C </TD>
  
<TD  align="LEFT" valign="TOP">specifies the event code that modified the line</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP"><B>line</B><BR></TD>
  
<TD  align="LEFT" valign="TOP">N </TD>
  
<TD  align="LEFT" valign="TOP">specifies the line number of the affected line</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP"><B>offset</B><BR></TD>
  
<TD  align="LEFT" valign="TOP">N </TD>
  
<TD  align="LEFT" valign="TOP">specifies the character offset of the affected  
character</TD>
</TR>

</TABLE>

<BR>

<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5"><A name="z0231555">Details</A></FONT></B></TD></TR></TABLE>

<P>  The _feedback method is run for every character that is input when the Keystroke Feedback mode is chosen from the attribute window, or when the
_setMode method is called with the parameter 'ALWAYS'. See _setMode in this class.
<P>The _feedback method is run for every carriage return regardless of mode settings. Do not call this
method from the SCL code using _callNotify or _callSend.  Define a method block and use it to override the _feedback method. The _feedback method will be called automatically. The following events are
then sent to this method: 
<P>
<P>
<TABLE cellpadding="6" cellspacing="0" border="1">


<TR valign="bottom" bgcolor="#CCCCCC">
  <TH  align="LEFT" valign="BOTTOM" ><B>Possible Events </B></TH>
  <TH  align="LEFT" valign="BOTTOM" ><B>Value is... </B></TH>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">PRINTABLE   </TD>
  
<TD  align="LEFT" valign="TOP">a printable character was typed in</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">RETURN      </TD>
  
<TD  align="LEFT" valign="TOP">a Carriage Return or New Line was entered</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">DELWORD     </TD>
  
<TD  align="LEFT" valign="TOP">a word was deleted</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">DELPREVWORD </TD>
  
<TD  align="LEFT" valign="TOP">the previous word was deleted</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">DELCHAR     </TD>
  
<TD  align="LEFT" valign="TOP">a character was deleted</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">DELPREVCHAR </TD>
  
<TD  align="LEFT" valign="TOP">the previous character was deleted</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">DELTOEOL    </TD>
  
<TD  align="LEFT" valign="TOP">all characters to the end of the line were deleted</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">DELTOBOL    </TD>
  
<TD  align="LEFT" valign="TOP">all characters to the beginning of the line were deleted</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">DELLINE     </TD>
  
<TD  align="LEFT" valign="TOP">the line was deleted</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">ENTER       </TD>
  
<TD  align="LEFT" valign="TOP">massive changes were made to the object in one
operation</TD>
</TR>

</TABLE>

<BR>
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5"><A name="z0231556">Example</A></FONT></B></TD></TR></TABLE>

<P>  This example uses the _feedback method to test input against a list of color names.  If a match is found, the entered value is replaced with
the found value.  The portion of text that is typed in is marked so that the next keystroke replaces that text.  For example, if you type 


<CODE><B>'R'</B></CODE>, it displays 


<CODE><B>'RED.'</B></CODE> If you then type an 


<CODE><B>'O'</B></CODE> following the 


<CODE><B>'R'</B></CODE>, it displays 


<CODE><B>'ROSE'</B></CODE>.  



<PRE>length v $ 200;

fb: method event $ 20 line offset 8;
 call send(_self_, "_getText", v);
 len = length(v);
 if (len = 0) then return;
 if (event ^= "PRINTABLE") then return;
 /* get the list of valid values */
 l = getniteml(_SELF_, "LIST");
 rc = searchc(l, v, 1, 1, 'y', 'y');
 if (rc > 0) then do;
  v = getitemc(l, rc);
  call send(_SELF_, "_setText", v);
  call send(_SELF_, "_setSelect", 1,
             len+1, 1, 200);
 end;
endmethod;

/* _init method sets up the list that 
    is used to hold all possible */
/* valid selections                                                 */

init: method;
 call super(_SELF_, "_init");
 l = makelist();
 rc = insertc(l, "BLACK", -1);
 rc = insertc(l, "WHITE", -1);
 rc = insertc(l, "RED", -1);
 rc = insertc(l, "GREEN", -1);
 rc = insertc(l, "BLUE", -1);
 rc = insertc(l, "PURPLE", -1);
 rc = insertc(l, "VIOLET", -1);
 rc = insertc(l, "ORANGE", -1);
 rc = insertc(l, "YELLOW", -1);
 rc = insertc(l, "PINK", -1);
 rc = insertc(l, "CYAN", -1);
 rc = insertc(l, "MAGENTA", -1);
 rc = insertc(l, "BROWN", -1);
 rc = insertc(l, "GOLD", -1);
 rc = insertc(l, "LIME", -1);
 rc = insertc(l, "GRAY", -1);
 rc = insertc(l, "LILAC", -1);
 rc = insertc(l, "MAROON", -1);
 rc = insertc(l, "ROSE", -1);
 rc = setniteml(_SELF_, l, "LIST");

 /* force _feedback method to run all the
    time */
 call send(_SELF_, "_setMode", "ALWAYS");

endmethod;

/* Don't forget to cleanup during 
   the _term method */
term: method;
 l = getniteml(_SELF_, "LIST");
 rc = dellist(l);
 call super(_SELF_, "_term");
endmethod;</PRE>

<P><!-- navigation -->
<P><TABLE cellpadding="0" cellspacing="0">
<TR valign="top">
<TD align="center">
<A href="z4slam.htm">
<IMG border="0" SRC="../common/images/cont1.gif"><BR><FONT size="-2">Chapter Contents</FONT></A></TD>
<TD align="center">
<A href="z0231552.htm">
<IMG border="0" src="../common/images/prev1.gif"><BR><FONT size="-2">Previous</FONT></A></TD>
<TD align="center">
<A href="z0231557.htm">
<IMG border="0" SRC="../common/images/next1.gif"><BR><FONT size="-2">Next</FONT></A></TD>
<TD align="center">
<A href="#z0231554">
<IMG border="0" SRC="../common/images/top1.gif"><BR><FONT size="-2">Top of Page</FONT></A></TD>
</TR></TABLE>
<P><FONT size=1><A href="../common/images/copyrite.htm">Copyright 1999 by SAS Institute Inc., Cary, NC, USA. All rights reserved.</A></FONT>
</BODY>
</HTML>