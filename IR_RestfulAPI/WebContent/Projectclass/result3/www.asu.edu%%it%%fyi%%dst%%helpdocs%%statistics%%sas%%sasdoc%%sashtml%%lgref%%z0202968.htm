<HTML>
<!-- This page produced Mon Jul 19 13:58:41 EDT 1999
 -->
<!-- Used program version 1.118.1.2 from beta -->
<HEAD>
<!-- <META http-equiv="Content-Type" content="text/html; charset="> -->
<TITLE>Statements : BY </TITLE></HEAD>
<BODY bgcolor="#FFFFFF">
<!-- navigation -->
<TABLE cellpadding="0" cellspacing="0">
<TR valign="top">
<TD align="center">
<A href="z0293668.htm">
<IMG border="0" SRC="../common/images/cont1.gif"><BR><FONT size="-2">Chapter Contents</FONT></A></TD>
<TD align="center">
<A href="z0179227.htm">
<IMG border="0" src="../common/images/prev1.gif"><BR><FONT size="-2">Previous</FONT></A></TD>
<TD align="center">
<A href="z0289369.htm">
<IMG border="0" SRC="../common/images/next1.gif"><BR><FONT size="-2">Next</FONT></A></TD>
</TR></TABLE>
<!-- running head -->
<TABLE width="100%" cellpadding="4">
<TR valign="MIDDLE">
<TD bgcolor="#CCCC99"><I><FONT size="2">BY</FONT></I></TD>
</TR>
</TABLE><H1><FONT size="5"><A name="z0202968">BY</A></FONT></H1>

<P><HR><BR><B>Controls the operation of a SET, MERGE, MODIFY, or UPDATE statement
in the DATA step and sets up special grouping variables</B><p>

<TABLE cellpadding="4" cellspacing="2">
<TR valign="top">
<TD align="right" bgcolor="#F5F5F5" nowrap><B>Valid:</B></TD>
<TD bgcolor="#CCCCCC" align="left">in a DATA step or a PROC step
</TD></TR>
<TR valign="top">
<TD align="right" bgcolor="#F5F5F5" nowrap><B>Category:</B></TD>
<TD bgcolor="#CCCCCC" align="left">File-handling
</TD></TR>
<TR valign="top">
<TD align="right" bgcolor="#F5F5F5" nowrap><B>Type:</B></TD>
<TD bgcolor="#CCCCCC" align="left">Declarative
</TD></TR>
</TABLE><HR>
<TABLE cellspacing="0" cellpadding="1">
<TR>
<TD colspan="2"><A href="z0202968.htm#zid-2272"><FONT size="2"><B>Syntax</b></FONT></A></TD></TR>
<TR>
<TD colspan="2"><A href="z0202968.htm#zid-2273"><FONT size="2"><B>Arguments</b></FONT></A></TD></TR>
<TR>
<TD colspan="2"><A href="z0202968.htm#z0289509"><FONT size="2"><B>Details</b></FONT></A></TD></TR>
<TR>
<TD width="18"></TD>
<TD><A href="z0202968.htm#z0289510"><FONT size="2">In a DATA Step</FONT></A></TD></TR>
<TR>
<TD width="18"></TD>
<TD><A href="z0202968.htm#z0289511"><FONT size="2">In a PROC Step</FONT></A></TD></TR>
<TR>
<TD width="18"></TD>
<TD><A href="z0202968.htm#z0289512"><FONT size="2">BY-Group Processing</FONT></A></TD></TR>
<TR>
<TD width="18"></TD>
<TD><A href="z0202968.htm#z0289513"><FONT size="2">With SAS Data Views</FONT></A></TD></TR>
<TR>
<TD colspan="2"><A href="z0202968.htm#z0289514"><FONT size="2"><B>Examples</b></FONT></A></TD></TR>
<TR>
<TD width="18"></TD>
<TD><A href="z0202968.htm#z0220929"><FONT size="2">Example 1: Specifying One or More BY Variables</FONT></A></TD></TR>
<TR>
<TD width="18"></TD>
<TD><A href="z0202968.htm#z0220936"><FONT size="2">Example 2: Specifying Sort Order</FONT></A></TD></TR>
<TR>
<TD width="18"></TD>
<TD><A href="z0202968.htm#z0220933"><FONT size="2">Example 3: BY-Processing with Nonsorted Data</FONT></A></TD></TR>
<TR>
<TD width="18"></TD>
<TD><A href="z0202968.htm#z0220931"><FONT size="2">Example 4: Grouping Observations By Using Formatted Values</FONT></A></TD></TR>
<TR>
<TD colspan="2"><A href="z0202968.htm#z0289523"><FONT size="2"><B>See Also</b></FONT></A></TD></TR></TABLE>
<TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><H2><A name="zid-2272">Syntax</A></H2></TD></TR></TABLE>

<TABLE cellpadding="4" cellspacing="2">
<TR valign="top"><TD>
<B>BY</B> &lt;DESCENDING&gt;
&lt;GROUPFORMAT&gt; <I>variable-1</I> 
<BR>&lt;. . .&lt;DESCENDING&gt;
&lt;GROUPFORMAT&gt;
<BR><I>variable-n</I>&gt; &lt;NOTSORTED&gt;;
</TD></TR></TABLE>
<BR><H3><A name="zid-2273">Arguments</A></H3>

<P><A name="z0852079">&#13;</A>
<DL>
<DT><B><A name="z0852080">&#13;DESCENDING</A></B></DT>
<DD>indicates that the data sets are sorted
in descending order by the variable that is specified. DESCENDING means largest
to smallest numerically, or reverse alphabetical for character variables.
<TABLE cellpadding="4" cellspacing="2">
<TR valign="top">
<TD align="left" bgcolor="#F5F5F5" width="95" nowrap><B>Restriction:</B></TD>
<TD align="left" bgcolor="#F5F5F5">You cannot use the
DESCENDING option with indexed data sets because indexes are always stored
in ascending order.</TD>
<TR valign="top">
<TD align="left" bgcolor="#F5F5F5" width="95" nowrap><B>Featured in:</B></TD>
<TD align="left" bgcolor="#F5F5F5"><A href="#z0220936">Specifying Sort Order</A> </TD>
</TABLE>
<P></DD>

<DT><B><A name="z0852084">&#13;GROUPFORMAT</A></B></DT>
<DD>uses the formatted values, instead of the
stored values, of the variable when you reference FIRST.<B><I>variable</I></B> and LAST.<B><I>variable</I></B> in a DATA step.
<TABLE cellpadding="4" cellspacing="2">
<TR valign="top">
<TD align="left" bgcolor="#F5F5F5" width="95" nowrap><B>Restriction:</B></TD>
<TD align="left" bgcolor="#F5F5F5">You must sort the
observations in a data set based on the value of the BY variables before using
GROUPFORMAT in the BY statement.</TD>
<TR valign="top">
<TD align="left" bgcolor="#F5F5F5" width="95" nowrap><B>Restriction:</B></TD>
<TD align="left" bgcolor="#F5F5F5">You cannot use the
GROUPFORMAT option in a BY statement in a PROC step.</TD>
<TR valign="top">
<TD align="left" bgcolor="#F5F5F5" width="95" nowrap><B>Tip:</B></TD>
<TD align="left" bgcolor="#F5F5F5">GROUPFORMAT is useful when
you define your own formats to display grouped data.</TD>
<TR valign="top">
<TD align="left" bgcolor="#F5F5F5" width="95" nowrap><B>Tip:</B></TD>
<TD align="left" bgcolor="#F5F5F5">Using GROUPFORMAT in the
DATA step ensures that BY groups that you use to create a data set match those
in PROC steps that report grouped, formatted data.</TD>
<TR valign="top">
<TD align="left" bgcolor="#F5F5F5" width="95" nowrap><B>Interaction:</B></TD>
<TD align="left" bgcolor="#F5F5F5">If you also use
the NOTSORTED option, you can group the observations in a data set by the
formatted value of the BY variables instead of by sorting them.</TD>
<TR valign="top">
<TD align="left" bgcolor="#F5F5F5" width="95" nowrap><B>Comparison:</B></TD>
<TD align="left" bgcolor="#F5F5F5">BY-group processing
in the DATA step using GROUPFORMAT is the same as BY-group processing with
formatted values in SAS procedures.</TD>
<TR valign="top">
<TD align="left" bgcolor="#F5F5F5" width="95" nowrap><B>See Also:</B></TD>
<TD align="left" bgcolor="#F5F5F5">Data grouped by formatted
values in "BY-Group Processing" in    
<I><B>SAS Language Reference: Concepts</B></I>.</TD>
</TABLE>

<TABLE cellpadding="4" cellspacing="2">
<TR valign="top">
<TD align="left" bgcolor="#F5F5F5" width="95" nowrap><B>Featured in:</B></TD>
<TD align="left" bgcolor="#F5F5F5"><A href="#z0220931">Grouping Observations By Using Formatted Values</A> </TD>
</TABLE>
<P></DD>

<DT><B><B><I>variable</I></B></B></DT>
<DD>names each variable by which the data set
is sorted or indexed. These variables are referred to as BY variables for
the current DATA or PROC step.
<TABLE cellpadding="4" cellspacing="2">
<TR valign="top">
<TD align="left" bgcolor="#F5F5F5" width="95" nowrap><B>Tip:</B></TD>
<TD align="left" bgcolor="#F5F5F5">The data set can be sorted
or indexed by more than one variable.</TD>
<TR valign="top">
<TD align="left" bgcolor="#F5F5F5" width="95" nowrap><B>Featured in:</B></TD>
<TD align="left" bgcolor="#F5F5F5"><A href="#z0220929">Specifying One or More BY Variables</A>,
<A href="#z0220936">Specifying Sort Order</A>, <A href="#z0220933">BY-Processing with Nonsorted Data</A>, and
<A href="#z0220931">Grouping Observations By Using Formatted Values</A> </TD>
</TABLE>
<P></DD>

<DT><B><A name="z0852098">&#13;NOTSORTED</A></B></DT>
<DD>specifies that observations with the same
BY value are grouped together but are not necessarily sorted in alphabetical
or numeric order.
<TABLE cellpadding="4" cellspacing="2">
<TR valign="top">
<TD align="left" bgcolor="#F5F5F5" width="95" nowrap><B>Restriction:</B></TD>
<TD align="left" bgcolor="#F5F5F5">You cannot use NOTSORTED
with the MERGE and UPDATE statements.</TD>
<TR valign="top">
<TD align="left" bgcolor="#F5F5F5" width="95" nowrap><B>Tip:</B></TD>
<TD align="left" bgcolor="#F5F5F5">The NOTSORTED option can
appear anywhere in the BY statement.</TD>
<TR valign="top">
<TD align="left" bgcolor="#F5F5F5" width="95" nowrap><B>Tip:</B></TD>
<TD align="left" bgcolor="#F5F5F5">NOTSORTED is useful if you
have data that fall into other logical groupings such as chronological order
or categories.</TD>
<TR valign="top">
<TD align="left" bgcolor="#F5F5F5" width="95" nowrap><B>Featured in:</B></TD>
<TD align="left" bgcolor="#F5F5F5"><A href="#z0220933">BY-Processing with Nonsorted Data</A> </TD>
</TABLE>
<P></DD>
</DL>


<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5"><A name="z0289509">Details</A></FONT></B></TD></TR></TABLE>

<BR><H3><A name="z0289510">In a DATA Step</A></H3>


<P>The BY statement
applies only to the SET, MERGE, MODIFY, or UPDATE statement that precedes
it in the DATA step, and only one BY statement can accompany each of these
statements in a DATA step.
<P>The data sets that are listed in the SET, MERGE, or
UPDATE statements must be sorted by the values of the variables that are listed
in the BY statement or have an appropriate index.  As a default, SAS expects
the data sets to be arranged in ascending numeric order or in alphabetical
order.  The observations can be arranged by 
<P>
<UL>

<LI>sorting the data set<P>

<LI>creating an index for the
variables<P>

<LI>inputting the observations in order.<P>
</UL>
 
<P><B>Note:</B>&nbsp;&nbsp;&nbsp;MODIFY does not require sorted
data, but sorting can improve performance.&nbsp;&nbsp;<IMG border="0" src="../common/images/cautend.gif" alt="[cautionend]" align="bottom"><BR>
<BR><H3><A name="z0289511">In a PROC Step</A></H3>


<P>You can specify
the BY statement with some SAS procedures to modify their action.  Refer to
the individual procedure in    
<B>SAS Procedures Guide</B> for a discussion of how the BY statement
affects processing for SAS procedures.
<BR><H3><A name="z0289512">BY-Group Processing</A></H3>


<P>For
a complete explanation of how SAS processes grouped data and of how to prepare
your data, see "By-Group Processing" in    
<B>SAS Language Reference: Concepts</B>. 
<BR><H3><A name="z0289513">With SAS Data Views</A></H3>


<P>If you
are using SAS data views, refer to the appropriate SAS documentation for your
database management system before you use the BY statement.
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5"><A name="z0289514">Examples</A></FONT></B></TD></TR></TABLE>

<BR><H3> <A name="z0220929">Example 1: Specifying One or More BY Variables</A> </H3>


<P>
<P>
<UL>

<LI>Observations are in ascending order of the variable
DEPT:



<PRE>by dept;</PRE><P>

<LI>Observations are in alphabetical (ascending) order
by CITY and, within each value of CITY, in ascending order by ZIPCODE:



<PRE>by city zipcode;</PRE><P>
</UL>

<BR><H3> <A name="z0220936">Example 2: Specifying Sort Order</A> </H3>


<P>
<P>
<UL>

<LI>Observations are in ascending order of SALESREP
and, within each SALESREP value, in descending order of the values of JANSALES:
 
<PRE>by salesrep descending jansales;</PRE><P>

<LI>Observations are in descending order of BEDROOMS,
and, within each value of BEDROOMS, in descending order of PRICE:
<PRE>by descending bedrooms descending price;</PRE><P>
</UL>

<BR><H3> <A name="z0220933">Example 3: BY-Processing with Nonsorted Data</A> </H3>


<P>Observations are ordered by the name of the month in which the expenses were
accrued:
<PRE>     by month notsorted;</PRE>
<BR><H3> <A name="z0220931">Example 4: Grouping Observations By Using Formatted Values</A> </H3>


<P> Use PROC FORMAT to create the user-defined format RANGE:



<PRE>proc format;
   value range 1-2='LOW' 3-4='MEDIUM' 5-6='HIGH';
run;</PRE>


 Create a data set ordered by formatted values. TEST must already
be ordered by the <B>stored</B> values of SCORE. BY GROUPFORMAT causes
TEST to be processed in BY groups based on the <B>formatted</B> values
of SCORE and creates NEWTEST in this order:  



<PRE>data newtest;
   set test;
   format score range.;
   by groupformat score;
run;</PRE>


PROC PRINT uses the format RANGE to write the values of SCORE:
 



<PRE>proc print data=newtest;
   var name score
   by score;
   format score range.;
run;</PRE>
<TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5"><FONT size="5"><A name="z0289523">See Also</A></FONT>
</FONT></B></TD></TR></TABLE>
<P>
<TABLE cellpadding="6" cellspacing="2">
<TR valign="top"><TD></TD><TD>Statements:
<P>
<TABLE cellpadding="6" cellspacing="2">
<TR valign="top"><TD></TD><TD><A href="z0202970.htm">MERGE</A></TD></TR>
<TR valign="top"><TD></TD><TD><A href="z0173361.htm">MODIFY</A></TD></TR>
<TR valign="top"><TD></TD><TD><A href="z0173782.htm">SET</A></TD></TR>
<TR valign="top"><TD></TD><TD><A href="z0202975.htm">UPDATE</A></TD></TR></TABLE></TD></TR></TABLE>

<P><!-- navigation -->
<P><TABLE cellpadding="0" cellspacing="0">
<TR valign="top">
<TD align="center">
<A href="z0293668.htm">
<IMG border="0" SRC="../common/images/cont1.gif"><BR><FONT size="-2">Chapter Contents</FONT></A></TD>
<TD align="center">
<A href="z0179227.htm">
<IMG border="0" src="../common/images/prev1.gif"><BR><FONT size="-2">Previous</FONT></A></TD>
<TD align="center">
<A href="z0289369.htm">
<IMG border="0" SRC="../common/images/next1.gif"><BR><FONT size="-2">Next</FONT></A></TD>
<TD align="center">
<A href="#z0202968">
<IMG border="0" SRC="../common/images/top1.gif"><BR><FONT size="-2">Top of Page</FONT></A></TD>
</TR></TABLE>
<P><FONT size=1><A href="../common/images/copyrite.htm">Copyright 1999 by SAS Institute Inc., Cary, NC, USA. All rights reserved.</A></FONT>
</BODY>
</HTML>