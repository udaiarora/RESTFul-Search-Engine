<HTML>
<!-- This page produced Mon Jul 19 13:58:41 EDT 1999
 -->
<!-- Used program version 1.118.1.2 from beta -->
<HEAD>
<!-- <META http-equiv="Content-Type" content="text/html; charset="> -->
<TITLE>Statements : WHERE </TITLE></HEAD>
<BODY bgcolor="#FFFFFF">
<!-- navigation -->
<TABLE cellpadding="0" cellspacing="0">
<TR valign="top">
<TD align="center">
<A href="z0293668.htm">
<IMG border="0" SRC="../common/images/cont1.gif"><BR><FONT size="-2">Chapter Contents</FONT></A></TD>
<TD align="center">
<A href="z0202975.htm">
<IMG border="0" src="../common/images/prev1.gif"><BR><FONT size="-2">Previous</FONT></A></TD>
<TD align="center">
<A href="z0224863.htm">
<IMG border="0" SRC="../common/images/next1.gif"><BR><FONT size="-2">Next</FONT></A></TD>
</TR></TABLE>
<!-- running head -->
<TABLE width="100%" cellpadding="4">
<TR valign="MIDDLE">
<TD bgcolor="#CCCC99"><I><FONT size="2">WHERE</FONT></I></TD>
</TR>
</TABLE><H1><FONT size="5"><A name="z0202951">WHERE</A></FONT></H1>

<P><HR><BR><B>Selects observations from SAS data sets that meet a particular
condition</B><p>

<TABLE cellpadding="4" cellspacing="2">
<TR valign="top">
<TD align="right" bgcolor="#F5F5F5" nowrap><B>Valid:</B></TD>
<TD bgcolor="#CCCCCC" align="left">in DATA and PROC steps
</TD></TR>
<TR valign="top">
<TD align="right" bgcolor="#F5F5F5" nowrap><B>Category:</B></TD>
<TD bgcolor="#CCCCCC" align="left">Action
</TD></TR>
<TR valign="top">
<TD align="right" bgcolor="#F5F5F5" nowrap><B>Type:</B></TD>
<TD bgcolor="#CCCCCC" align="left">Declarative
</TD></TR>
</TABLE><HR>
<TABLE cellspacing="0" cellpadding="1">
<TR>
<TD colspan="2"><A href="z0202951.htm#zid-2636"><FONT size="2"><B>Syntax</b></FONT></A></TD></TR>
<TR>
<TD colspan="2"><A href="z0202951.htm#zid-2637"><FONT size="2"><B>Arguments</b></FONT></A></TD></TR>
<TR>
<TD colspan="2"><A href="z0202951.htm#z0290122"><FONT size="2"><B>Details</b></FONT></A></TD></TR>
<TR>
<TD width="18"></TD>
<TD><A href="z0202951.htm#z0173268"><FONT size="2">General Information</FONT></A></TD></TR>
<TR>
<TD width="18"></TD>
<TD><A href="z0202951.htm#z0290123"><FONT size="2">In DATA Steps</FONT></A></TD></TR>
<TR>
<TD width="18"></TD>
<TD><A href="z0202951.htm#z0290124"><FONT size="2">WHERE and BY in a DATA Step</FONT></A></TD></TR>
<TR>
<TD width="18"></TD>
<TD><A href="z0202951.htm#z0290125"><FONT size="2">In PROC Steps</FONT></A></TD></TR>
<TR>
<TD width="18"></TD>
<TD><A href="z0202951.htm#z0290126"><FONT size="2">Use of Indexes</FONT></A></TD></TR>
<TR>
<TD width="18"></TD>
<TD><A href="z0202951.htm#z0290128"><FONT size="2">Operands Used in WHERE Expressions</FONT></A></TD></TR>
<TR>
<TD width="18"></TD>
<TD><A href="z0202951.htm#z0290129"><FONT size="2">Operators Used in the WHERE Expression</FONT></A></TD></TR>
<TR>
<TD colspan="2"><A href="z0202951.htm#z0290130"><FONT size="2"><B>Comparisons</b></FONT></A></TD></TR>
<TR>
<TD colspan="2"><A href="z0202951.htm#z0290131"><FONT size="2"><B>Examples</b></FONT></A></TD></TR>
<TR>
<TD width="18"></TD>
<TD><A href="z0202951.htm#z0162359"><FONT size="2">Example 1: Basic WHERE Statement Usage</FONT></A></TD></TR>
<TR>
<TD width="18"></TD>
<TD><A href="z0202951.htm#z0162361"><FONT size="2">Example 2: Using Operators Available Only in the WHERE Statement</FONT></A></TD></TR>
<TR>
<TD colspan="2"><A href="z0202951.htm#z0290136"><FONT size="2"><B>See Also</b></FONT></A></TD></TR></TABLE>
<TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><H2><A name="zid-2636">Syntax</A></H2></TD></TR></TABLE>

<TABLE cellpadding="4" cellspacing="2">
<TR valign="top"><TD>
<B>WHERE</B> <I>where-expression-1</I>
<BR>&lt; <I>logical-operator</I>
<I>where-expression-n</I>&gt;; 
</TD></TR></TABLE>
<BR><H3><A name="zid-2637">Arguments</A></H3>

<P><A name="z0856060">&#13;</A>
<DL>
<DT><B><B><I>where-expression</I></B></B></DT>
<DD>is an arithmetic or logical expression that
generally consists of a sequence of operands and operators.
<TABLE cellpadding="4" cellspacing="2">
<TR valign="top">
<TD align="left" bgcolor="#F5F5F5" width="95" nowrap><B>Tip:</B></TD>
<TD align="left" bgcolor="#F5F5F5">The operands and operators
described in the next several sections are also valid for the WHERE= data
set option.</TD>
<TR valign="top">
<TD align="left" bgcolor="#F5F5F5" width="95" nowrap><B>Tip:</B></TD>
<TD align="left" bgcolor="#F5F5F5">You can specify multiple
where-expressions.</TD>
</TABLE>
<P></DD>

<DT><B><B><I>logical-operator</I></B></B></DT>
<DD>can be AND, AND NOT, OR, or OR NOT.<P></DD>
</DL>


<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5"><A name="z0290122">Details</A></FONT></B></TD></TR></TABLE>

<BR><H3><A name="z0173268">General Information</A></H3>


<P>Using
the WHERE statement may improve the efficiency of your SAS programs because
SAS is not required to read all observations from the input data set.
<P>The WHERE statement cannot be executed conditionally;
that is, you cannot use it as part of an IF-THEN statement.
<P>WHERE statements can contain multiple WHERE expressions
that are joined by logical operators. 
<P><B>Note:</B>&nbsp;&nbsp;&nbsp;Using indexed SAS data sets can significantly
improve performance when you use WHERE expressions to access a subset of the
observations in a SAS data set. For more information about indexes, see "Indexes"
in the "SAS Data Files" chapter of      
<B>SAS Language Reference: Concepts</B> for a complete discussion of
WHERE-expression processing with indexed data sets and a list of guidelines
to consider before you index your SAS data sets.&nbsp;&nbsp;<IMG border="0" src="../common/images/cautend.gif" alt="[cautionend]" align="bottom"><BR>
<BR><H3><A name="z0290123">In DATA Steps</A></H3>


<P>The WHERE
statement applies to all data sets in the preceding SET, MERGE, MODIFY, or
UPDATE statement, and variables that are used in the WHERE statement must
appear in all of those data sets. You cannot use the WHERE statement with
programming statements that select observations by observation number, such
as the OBS= data set option and the POINT= option in the SET and MODIFY statements.
When you use the WHERE statement, the FIRSTOBS= data set option must be 1.
You cannot use the WHERE statement to select records from an external file
that contains raw data, nor can you use the WHERE statement within the same
DATA step in which you read in-stream data with a CARDS or DATALINES statement.
<P>For each iteration of the DATA step, the first operation
the SAS System performs in each execution of a SET, MERGE, MODIFY, or UPDATE
statement is to determine whether the observation in the input data set meets
the condition of the WHERE statement. The WHERE statement takes  effect immediately
after the input data set options are applied and before any other statement
in the DATA step is executed. If a DATA step combines observations using a
WHERE statement with a MERGE, MODIFY, or UPDATE statement, SAS selects observations
from each input data set before it combines them.
<BR><H3><A name="z0290124">WHERE and BY in a DATA Step</A></H3>


<P>If a DATA step contains both a WHERE statement and a BY statement, the WHERE
statement executes <B>before</B> BY groups are created. Therefore, BY
groups reflect groups of observations in the subset of observations that are
selected by the WHERE statement, not the actual BY groups of observations
in the original input data set.
<P>For a complete discussion of BY-group processing, see "BY-Group
Processing" in      
<B>SAS Language Reference: Concepts</B>.
<BR><H3><A name="z0290125">In PROC Steps</A></H3>


<P>You can use
the WHERE statement with any SAS procedure that reads a SAS data set. The
WHERE statement is useful for subsetting the original data set for processing
by the procedure. The      
<B>SAS Procedures Guide</B> documents the action of the WHERE statement
only in those procedures for which you can specify more than one data set.
In all other cases, the WHERE statement performs as documented here.
<BR><H3><A name="z0290126">Use of Indexes</A></H3>


<P>A DATA or
PROC step attempts to use an available index to optimize the selection of
data when an indexed variable is used in combination with one of the following: 
<P>
<UL>

<LI>the BETWEEN-AND operator<P>

<LI>the
comparison operators, with or without the
colon modifier<P>

<LI>the CONTAINS operator<P>

<LI>the IS NULL and IS NOT NULL
operators<P>

<LI>the LIKE operator<P>

<LI>the TRIM function<P>

<LI>the SUBSTR function, in some
cases.<P>
</UL>

<P>SUBSTR requires the following arguments: 



<PRE>where substr(<I>variable</I>,<I>position</I>,<I>length</I><B></B>)
 ='<I>character-string</I>';</PRE>


An index is used
in processing when the arguments of the SUBSTR function meet all of the following
conditions: 
<P>
<UL>

<LI><B>position</B> is equal to 1<P>

<LI><B>length</B> is less than or equal to the
length of <B>variable</B><P>

<LI><B>length</B> is equal to the length of <B>character-string</B>.<P>
</UL>

<BR><H3><A name="z0290128">Operands Used in WHERE Expressions</A></H3>


<P>Operands
include
<P>
<UL>

<LI>constants<P>

<LI>time and date values<P>

<LI>values of variables that are
obtained from the
SAS data sets<P>

<LI>values created within the WHERE expression itself.<P>
</UL>

<P>You cannot use variables that are created within
the DATA step (for
example, FIRST.<B>variable</B>, LAST.<B>variable</B>, _N_, or
variables that are created in assignment statements) in a WHERE expression
because the WHERE statement is executed before the SAS System brings observations
into the DATA or PROC step. When WHERE expressions contain comparisons, the
unformatted values of variables are compared.
<P>Use operands in WHERE statements as in the following
examples: 
<P>
<UL>

<LI>where score>50;<P>

<LI>where date>='01jan1999'd and
time>='9:00't;<P>

<LI>where state='Mississippi';<P>
</UL>

<P>As in other SAS expressions, the names of numeric
variables
can stand alone. SAS treats values of 0 or missing as false; other values
are true. These examples are WHERE expressions that contain the numeric variables
EMPNUM and SSN: 
<P>
<UL>

<LI>where empnum;<P>

<LI>where empnum and
ssn;<P>
</UL>

<P>Character literals or the names of character variables
can also stand alone in WHERE expressions. If you use the name of a character
variable by itself as a WHERE expression, SAS selects observations where the
value of the character variable is not blank.
<BR><H3><A name="z0290129">Operators Used in the WHERE Expression</A></H3>


<P>You can include both SAS operators and special WHERE expression operators
in the WHERE statement. For a complete list of the operators, see <A href="#z0654221">WHERE Statement Operators</A>. For the rules SAS follows
when it evaluates WHERE expressions, see "WHERE Processing" in
     
<B>SAS Language Reference: Concepts</B>.
<P>
<P>
<TABLE cellpadding="6" cellspacing="0" border="0">
<CAPTION align="top"><B><I><A name="z0654221">WHERE Statement Operators</A></I></B></CAPTION>


<TR valign="bottom" bgcolor="#CCCCCC">
  <TH  colspan="2" align="LEFT" valign="BOTTOM" ><B><A name="z0654221">&#13; Operator Type </A></B></TH>
  <TH  align="LEFT" valign="BOTTOM" ><B>Symbol or Mnemonic </B></TH>
  <TH  align="LEFT" valign="BOTTOM" ><B> Description </B></TH>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  colspan="2" align="LEFT" valign="TOP">Arithmetic    </TD>
  
<TD  align="LEFT" valign="TOP"><BR></TD>
  
<TD  align="LEFT" valign="TOP"><BR></TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  colspan="2" align="LEFT" valign="TOP"><BR></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856110">&#13;*</A></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856111">&#13;multiplication</A></TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD ><BR></TD>
  
<TD  align="LEFT" valign="TOP"><BR></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856113">&#13;/</A></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856114">&#13;division</A></TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD ><BR></TD>
  
<TD  align="LEFT" valign="TOP"><BR></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856116">&#13;+</A></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856117">&#13;addition</A></TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD ><BR></TD>
  
<TD  align="LEFT" valign="TOP"><BR></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856119">&#13;-</A></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856120">&#13;subtraction</A></TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD ><BR></TD>
  
<TD  align="LEFT" valign="TOP"><BR></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856122">&#13;**</A></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856123">&#13;exponentiation</A></TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  colspan="2" align="LEFT" valign="TOP">Comparison</TD>
  
<TD  align="LEFT" valign="TOP"><BR></TD>
  
<TD  align="LEFT" valign="TOP"><BR></TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  colspan="2" align="LEFT" valign="TOP"><BR></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856128">&#13;= or EQ</A></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856129">&#13;equal to</A></TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD ><BR></TD>
  
<TD  align="LEFT" valign="TOP"><BR></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856131">&#13; &circ;=, &lt;>, or NE
</A><FONT size="-1"><A name="z0093706">&nbsp;</A><A href="#z0654221-tblnote1">(table note 1)</A></FONT></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856133">&#13;not equal to</A></TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD ><BR></TD>
  
<TD  align="LEFT" valign="TOP"><BR></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856135">&#13;> or GT   </A></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856136">&#13;greater than</A></TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD ><BR></TD>
  
<TD  align="LEFT" valign="TOP"><BR></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856138">&#13;&lt; or LT</A></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856139">&#13;less than</A></TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD ><BR></TD>
  
<TD  align="LEFT" valign="TOP"><BR></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856141">&#13;>= or GE  </A></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856142">&#13;greater than or equal to</A></TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD ><BR></TD>
  
<TD  align="LEFT" valign="TOP"><BR></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856144">&#13;&lt;= or LE </A></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856145">&#13;less than or equal to</A></TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD ><BR></TD>
  
<TD  align="LEFT" valign="TOP"><BR></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856147">&#13;IN</A></TD>
  
<TD  align="LEFT" valign="TOP">equal to one of a list</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  colspan="2" align="LEFT" valign="TOP">Logical (Boolean)    </TD>
  
<TD  align="LEFT" valign="TOP"><BR></TD>
  
<TD  align="LEFT" valign="TOP"><BR></TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  colspan="2" align="LEFT" valign="TOP"><BR></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856153">&#13;&amp; or AND</A></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856154">&#13;logical and</A></TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD ><BR></TD>
  
<TD  align="LEFT" valign="TOP"><BR></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856156">&#13;| or OR</A><FONT size="-1"><A name="z0093707">&nbsp;</A><A href="#z0654221-tblnote2">(table note 2)</A></FONT></TD>
  
<TD  align="LEFT" valign="TOP">logical or</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD ><BR></TD>
  
<TD  align="LEFT" valign="TOP"><BR></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856160">&#13;~,^
, &not;, or NOT</A><FONT size="-1"><A name="z0713990">&nbsp;</A><A href="#z0654221-tblnote3">(table note 3)</A></FONT></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856162">&#13;logical not</A></TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  colspan="2" align="LEFT" valign="TOP">Other</TD>
  
<TD  align="LEFT" valign="TOP"><BR></TD>
  
<TD  align="LEFT" valign="TOP"><BR></TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD ><BR></TD>
  
<TD  align="LEFT" valign="TOP"><BR></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856167">&#13;||</A><FONT size="-1"><A name="z0093708">&nbsp;</A><A href="#z0654221-tblnote4">(table note 4)</A></FONT></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856169">&#13;concatenation
of character variables</A></TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD ><BR></TD>
  
<TD  align="LEFT" valign="TOP"><BR></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856171">&#13;( )</A></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856172">&#13;indicate order of
evaluation</A></TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD ><BR></TD>
  
<TD  align="LEFT" valign="TOP"><BR></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856174">&#13;+ prefix</A></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856175">&#13;positive number</A></TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD ><BR></TD>
  
<TD  align="LEFT" valign="TOP"><BR></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856177">&#13;-
prefix</A></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856178">&#13;negative number</A></TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP"><BR></TD>
  
<TD  align="LEFT" valign="TOP">WHERE Expression Only</TD>
  
<TD ><BR></TD>
  
<TD ><BR></TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD ><BR></TD>
  
<TD ><BR></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856181">&#13;BETWEEN-AND</A></TD>
  
<TD  align="LEFT" valign="TOP">an inclusive range</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD ><BR></TD>
  
<TD ><BR></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856183">&#13;?
or CONTAINS</A></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856184">&#13;a character string</A></TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD ><BR></TD>
  
<TD ><BR></TD>
  
<TD  align="LEFT" valign="TOP">IS NULL or IS MISSING</TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856186">&#13;missing values</A></TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD ><BR></TD>
  
<TD ><BR></TD>
  
<TD  align="LEFT" valign="TOP">LIKE</TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856188">&#13;match patterns</A></TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD ><BR></TD>
  
<TD ><BR></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856189">&#13;=*</A></TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856190">&#13;sounds-like</A></TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD ><BR></TD>
  
<TD ><BR></TD>
  
<TD  align="LEFT" valign="TOP">SAME-AND</TD>
  
<TD  align="LEFT" valign="TOP"><A name="z0856192">&#13;add clauses to an existing WHERE statement without retyping
original one</A></TD>
</TR>

</TABLE>

<HR><A name="z0654221-tblnote1"><FONT size="-1">TABLE NOTE 1:&nbsp;&nbsp;</FONT></A>
<P>The caret (^), tilde (~), and the not sign (&not; ) all indicate a logical
not. Use the character available on your keyboard, or use the mnemonic equivalent.&nbsp;<A href="#z0093706"><IMG border="0" src="../common/images/fntarrow.gif" alt="[arrow]"></A>
<HR><A name="z0654221-tblnote2"><FONT size="-1">TABLE NOTE 2:&nbsp;&nbsp;</FONT></A>
<P>The OR
symbol ( | ), broken vertical bar  ( | ),   and exclamation point (!)
all indicate a logical or. Use the character available on your keyboard, or
use the mnemonic equivalent.   &nbsp;<A href="#z0093707"><IMG border="0" src="../common/images/fntarrow.gif" alt="[arrow]"></A>
<HR><A name="z0654221-tblnote3"><FONT size="-1">TABLE NOTE 3:&nbsp;&nbsp;</FONT></A>
<P>The caret (^),
tilde (~), and the not sign (&not; ) all indicate a logical not. Use the character
available on your keyboard, or use the mnemonic equivalent. &nbsp;<A href="#z0713990"><IMG border="0" src="../common/images/fntarrow.gif" alt="[arrow]"></A>
<HR><A name="z0654221-tblnote4"><FONT size="-1">TABLE NOTE 4:&nbsp;&nbsp;</FONT></A>
<P>Two OR
symbols (|  | ), two broken vertical bars ( | | ), or two exclamation points
(!!) indicate concatenation. Use the character available on your keyboard.&nbsp;<A href="#z0093708"><IMG border="0" src="../common/images/fntarrow.gif" alt="[arrow]"></A>
<BR>
<P>You can use the colon modifier (:) with any of the comparison
operators. See <A href="z0228817.htm">SAS Operators</A>
for more information about the colon modifier.
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5"><A name="z0290130">Comparisons</A></FONT></B></TD></TR></TABLE>

<P>
<P>
<UL>

<LI><A name="z0856195">&#13;You can use the WHERE command
in SAS/FSP software to subset data for editing and browsing. You can use both
the WHERE statement and WHERE= data set option in windowing procedures and
in conjunction with the WHERE command.</A><P>

<LI>To select observations from individual data sets
when a SET, MERGE, MODIFY, or UPDATE statement specifies more than one data
set, apply a WHERE= data set option to each data set. In the DATA step, if
a WHERE statement and a WHERE= data set option apply to the same data set,
SAS uses the data set option and ignores the statement.<P>

<LI><A name="z0856197">&#13;The
most important differences
between the WHERE statement in the DATA step and the subsetting IF statement
are as follows: </A>
<P>
<UL>

<LI>The WHERE statement selects observations <B>before</B> they are brought into the program data vector, making it a more
efficient programming technique. The subsetting IF statement works on observations
after they are read into the program data vector.<P>

<LI>The WHERE statement can produce a different data
set from the subsetting IF when a BY statement accompanies a SET, MERGE, or
UPDATE statement. The different data set occurs because SAS creates BY groups
before the subsetting IF statement selects but after the WHERE statement selects.<P>

<LI>The WHERE statement cannot be executed conditionally
as part of an IF statement, but the subsetting IF statement can.<P>

<LI>The WHERE statement selects observations in SAS
data sets only, whereas the subsetting IF statement selects observations from
an existing SAS data set or from observations that are created with an INPUT
statement.<P>

<LI>The subsetting IF statement cannot be used in
SAS windowing procedures to subset observations for browsing or editing.<P>
</UL>
<P>

<LI>Do not confuse the WHERE statement with the DROP
or KEEP statement.  The DROP and KEEP statements select variables for processing.
The WHERE statement selects observations.<P>
</UL>

<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5"><A name="z0290131">Examples</A></FONT></B></TD></TR></TABLE>

<BR><H3> <A name="z0162359">Example 1: Basic WHERE Statement Usage</A> </H3>


<P>This DATA step produces a SAS data set that contains only observations from
data set CUSTOMER in which the value for NAME begins with 


<CODE><B>Mac</B></CODE>
and the value for CITY is 


<CODE><B>Charleston</B></CODE> or 


<CODE><B>Atlanta</B></CODE>.  



<PRE>data testmacs;
   set customer;
   where substr(name,1,3)='Mac' and
         (city='Charleston' or city='Atlanta');
run;</PRE>
<BR><H3> <A name="z0162361">Example 2: Using Operators Available Only in the WHERE Statement</A> </H3>


<UL>

<LI>Using BETWEEN-AND:
<PRE>where empnum between 500 and 1000;</PRE><P>

<LI>Using CONTAINS:
<PRE>where company ? 'bay';
where company contains 'bay';</PRE><P>

<LI>Using IS NULL and IS MISSING:
<PRE>where name is null;
where name is missing;</PRE><P>

<LI>Using LIKE to select all names that start with
the letter D:
<PRE>where name like 'D%';</PRE><P>

<LI>Using LIKE to match patterns from a list of the
following names:



<TABLE cellpadding="6" cellspacing="2">
<TR valign="top"><TD></TD><TD>Diana</TD></TR>
<TR valign="top"><TD></TD><TD>Diane</TD></TR>
<TR valign="top"><TD></TD><TD>Dianna</TD></TR>
<TR valign="top"><TD></TD><TD>Dianthus</TD></TR>
<TR valign="top"><TD></TD><TD>Dyan</TD></TR></TABLE>
<P>
<TABLE cellpadding="6" cellspacing="0" border="0">


<TR valign="bottom" bgcolor="#CCCCCC">
  <TH  align="LEFT" valign="TOP" ><B>WHERE Statement</B></TH>
  <TH  align="LEFT" valign="TOP" ><B>Name Selected</B></TH>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">
<PRE>where name like 'D_an';</PRE>
</TD>
  
<TD  align="LEFT" valign="TOP">Dyan</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">
<PRE>where name like 'D_an_';</PRE>
</TD>
  
<TD  align="LEFT" valign="TOP">Diana, Diane</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">
<PRE>where name like 'D_an__';</PRE>
</TD>
  
<TD  align="LEFT" valign="TOP">Dianna</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">
<PRE>where name like 'D_an%';</PRE>
</TD>
  
<TD  align="LEFT" valign="TOP">all names from list</TD>
</TR>

</TABLE>

<BR><P>

<LI>Using the Sounds-like
Operator to select names
that sound like "Smith":
<PRE>where lastname=*'Smith';</PRE><P>

<LI>Using  SAME-AND:
<PRE>where year>1991;
<I>...more SAS statements...</I>
where same and year&lt;1999;</PRE>
<P>In this example, the second WHERE statement is equivalent
to the following WHERE statement:
<PRE>where year>1991 and year&lt;1999;</PRE><P>
</UL>

<P>
<TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5"><FONT size="5"><A name="z0290136">See Also</A></FONT>
</FONT></B></TD></TR></TABLE>
<P>
<TABLE cellpadding="6" cellspacing="2">
<TR valign="top"><TD></TD><TD>Data Set Option:



<TABLE cellpadding="6" cellspacing="2">
<TR valign="top"><TD></TD><TD><A href="z0131192.htm">WHERE=</A>
    </TD></TR></TABLE></TD></TR>
<TR valign="top"><TD></TD><TD>Statement:



<TABLE cellpadding="6" cellspacing="2">
<TR valign="top"><TD></TD><TD><A href="z0201978.htm">IF, Subsetting</A></TD></TR></TABLE></TD></TR>
<TR valign="top"><TD></TD><TD><B>SAS
Guide to the SQL Procedure: Usage and         Reference</B></TD></TR>
<TR valign="top"><TD></TD><TD><B>SAS/IML Software: Usage and
Reference</B></TD></TR>
<TR valign="top"><TD></TD><TD><B>SAS Procedures Guide</B>     </TD></TR>
<TR valign="top"><TD></TD><TD>"SAS Indexes" in
<B>SAS Language Reference:
Concepts</B>     </TD></TR>
<TR valign="top"><TD></TD><TD>"WHERE Processing" in <B>SAS Language
Reference: Concepts</B>     </TD></TR>
<TR valign="top"><TD></TD><TD>"BY-Group Processing" in <B>SAS Language
Reference: Concepts</B>     </TD></TR>
<TR valign="top"><TD></TD><TD>Beatrous, S. &amp; Clifford, W. (1998), "Sometimes
You Do Get What You Want: SAS I/O Enhancements in Version 7," <B>Proceedings of the Twenty-third Annual SAS Users Group International
Conference</B>, 23.</TD></TR></TABLE>

<P><!-- navigation -->
<P><TABLE cellpadding="0" cellspacing="0">
<TR valign="top">
<TD align="center">
<A href="z0293668.htm">
<IMG border="0" SRC="../common/images/cont1.gif"><BR><FONT size="-2">Chapter Contents</FONT></A></TD>
<TD align="center">
<A href="z0202975.htm">
<IMG border="0" src="../common/images/prev1.gif"><BR><FONT size="-2">Previous</FONT></A></TD>
<TD align="center">
<A href="z0224863.htm">
<IMG border="0" SRC="../common/images/next1.gif"><BR><FONT size="-2">Next</FONT></A></TD>
<TD align="center">
<A href="#z0202951">
<IMG border="0" SRC="../common/images/top1.gif"><BR><FONT size="-2">Top of Page</FONT></A></TD>
</TR></TABLE>
<P><FONT size=1><A href="../common/images/copyrite.htm">Copyright 1999 by SAS Institute Inc., Cary, NC, USA. All rights reserved.</A></FONT>
</BODY>
</HTML>