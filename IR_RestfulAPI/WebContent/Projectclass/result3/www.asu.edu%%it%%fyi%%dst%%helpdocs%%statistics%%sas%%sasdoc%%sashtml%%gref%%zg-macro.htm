<HTML>
<!-- This page produced Fri Jul  9 14:14:38 EDT 1999
 -->
<!-- Used program version 1.118.1.2 from beta -->
<HEAD>
<!-- <META http-equiv="Content-Type" content="text/html; charset="> -->
<TITLE>Annotate Dictionary : Using Annotate Macros </TITLE></HEAD>
<BODY bgcolor="#FFFFFF">
<!-- navigation -->
<TABLE cellpadding="0" cellspacing="0">
<TR valign="top">
<TD align="center">
<A href="zictchap.htm">
<IMG border="0" SRC="../common/images/cont1.gif"><BR><FONT size="-2">Chapter Contents</FONT></A></TD>
<TD align="center">
<A href="z0218158.htm">
<IMG border="0" src="../common/images/prev1.gif"><BR><FONT size="-2">Previous</FONT></A></TD>
<TD align="center">
<A href="znnochap.htm">
<IMG border="0" SRC="../common/images/next1.gif"><BR><FONT size="-2">Next</FONT></A></TD>
</TR></TABLE>
<!-- running head -->
<TABLE width="100%" cellpadding="4">
<TR valign="MIDDLE">
<TD bgcolor="#CCCC99"><I><FONT size="2">SAS/GRAPH Software: Reference                                                                                             </FONT></I></TD>
</TR>
</TABLE><H1><FONT size="5"><A name="zg-macro">Using Annotate Macros</A></FONT></H1>


<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5">Macro Structure</FONT></B></TD></TR></TABLE>

<P><A name="z0754644">&#13;  The general form of an Annotate macro
is</A>
<P>  



<PRE>%MACRO (parameters);</PRE>
<P>In general, the macro name represents a function and
the parameters contain the values for the variables that can be used with
the function. All macros except DCLANNO, SYSTEM, and SEQUENCE output an observation.
<P>The parameters are either numeric or character.  Numeric
parameters can be numeric constants or numeric variable names that have been
initialized to the appropriate value.  Most character parameters must be expressed
as literals, that is character strings without quotation marks.  Exceptions
are the text values that are used with the COMMENT and LABEL macros, which
can be expressed as character strings enclosed in quotation marks or as character
variable names.
<P>The Annotate facility assigns the parameter values to
the corresponding Annotate variables. Therefore, the observations in an Annotate
data set that is created with macros that look the same as the ones that you
created with assignment statements.
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5">Making the Macros Available</FONT></B></TD></TR></TABLE>

<P><A name="z0754649">&#13;  To use Annotate
macros, you must provide your program with
access to the data set that contains the macros, and you must compile the
macros before you use them. Check with your SAS Software Consultant to find
out if the fileref for the data set that contains the Annotate macros that
are supplied with  SAS/GRAPH  software
is allocated automatically at your site. Then access the Annotate macros in
one of these ways: </A>
<P>
<UL>

<LI>If the fileref is not set automatically, find
out where the Annotate macros are stored and allocate a fileref that points
to the data set:  



<PRE>filename fileref 'external-file';</PRE>
<P>Then include the Annotate macros in your session:  



<PRE>%include fileref (annomac);</PRE><P>

<LI>If the fileref is set automatically, compile the
Annotate macros and make them available by simply submitting the ANNOMAC macro:
 



<PRE>%annomac;</PRE>


 
<P><B>Note:</B>&nbsp;&nbsp;&nbsp;The ANNOMAC macro must be run
before any other Annotate macros are used in a SAS session. You will see a
message in the SAS log that indicates that the Annotate macros are now available.
 The message also shows you how to get help for using the macros.&nbsp;&nbsp;<IMG border="0" src="../common/images/cautend.gif" alt="[cautionend]" align="bottom"><BR><P>
</UL>

<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5">Annotate Macro Task Summary</FONT></B></TD></TR></TABLE>

<P><A name="z0754654">&#13;  The following table summarizes
the tasks performed by the Annotate
macros. </A>
<P>
<TABLE cellpadding="6" cellspacing="0" border="1">
<CAPTION align="top"><B><I><A name="zrotable">Tasks with Annotate Macros</A></I></B></CAPTION>


<TR valign="bottom" bgcolor="#CCCCCC">
  <TH  valign="BOTTOM" align="left"><B>If you want to... </B></TH>
  <TH  valign="BOTTOM" align="left"><B>Use this macro... </B></TH>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  valign="TOP">assign values of (XLSTT,YLSTT) to (XLAST,YLAST)</TD>
  
<TD  valign="TOP">%TXT2CNTL;</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  valign="TOP">begin drawing a polygon </TD>
  
<TD  valign="TOP">%POLY(<B>x, y, color, style, line</B>);</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  valign="TOP">continue drawing a polygon </TD>
  
<TD  valign="TOP">%POLYCONT(<B>x, y, color</B>);</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  valign="TOP">copy (XLAST,YLAST) to (XLSTT,YLSTT) </TD>
  
<TD  valign="TOP">%CNTL2TXT;</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  valign="TOP">declare all variables </TD>
  
<TD  valign="TOP">%DCLANNO;</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  valign="TOP">draw a bar </TD>
  
<TD  valign="TOP">%BAR(<B>x</B>1, <B>y</B>1, <B>x</B>2, <B>y</B>2, <B>color, line, style</B>);</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  valign="TOP">draw a circle </TD>
  
<TD  valign="TOP">%CIRCLE(<B>x, y, size, color</B>);</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  valign="TOP">draw a frame </TD>
  
<TD  valign="TOP">%FRAME(<B>color, line, size, style</B>);</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  valign="TOP">draw a line from (XLAST,YLAST) to (XLSTT,YLSTT) </TD>
  
<TD  valign="TOP">%DRAW2TXT(<B>color, line, size</B>);</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  valign="TOP">draw a line
from previous point </TD>
  
<TD  valign="TOP">%DRAW(<B>x, y, color, line, size</B>);</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  valign="TOP">draw a line </TD>
  
<TD  valign="TOP">%LINE(<B>x</B>1, <B>y</B>1, <B>x</B>2, <B>y</B>2, <B>color, line, size</B>);</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  valign="TOP">draw a pie slice or arc </TD>
  
<TD  valign="TOP">%SLICE(<B>x, y, angle, rotate, size,
color, style, line</B>);</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  valign="TOP">draw a rectangle </TD>
  
<TD  valign="TOP">%RECT(<B>x</B> 1,<B>y</B> 1,<B>x</B> 2,<B>y</B> 2, <B>color,
line, size</B>);</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  valign="TOP">draw text </TD>
  
<TD  valign="TOP">%LABEL(<B>x, y, text, color, angle, rotate, size, style, position</B>);</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  valign="TOP">exchange the values of (XLAST,YLAST) and (XLSTT,YLSTT) </TD>
  
<TD  valign="TOP">%SWAP;</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  valign="TOP">move to a point near a pie slice </TD>
  
<TD  valign="TOP">%PIEXY(<B>angle, size</B>);</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  valign="TOP">move to a point
without drawing </TD>
  
<TD  valign="TOP">%MOVE(<B>x, y</B>);</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  valign="TOP">put values
into a stack </TD>
  
<TD  valign="TOP">%PUSH;</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  valign="TOP">retrieve values from a stack </TD>
  
<TD  valign="TOP">%POP;</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  valign="TOP">scale and move input </TD>
  
<TD  valign="TOP">%SCALET(<B>ptx, pty, x</B>0, <B>y</B>0, <B>x</B>1, <B>y</B>1, <B>x</B>0, <B>vy</B>0,
<B>vx</B>1, <B>vy</B>1);</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  valign="TOP">scale input </TD>
  
<TD  valign="TOP">%SCALE(<B>ptx, pty, x</B>0, <B>y</B>0, <B>x</B>1, <B>y</B>1, <B>x</B>0, <B>vy</B>0,
<B>vx</B>1, <B>vy</B>1);</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  valign="TOP">set the coordinate
system for the observation </TD>
  
<TD  valign="TOP">%SYSTEM(<B>xsys, ysys, hsys</B>);</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  valign="TOP">set when to draw an observation </TD>
  
<TD  valign="TOP">%SEQUENCE(<B>when</B>);</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  valign="TOP">write a comment to the data set </TD>
  
<TD  valign="TOP">%COMMENT(<B>text</B>);</TD>
</TR>

</TABLE>

<BR>

<P><!-- navigation -->
<P><TABLE cellpadding="0" cellspacing="0">
<TR valign="top">
<TD align="center">
<A href="zictchap.htm">
<IMG border="0" SRC="../common/images/cont1.gif"><BR><FONT size="-2">Chapter Contents</FONT></A></TD>
<TD align="center">
<A href="z0218158.htm">
<IMG border="0" src="../common/images/prev1.gif"><BR><FONT size="-2">Previous</FONT></A></TD>
<TD align="center">
<A href="znnochap.htm">
<IMG border="0" SRC="../common/images/next1.gif"><BR><FONT size="-2">Next</FONT></A></TD>
<TD align="center">
<A href="#zg-macro">
<IMG border="0" SRC="../common/images/top1.gif"><BR><FONT size="-2">Top of Page</FONT></A></TD>
</TR></TABLE>
<P><FONT size=1><A href="../common/images/copyrite.htm">Copyright 1999 by SAS Institute Inc., Cary, NC, USA. All rights reserved.</A></FONT>
</BODY>
</HTML>