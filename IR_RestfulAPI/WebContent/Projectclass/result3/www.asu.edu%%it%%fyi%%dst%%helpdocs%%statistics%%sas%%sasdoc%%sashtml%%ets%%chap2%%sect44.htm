<HTML>
<HEAD>
<TITLE>Using Interval Functions for Calendar Calculations</TITLE>
<LINK REL="STYLESHEET" TYPE="text/css" HREF="../sas.css">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<!--Navigation Panel-->
<TABLE BORDER="0" CELLPADDING="0">
<TR VALIGN="TOP">
  <TD ALIGN="CENTER">
  <A NAME="topofpage" HREF="index.htm">
  <IMG BORDER="0" SRC="../../common/images/cont1.gif" ALT="Chapter Contents" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Chapter Contents</FONT></A></TD>
  <TD ALIGN=CENTER>
  <A HREF="sect43.htm"><IMG BORDER="0" SRC="../../common/images/prev1.gif" ALT="Previous" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Previous</FONT></A></TD>
  <TD ALIGN=CENTER>
  <A HREF="sect45.htm"><IMG BORDER="0" SRC="../../common/images/next1.gif" ALT="Next" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Next</FONT></A></TD>
</TR>
</TABLE>
<TABLE BGCOLOR="#CCCC99" WIDTH="100%" CELLPADDING=4>
<TR>
  <TD VALIGN=MIDDLE CLASS="chaphead"><I><FONT SIZE="2">Working with Time Series Data</FONT></I></TD>
</TR>
</TABLE><BR>
<P><!--End of Navigation Panel-->
<H2>Using Interval Functions for Calendar Calculations  </H2>
<P><A NAME="idxtsd0355">&#13;</A><A NAME="idxtsd0354">&#13;</A><A NAME="idxtsd0357">&#13;</A><A NAME="idxtsd0356">&#13;</A><A NAME="idxtsd0359">&#13;</A><A NAME="idxtsd0358">&#13;</A><A NAME="idxtsd0361">&#13;</A><A NAME="idxtsd0360">&#13;</A><A NAME="idxtsd0363">&#13;</A><A NAME="idxtsd0362">&#13;</A>With a little thought, you can come up with a formula involving
INTNX and INTCK functions and different interval types to
perform almost any calendar calculation.
<P>For example, suppose you want to know the date of the third Wednesday
in the month of October 1991.
The answer can be computed as
<PRE>
   intnx( 'week.4', '1oct91'd - 1, 3 )
</PRE>
which returns the SAS date value '16OCT91'D.
<P>Consider this more complex example:
how many weekdays are there between 17 October 1991 and the
second Friday in November 1991, inclusive?
The following formula
computes the number of weekdays between the date value contained in
the variable DATE and the second Friday of the following month
(including the ending dates of this period):
<P><PRE>
   n = intck( 'weekday', date - 1,
       intnx( 'week.6', intnx( 'month', date, 1 ) - 1, 2 ) + 1 );
</PRE>
<P>Setting DATE to '17OCT91'D and applying this formula produces
the answer, N=17.
<P>
<P>
<!--Navigation Panel-->
<TABLE BORDER="0" CELLPADDING="0">
<TR VALIGN="TOP">
  <TD ALIGN="CENTER">
  <A HREF="index.htm">
  <IMG BORDER="0" SRC="../../common/images/cont1.gif" ALT="Chapter Contents" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Chapter Contents</FONT></A></TD>
  <TD ALIGN=CENTER>
  <A HREF="sect43.htm"><IMG BORDER="0" SRC="../../common/images/prev1.gif" ALT="Previous" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Previous</FONT></A></TD>
  <TD ALIGN=CENTER>
  <A HREF="sect45.htm"><IMG BORDER="0" SRC="../../common/images/next1.gif" ALT="Next" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Next</FONT></A></TD>
  <TD ALIGN=CENTER>
  <A HREF="#topofpage">
  <IMG BORDER="0" SRC="../../common/images/top1.gif" ALT="Top" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Top</FONT></A></TD>
</TR>
</TABLE>
<P><!--End of Navigation Panel-->
<P><FONT SIZE="1"><A HREF="../../common/images/copyrite.htm">Copyright &copy; 1999 by SAS Institute Inc., Cary, NC, USA. All rights reserved.</A></FONT>
</BODY>
</HTML>
