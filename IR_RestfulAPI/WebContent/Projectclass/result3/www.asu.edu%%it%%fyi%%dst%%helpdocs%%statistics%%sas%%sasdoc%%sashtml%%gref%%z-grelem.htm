<HTML>
<!-- This page produced Fri Jul  9 14:14:38 EDT 1999
 -->
<!-- Used program version 1.118.1.2 from beta -->
<HEAD>
<!-- <META http-equiv="Content-Type" content="text/html; charset="> -->
<TITLE>The Annotate Data Set : About Annotate Graphics </TITLE></HEAD>
<BODY bgcolor="#FFFFFF">
<!-- navigation -->
<TABLE cellpadding="0" cellspacing="0">
<TR valign="top">
<TD align="center">
<A href="zatachap.htm">
<IMG border="0" SRC="../common/images/cont1.gif"><BR><FONT size="-2">Chapter Contents</FONT></A></TD>
<TD align="center">
<A href="zaboutds.htm">
<IMG border="0" src="../common/images/prev1.gif"><BR><FONT size="-2">Previous</FONT></A></TD>
<TD align="center">
<A href="zcreatds.htm">
<IMG border="0" SRC="../common/images/next1.gif"><BR><FONT size="-2">Next</FONT></A></TD>
</TR></TABLE>
<!-- running head -->
<TABLE width="100%" cellpadding="4">
<TR valign="MIDDLE">
<TD bgcolor="#CCCC99"><I><FONT size="2">SAS/GRAPH Software: Reference                                                                                             </FONT></I></TD>
</TR>
</TABLE><H1><FONT size="5"><A name="z-grelem">About Annotate Graphics</A></FONT></H1>


<P><A name="z0689742">&#13;When you create Annotate graphics, you specify these things: </A>
<P>
<UL>

<LI>what to draw (graphics
elements)<P>

<LI>where to draw those elements (the  coordinates
of the position on the output)<P>

<LI>how to draw (characteristics of the element such
as size or color).<P>
</UL>

<P>The following sections describe these components of
the graphics output that are produced by an Annotate data set.
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5"><A name="zlements">Graphics Elements</A></FONT></B></TD></TR></TABLE>

<P><A name="z0689747">&#13;  
In an Annotate data set, the FUNCTION variable determines the graphics element
that is drawn.  The particular graphics elements that you can draw are shown
in </A><A href="#zfgrelem">Annotate Graphics Elements</A>
along with the value of the FUNCTION variable or Annotate macro that draws
them. 
<P>
<P>
<B><I><A name="zfgrelem">Annotate Graphics Elements</A></I></B><BR>


<P><IMG border="0" src="./images/01329199.gif" vspace="12" alt="[IMAGE]">
<P>
<P>You
can control the position of graphics elements in
the following ways: 
<P>
<UL>

<LI>explicitly, using coordinates that you supply.<P>

<LI>dependently, based on the location of features
in the  SAS/GRAPH  output.  For example,
when you use the GCHART procedure, you can label the parts of a subgrouped
vertical bar chart by using the SUBGROUP variable in your Annotate data set.
The Annotate facility enables you to label subgroups without having to specify
the actual coordinates of the subgroup bar.<P>

<LI>dependently, based on values that are supplied
from other data sets. For example, you can label the ending point of a plot
line in the GPLOT procedure by extracting the value of the last point in the
sorted input data set.<P>
</UL>

<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5">Coordinates</FONT></B></TD></TR></TABLE>

<P><A name="z0689753">&#13;  Coordinates specify where to put graphics elements. These variables
can contain coordinate values: </A>
<P>
<UL>

<LI>X, Y, and Z are used for numeric coordinates.
(Use Z to annotate graphics output from the G3D procedure only.)<P>

<LI>XC and YC are used for character coordinates.<P>

<LI>GROUP,
MIDPOINT, and SUBGROUP can be used when
you annotate output from the GCHART procedure. Use these variables to specify
coordinates for horizontal or vertical bar charts.<P>
</UL>

<P>Coordinates are interpreted in terms of a coordinate
system in order to identify a precise location in the graphics output.
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5"><A name="zord-sys">Coordinate Systems</A></FONT></B></TD></TR></TABLE>

<P><A name="z0689758">&#13;  
A coordinate system determines how coordinates are interpreted.  You specify
a coordinate system to use for each dimension, using the XSYS, YSYS, and ZSYS
variables (for X, Y, and Z, respectively). Use ZSYS to annotate graphics output
only from the G3D procedure.</A>
<P>You also specify a coordinate system for the SIZE variable
using the HSYS variable. HSYS takes the same kinds of values as XSYS, YSYS,
and ZSYS.  The SIZE variable specifies the size of a graphics element, such
as the width of lines (for example, FRAME), the radius of pie slices (for
example, PIE, PIECNTR, and PIEXY), or the height of text (for example, LABEL
and SYMBOL).
<P>These are the important components of the Annotate coordinate
systems: 
<P>
<UL>

<LI> <B>Area:</B> Each coordinate system refers
to one of three drawing areas:  data area, procedure output area, and graphics
output area. Coordinates are measured from a different origin for each area;
they also have different limits.  <A href="#zoordfig">Areas and Their Coordinate Systems</A> shows the areas on the graphics
output and the coordinate systems that use them.<P>
</UL>
 
<P>
<P>
<B><I><A name="zoordfig">Areas and Their Coordinate Systems</A></I></B><BR>


<P><IMG border="0" src="./images/01329200.gif" vspace="12" alt="[IMAGE]">
<P>

<P>
<UL>

<LI> <B>Units:</B> The units for a coordinate
system are based on one of the following: 
<P>
<UL>

<LI>data values (for data coordinate systems).  The
range of values depends on the range of data expressed along the axes of the
graph.<P>

<LI>cells (for coordinate systems for the procedure
output area or graphics output area). The range of values depends on the type
of area. See <A href="#za-range">Ranges for Cells</A>.<P>

<LI>percentages of the total area available, that
is, percent of the data area, or percent of the procedure output area, or
percent of the graphics output area.<P>
</UL>
<P>

<LI> <B>Placement:</B> The placement of a coordinate
can be absolute or relative.  Absolute coordinates name the exact location
for a graphics element in the graphics output.  Relative coordinates name
the location with respect to another graphics element in the output.<P>
</UL>

<P><A href="#zystable">Coordinate System Values for XSYS, YSYS, ZSYS, and HSYS Variables</A>
describes the coordinate system values for the XSYS, YSYS, ZSYS, and HSYS
variables. 
<P>
<P>
<TABLE cellpadding="6" cellspacing="0" border="1">
<CAPTION align="top"><B><I><A name="zystable">Coordinate System Values for XSYS, YSYS, ZSYS, and HSYS Variables</A></I></B></CAPTION>


<TR valign="bottom" bgcolor="#CCCCCC">
  <TH  align="LEFT" valign="BOTTOM" ><B><A name="zystable">&#13;Type of Coordinates </A></B></TH>
  <TH  align="LEFT" valign="BOTTOM" ><B> Area </B></TH>
  <TH  align="LEFT" valign="BOTTOM" ><B> Units </B></TH>
  <TH  align="LEFT" valign="BOTTOM" ><B> Range </B></TH>
  <TH  align="LEFT" valign="BOTTOM" ><B>Value for XSYS, YSYS, ZSYS, HSYS </B></TH>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">Absolute    </TD>
  
<TD  align="LEFT" valign="TOP">data    </TD>
  
<TD  align="LEFT" valign="TOP">%    </TD>
  
<TD  align="LEFT" valign="TOP">0-100%
of axis    </TD>
  
<TD  align="LEFT" valign="TOP">1' *</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP"><BR></TD>
  
<TD  align="LEFT" valign="TOP">data    </TD>
  
<TD  align="LEFT" valign="TOP">values
   </TD>
  
<TD  align="LEFT" valign="TOP">minimum to maximum of axis    </TD>
  
<TD  align="LEFT" valign="TOP">2'
*</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP"><BR></TD>
  
<TD  align="LEFT" valign="TOP">graphics output area    </TD>
  
<TD  align="LEFT" valign="TOP">%    </TD>
  
<TD  align="LEFT" valign="TOP">0-100% of graphics output area    </TD>
  
<TD  align="LEFT" valign="TOP">3'</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP"><BR></TD>
  
<TD  align="LEFT" valign="TOP">graphics output area    </TD>
  
<TD  align="LEFT" valign="TOP">cells    </TD>
  
<TD  align="LEFT" valign="TOP">0 to limit of graphics output area    </TD>
  
<TD  align="LEFT" valign="TOP">4'</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP"><BR></TD>
  
<TD  align="LEFT" valign="TOP">procedure output area    </TD>
  
<TD  align="LEFT" valign="TOP">%    </TD>
  
<TD  align="LEFT" valign="TOP">0-100% of procedure output area    </TD>
  
<TD  align="LEFT" valign="TOP">5'</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP"><BR></TD>
  
<TD  align="LEFT" valign="TOP">procedure output area    </TD>
  
<TD  align="LEFT" valign="TOP">cells    </TD>
  
<TD  align="LEFT" valign="TOP">0 to limit of procedure output area    </TD>
  
<TD  align="LEFT" valign="TOP">6'</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP">Relative    </TD>
  
<TD  align="LEFT" valign="TOP">data    </TD>
  
<TD  align="LEFT" valign="TOP">%    </TD>
  
<TD  align="LEFT" valign="TOP">0-100% of axis    </TD>
  
<TD  align="LEFT" valign="TOP">7' *</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP"><BR></TD>
  
<TD  align="LEFT" valign="TOP">data    </TD>
  
<TD  align="LEFT" valign="TOP">values    </TD>
  
<TD  align="LEFT" valign="TOP">minimum to maximum of axis
   </TD>
  
<TD  align="LEFT" valign="TOP">8' *</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP"><BR></TD>
  
<TD  align="LEFT" valign="TOP">graphics output area    </TD>
  
<TD  align="LEFT" valign="TOP">%    </TD>
  
<TD  align="LEFT" valign="TOP">0-100% of graphics output area    </TD>
  
<TD  align="LEFT" valign="TOP">9'</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP"><BR></TD>
  
<TD  align="LEFT" valign="TOP">graphics output area    </TD>
  
<TD  align="LEFT" valign="TOP">cells    </TD>
  
<TD  align="LEFT" valign="TOP">0 to limit of graphics output area    </TD>
  
<TD  align="LEFT" valign="TOP">A'</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP"><BR></TD>
  
<TD  align="LEFT" valign="TOP">procedure output area    </TD>
  
<TD  align="LEFT" valign="TOP">%    </TD>
  
<TD  align="LEFT" valign="TOP">0-100% of procedure output area    </TD>
  
<TD  align="LEFT" valign="TOP">B'</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP"><BR></TD>
  
<TD  align="LEFT" valign="TOP">procedure output area    </TD>
  
<TD  align="LEFT" valign="TOP">cells    </TD>
  
<TD  align="LEFT" valign="TOP">0 to limit of procedure output area    </TD>
  
<TD  align="LEFT" valign="TOP">C'</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  colspan="5" align="LEFT" valign="TOP">*Coordinate systems 1, 2,
7, and 8 are not valid with block, pie or star charts in the GCHART procedure
or surface, prism or block maps with the GMAP procedure.</TD>
</TR>

</TABLE>

<BR>
<BR><H3><A name="za-range">Ranges for Cells</A></H3>


<P><A name="z0689836">&#13;   The available range for coordinate
systems
that are measured in cells differs by area: </A>
<DL>
<DT> graphics output area</DT>
<DD>The range of cells that are available
for the graphics output area depends on the device and the number of rows
and columns that are set by the HPOS= and VPOS= graphics options or by the
PCOLS and LCOLS device parameters.<P></DD>

<DT> procedure output area</DT>
<DD>As with the graphics output area,
the range of cells available for the procedure output area depends on the
device and the number of rows and columns set by the HPOS= and VPOS= graphics
options or by the PCOLS and LCOLS device parameters. However, the procedure
output area is sized <B>after</B> areas for titles and footnotes are
allocated and is reduced accordingly.  If you specify that the legend appear
outside of the axis area, the procedure output area also decreases by the
size of the legend.<P></DD>
</DL>

<P>See <A href="zprocout.htm">Procedure Output and the Graphics Output Area</A>
for descriptions of the procedure output area and the graphics output area.
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5"><A name="znternal">Internal Coordinates</A></FONT></B></TD></TR></TABLE>

<P><A name="z0689843">&#13;  The Annotate facility
maintains two pairs of internal coordinates
that are stored in internal variables: </A>
<P>
<UL>

<LI> coordinates of the last graphics element drawn
or the coordinates from the last move are stored in the variables XLAST and
YLAST<P>

<LI>coordinates of the last text drawn are stored
in the variables XLSTT and YLSTT.<P>
</UL>

<P>Many functions use these internal coordinates as a starting
point, relying on the coordinates that are specified with the function as
an ending point.  For example, in the BAR function, the (XLAST, YLAST) coordinate
pair is used for the lower left corner; the position defined by the X and
Y variables is used for the upper-right corner. (See the BAR function on <A href="zar-func.htm">BAR Function</A>
for details.) These internal variables can also provide default coordinates
if X, XC, Y, or YC contains a missing value.
<P> The internal coordinates are automatically updated
by some of the Annotate functions.  The text functions, LABEL and SYMBOL,
update the (XLSTT,YLSTT) variables. The BAR, DRAW, MOVE, PIE, and POINT functions
update the (XLAST,YLAST) variables.
<P>You cannot explicitly assign a value to XLAST, YLAST,
XLSTT, or YLSTT because they are internal variables. For example, you cannot
make this assignment:  



<PRE>xlast=50;</PRE>
<P> However, you can use several functions to directly
manipulate the values of the internal coordinates.  The functions are shown
in <A href="#zfuncfig">Programming Functions That Manipulate System Variables</A>.
<P>
<P>
<B><I><A name="zfuncfig">Programming Functions That Manipulate System Variables</A></I></B><BR>


<P><IMG border="0" src="./images/01329201.gif" vspace="12" alt="[IMAGE]">
<P>
<P>For a complete description, see
<A href="z-incoor.htm">Annotate Internal Coordinates</A>.
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5">Attributes</FONT></B></TD></TR></TABLE>

<P><A name="z0689852">&#13;     Attribute variables control the appearance of
the graphics elements.
Each function uses only a subset of these variables. See </A><A href="zaboutds.htm#zartable">Summary of Annotate Variables</A> for a list
of attribute variables.
<P>What an attribute variable controls often depends on
the graphics element to which it applies.  For example, the SIZE variable
controls the width of a line when it is used with FUNCTION='DRAW', but it
controls the text height when it is used with FUNCTION='LABEL'.
<P>For a complete description of the attribute variables
and the aspect of the graphics elements that they controls, see <A href="zict-var.htm">Annotate Variables</A>.

<P><!-- navigation -->
<P><TABLE cellpadding="0" cellspacing="0">
<TR valign="top">
<TD align="center">
<A href="zatachap.htm">
<IMG border="0" SRC="../common/images/cont1.gif"><BR><FONT size="-2">Chapter Contents</FONT></A></TD>
<TD align="center">
<A href="zaboutds.htm">
<IMG border="0" src="../common/images/prev1.gif"><BR><FONT size="-2">Previous</FONT></A></TD>
<TD align="center">
<A href="zcreatds.htm">
<IMG border="0" SRC="../common/images/next1.gif"><BR><FONT size="-2">Next</FONT></A></TD>
<TD align="center">
<A href="#z-grelem">
<IMG border="0" SRC="../common/images/top1.gif"><BR><FONT size="-2">Top of Page</FONT></A></TD>
</TR></TABLE>
<P><FONT size=1><A href="../common/images/copyrite.htm">Copyright 1999 by SAS Institute Inc., Cary, NC, USA. All rights reserved.</A></FONT>
</BODY>
</HTML>