<HTML>
<!-- This page produced Fri Jul  9 14:14:38 EDT 1999
 -->
<!-- Used program version 1.118.1.2 from beta -->
<HEAD>
<!-- <META http-equiv="Content-Type" content="text/html; charset="> -->
<TITLE>The GCHART Procedure : Subgrouping a Donut or Pie Chart </TITLE></HEAD>
<BODY bgcolor="#FFFFFF">
<!-- navigation -->
<TABLE cellpadding="0" cellspacing="0">
<TR valign="top">
<TD align="center">
<A href="z0723580.htm">
<IMG border="0" SRC="../common/images/cont1.gif"><BR><FONT size="-2">Chapter Contents</FONT></A></TD>
<TD align="center">
<A href="z3n09-ex.htm">
<IMG border="0" src="../common/images/prev1.gif"><BR><FONT size="-2">Previous</FONT></A></TD>
<TD align="center">
<A href="z3n10-ex.htm">
<IMG border="0" SRC="../common/images/next1.gif"><BR><FONT size="-2">Next</FONT></A></TD>
</TR></TABLE>
<!-- running head -->
<TABLE width="100%" cellpadding="4">
<TR valign="MIDDLE">
<TD bgcolor="#CCCC99"><I><FONT size="2">The GCHART Procedure</FONT></I></TD>
</TR>
</TABLE><H1><FONT size="5"><A name="z3n12-ex">Example 9: Subgrouping a Donut or Pie Chart</A></FONT></H1>
<HR>

<TABLE cellpadding="4" cellspacing="2">
<TR valign="top">
<TD align="right" bgcolor="#F5F5F5" nowrap><B><B>Procedure features:</B></B></TD>
<TD bgcolor="#CCCCCC" align="left">
<TABLE cellpadding="4" cellspacing="0">
<TR valign="top"><TD> DONUT statement options:



<TABLE cellpadding="6" cellspacing="2">
<TR valign="top"><TD></TD><TD>COUTLINE=</TD></TR>
<TR valign="top"><TD></TD><TD> CTEXT=</TD></TR>
<TR valign="top"><TD></TD><TD>DONUTPCT=</TD></TR>
<TR valign="top"><TD></TD><TD>LABEL=</TD></TR>
<TR valign="top"><TD></TD><TD> LEGEND=</TD></TR>
<TR valign="top"><TD></TD><TD>NOHEADING</TD></TR>
<TR valign="top"><TD></TD><TD>SUBGROUP=</TD></TR></TABLE></TD></TR></TABLE>
</TD></TR>
<TR valign="top">
<TD align="right" bgcolor="#F5F5F5" nowrap><B><B>Other features:</B></B></TD>
<TD bgcolor="#CCCCCC" align="left">LEGEND statement
</TD></TR>
<TR valign="top">
<TD align="right" bgcolor="#F5F5F5" nowrap><B><B>Data set:</B></B></TD>
<TD bgcolor="#CCCCCC" align="left"><A href="z0723628.htm">TOTALS</A>
</TD></TR>
<TR valign="top">
<TD align="right" bgcolor="#F5F5F5" nowrap><B><B>Sample library member:</B></B></TD>
<TD bgcolor="#CCCCCC" align="left">  
GR13N09
</TD></TR>
</TABLE>
<HR>

<P>
<P>
<P><IMG border="0" src="./images/01329055.gif" vspace="12" alt="[IMAGE]">
<P>
<P><A name="z0756361">&#13;  This example produces a donut
chart that is similar to the pie
chart in </A><A href="z3n09-ex.htm">Specifying the Sum Statistic for a Pie Chart</A>
in that each slice represents total sales for a site and each slice is a different
color. However, in this donut chart the sites are subgrouped by department,
so that each department is represented as a concentric ring with slices.
<P>Subgrouping suppresses the chart statistic and the midpoint
labels. Instead it automatically labels the rings with the subgroup values
and generates a legend that shows how the patterns are associated with the
midpoint values. Subgrouping a pie chart produces the same results but without
the hole in the center.
<P>To allow the donut chart to be as large as possible,
the program suppresses the default heading and moves the legend into the space
at the left of the chart.  



<TABLE cellspacing="0" cellpadding="6" border="0">
<TR valign="top">
<TD ><A name="z0723669">&nbsp;</A><A href="z0723669.htm"><IMG border="0" src="../common/images/snbut.gif" height="24" width="24" alt="Note about code"></A></TD><TD><PRE>libname reflib '<I>SAS-data-library</I>';
goptions reset=global gunit=pct border cback=white
         colors=(blue green red) ctext=black
         ftext=swissb ftext=swiss htitle=6 htext=4;</PRE></TD></TR></TABLE>


  



<TABLE cellspacing="0" cellpadding="6" border="0">
<TR valign="top">
<TD ><A name="z0723670">&nbsp;</A><A href="z0723670.htm"><IMG border="0" src="../common/images/snbut.gif" height="24" width="24" alt="Note about code"></A></TD><TD><PRE>title 'Sales by Site and Department';
footnote h=3 j=r 'GR13N09 ';</PRE></TD></TR></TABLE>


  



<TABLE cellspacing="0" cellpadding="6" border="0">
<TR valign="top">
<TD ><A name="z0723671">&nbsp;</A><A href="z0723671.htm"><IMG border="0" src="../common/images/snbut.gif" height="24" width="24" alt="Note about code"></A></TD><TD><PRE>legend1 label=none
        shape=bar(4,4)
        position=(middle left)
        offset=(5,)
        across=1
        mode=share;</PRE></TD></TR></TABLE>


  



<TABLE cellspacing="0" cellpadding="6" border="0">
<TR valign="top">
<TD ><A name="z0723672">&nbsp;</A><A href="z0723672.htm"><IMG border="0" src="../common/images/snbut.gif" height="24" width="24" alt="Note about code"></A></TD><TD><PRE>proc gchart data=reflib.totals;
   format sales dollar8.;
   donut site / sumvar=sales
                subgroup=dept
                donutpct=30
                label=('All' justify=center 'Quarters')
                noheading
                legend=legend1
                coutline=black
                ctext=black;
run;
quit;</PRE></TD></TR></TABLE>

<P><!-- navigation -->
<P><TABLE cellpadding="0" cellspacing="0">
<TR valign="top">
<TD align="center">
<A href="z0723580.htm">
<IMG border="0" SRC="../common/images/cont1.gif"><BR><FONT size="-2">Chapter Contents</FONT></A></TD>
<TD align="center">
<A href="z3n09-ex.htm">
<IMG border="0" src="../common/images/prev1.gif"><BR><FONT size="-2">Previous</FONT></A></TD>
<TD align="center">
<A href="z3n10-ex.htm">
<IMG border="0" SRC="../common/images/next1.gif"><BR><FONT size="-2">Next</FONT></A></TD>
<TD align="center">
<A href="#z3n12-ex">
<IMG border="0" SRC="../common/images/top1.gif"><BR><FONT size="-2">Top of Page</FONT></A></TD>
</TR></TABLE>
<P><FONT size=1><A href="../common/images/copyrite.htm">Copyright 1999 by SAS Institute Inc., Cary, NC, USA. All rights reserved.</A></FONT>
</BODY>
</HTML>