<HTML>
<HEAD>
  <META NAME="GENERATOR" CONTENT="Adobe PageMill 3.0 Win">
  <META NAME="description" CONTENT="Guide to Transitioning from Research Support">
  <META NAME="keywords" CONTENT="changing platforms, mac to pc, pc to mac, transistioning, research support">
  <TITLE>IT: Transition Guide</TITLE>
</HEAD>
<BODY BGCOLOR="#ffffff">


<MAP NAME="headerMap21">
     <AREA SHAPE="circle" COORDS="560,22,22" HREF="http://www.asu.edu/it/fyi/search/">
     <AREA SHAPE="rect" COORDS="65,3,258,20" HREF="http://www.asu.edu/it/">
     <AREA SHAPE="rect" COORDS="3,2,64,43" HREF="http://www.asu.edu/">
     <AREA SHAPE="circle" COORDS="506,22,22" HREF="http://www.asu.edu/it/fyi/">
 </MAP>
<IMG SRC="http://www.asu.edu/it/fyi/menus/images/header.GIF" WIDTH="583" HEIGHT="43" 
ALIGN="BOTTOM" BORDER="0" NATURALSIZEFLAG="3" USEMAP="#headerMap21" ISMAP><BR><BR>


<H2><TABLE WIDTH="585" BORDER="0" CELLSPACING="0" CELLPADDING="0">
  <TR>
    <TD WIDTH="585">
    <P><B><FONT SIZE="+1" FACE="Arial">APPENDIX III<BR>
    </FONT><FONT FACE="Arial">VM/CMS Transition</FONT></B></P>

    <P><FONT SIZE="-1" FACE="Arial">This appendix contains VM/CMS-specific
    information related to moving your files from a CMS system to
    a non-CMS system, such as UNIX, Windows, or MVS/TSO.</FONT></P>

    <P><FONT SIZE="-1" FACE="Arial">If you have much data on tapes,
    the MVS system is recommended over UNIX since no UNIX tape facilities
    are available for use.</FONT></P>

    <P>&nbsp;</P>

    <P><B><FONT FACE="Arial">Select Files to be Transferred</FONT></B></P>

    <P><FONT SIZE="-1" FACE="Arial">The first task is to determine
    which files you want to transfer. There may be files which are
    no longer needed. Some files, such as a CMS binary executable
    file (module), are of no use on a non-CMS system and should not
    be transferred. (For a binary executable, you would transfer
    the original source code, not the executable, and then recompile.)
    Other files need conversion prior to transfer, else they will
    be unusable on the new system. Files in this latter category
    include SAS system files and packed files, each of which will
    be discussed in this document.</FONT></P>

    <P>&nbsp;</P>

    <P><B><FONT FACE="Arial">File Attributes</FONT></B></P>

    <P><FONT SIZE="-1" FACE="Arial">Various file attributes, listed
    in the table below, affect the file transfer process. Only disk
    files can be transferred via ftp. Tape files must be copied to
    disk (hence, becoming disk files) before ftp can be used to transfer
    them; therefore, any discussion regarding disk files also pertain
    tape files.</FONT></P>

    <P><FONT SIZE="-1" FACE="Arial">module (binary executable)</FONT></P>

    <P><FONT SIZE="-1" FACE="Arial">object code (compiled code)</FONT></P>

    <P><FONT SIZE="-1" FACE="Arial">SAS system file</FONT></P>

    <P><FONT SIZE="-1" FACE="Arial">REXX execs</FONT></P>

    <P><FONT SIZE="-1" FACE="Arial">character or binary data</FONT></P>

    <P><FONT SIZE="-1" FACE="Arial">packed files</FONT></P>

    <P><FONT SIZE="-1" FACE="Arial">fixed or variable record format</FONT></P>

    <P><FONT SIZE="-1" FACE="Arial">file mode</FONT></P>

    <P><FONT SIZE="-1" FACE="Arial">transferring files</FONT></P>

    <P><FONT SIZE="-1" FACE="Arial">tape files</FONT></P>

    <P><FONT SIZE="-1" FACE="Arial">disk space</FONT></P>

    <P>&nbsp;</P>

    <P><B><FONT FACE="Arial">Module</FONT></B></P>

    <P><FONT SIZE="-1" FACE="Arial">A module is a binary executable
    form of a program. You should not transfer such files. Instead,
    you should locate and transfer the source code for the module.
    With the source code you can create a new binary executable on
    the target system.</FONT></P>

    <P>&nbsp;</P>

    <P><B><FONT FACE="Arial">Object Code</FONT></B></P>

    <P><FONT SIZE="-1" FACE="Arial">Object code is the compiled form
    of a program. You should not transfer such files. Instead, you
    should locate and transfer the source code for the object code.
    With the source code you can create new object code files on
    the target system.</FONT></P>

    <P>&nbsp;</P>

    <P><B><FONT FACE="Arial">SAS System File</FONT></B></P>

    <P><FONT SIZE="-1" FACE="Arial">SAS system files contain data
    in a special format and must be converted to a transportable
    format prior to transfer. (Your SAS programs and files containing
    raw data are not SAS system files. If you can use XEDIT to display
    and edit a file then the file is not a SAS system file.)</FONT></P>

    <P><FONT SIZE="-1" FACE="Arial">The SAS procedure CPORT is used
    to create a transport copy of a SAS system file. The transport
    file is transferred to the target system, where the SAS procedure
    CIMPORT is used to import the transferred file and create a new
    SAS system file. (Note: When a SAS transport file is transferred
    via ftp, you must use the ftp <B>binary fixed 80</B> option.
    Do not transfer a SAS transport file as ASCII data.) Refer to
    the SAS documentation for further information regarding transport
    files.</FONT></P>

    <P>&nbsp;</P>

    <P><B><FONT FACE="Arial">REXX Execs</FONT></B></P>

    <P><FONT SIZE="-1" FACE="Arial">REXX execs can be used on target
    systems which have a REXX processor. The IBM MVS/TSO system and
    the RESEARCH and STATS UNIX systems have REXX; however, you may
    need to modify the execs for system dependencies.</FONT></P>

    <P><FONT SIZE="-1" FACE="Arial">If you've compiled any REXX execs
    on CMS, you should transfer the original source code, not the
    compiled version.</FONT></P>

    <P>&nbsp;</P>

    <P><B><FONT FACE="Arial">Character or Binary Data</FONT></B></P>

    <P><FONT SIZE="-1" FACE="Arial">As a general rule, when transferring
    files via ftp you should transfer the files as character data.
    The one prominent exception is SAS transport files which must
    be transferred as binary data.</FONT></P>

    <P><FONT SIZE="-1" FACE="Arial">If you have files containing
    binary data (other than SAS transport files) you should write
    your own programs to convert the data to character format prior
    to transferring the files via ftp.</FONT></P>

    <P><FONT SIZE="-1" FACE="Arial">(Note: Use the ftp command <B>ascii</B>
    prior to using the ftp <B>get</B>, <B>mget</B>, <B>put</B>, and
    <B>mput</B> commands to transfer a file containing character
    data. Use the ftp command <B>binary</B> prior to transferring
    a file containing binary data.)</FONT></P>

    <P><FONT SIZE="-1" FACE="Arial">(Note: When transferring character
    data between two IBM mainframe systems (CMS and/or MVS), the
    ftp &quot;ascii&quot; command is still used, even though both
    IBM systems use the &quot;ebcdic&quot; character set.)</FONT></P>

    <P>&nbsp;</P>

    <P><B><FONT FACE="Arial">Packed Files</FONT></B></P>

    <P><FONT SIZE="-1" FACE="Arial">Packed files are in a special
    compressed format. Prior to transferring such files, you should
    unpack them. The COPYFILE command with the UNPACK operand may
    be used to unpack a file.</FONT></P>

    <PRE>
       COPYFILE fn ft fm ( UNPACK OLDDATE)</PRE>

    <P>&nbsp;</P>

    <H3><FONT SIZE="+0" FACE="Arial">Fixed or Variable Record Format</FONT></H3>

    <P><FONT SIZE="-1" FACE="Arial">Fixed or variable format files
    can be transferred via ftp; however, you should consider whether
    to convert fixed format files to variable format. This will conserve
    disk space by removing trailing blanks which often appear at
    the end of most fixed length records. Trailing blanks are often
    not required on a UNIX system even though they are required or
    convenient for a mainframe system. If you want to do this, you
    can use the COPYFILE command to convert a file to variable format.</FONT></P>

    <PRE>
       COPYFILE fn ft fm ( RECFM V TRUNC)</PRE>

    <P>&nbsp;</P>

    <H3><FONT SIZE="+0" FACE="Arial">File Mode</FONT></H3>

    <P><FONT SIZE="-1" FACE="Arial">When you start an ftp session
    on a non-CMS system and connect to the CMS system, ftp attempts
    to establish a read/write link to your minidisk. If a read/write
    link cannot be established, ftp then does a read link. A read
    link most commonly occurs when you are logged onto CMS at the
    same time you are establishing an ftp session from UNIX.</FONT></P>

    <P><FONT SIZE="-1" FACE="Arial">If ftp cannot establish a read/write
    link, files having file mode 0 cannot be accessed. To avoid this
    situation, logoff CMS prior to starting an ftp session on the
    other system.</FONT></P>

    <P>&nbsp;</P>

    <H3><FONT SIZE="+0" FACE="Arial">Transferring Files</FONT></H3>

    <P><FONT SIZE="-1" FACE="Arial">It is easy to transfer all files
    on a minidisk via ftp; however, you must remember to convert
    (if needed) the files before transfer and to use the correct
    binary or ascii ftp command. If you fail to do this, the files
    will successfully transfer but will be unusable. You should verify
    the data on the target system after transfer is complete.</FONT></P>

    <P><FONT SIZE="-1" FACE="Arial">Additionally, you should organize
    your data in some fashion on the target system. This can be most
    easily done by creating a separate sub directory on the target
    system for each minidisk and then changing to the appropriate
    sub directory prior to transferring the files from that minidisk.
    This avoids problems with files having duplicate names. (For
    the MVS system, a partitioned data set can be treated as a single
    level sub directory.)</FONT></P>

    <P><FONT SIZE="-1" FACE="Arial">The following sample (UNIX) ftp
    session shows how to conveniently transfer all files from two
    minidisks without having to type in the name of each file. Comments
    are enclosed in angle brackets.</FONT></P>

    <PRE>
       &lt;logon to the target system, i.e., the UNIX system&gt;
       <B>ftp asuvm.inre.asu.edu</B>
       &lt;enter your CMS userid when prompted&gt;
       &lt;enter your CMS password when prompted&gt;
       <B>prompt</B>
       &lt;if you get a message indicating &quot;interactive mode off&quot;&gt;
       &lt;then you should enter the prompt command a second time.&gt;
       <B>! mkdir</B> sub.directory.name1
       <B>lcd</B> sub.directory.name1
       <B>cd</B> xxyyy.191
       &lt;In the above, xxyyy is your userid, 191 is the mindisk address&gt;
       <B>ascii</B>
       <B>mget *</B>
       &lt;You will be prompted for each file.  Type <B>y </B>for each file to be&gt;
       &lt;transferred in character format; otherwise, type <B>n</B>.&gt;
       <B>binary fixed 80</B>
       <B>mget *</B>
       &lt;You will be prompted for each file.  Type<B> y </B>for each file to be&gt;
       &lt;transferred in binary format; otherwise, type <B>n</B>.&gt;
       <B>lcd ..</B>
       <B>! mkdir</B> sub.directory.name2
       <B>lcd</B> sub.directory.name2
       <B>cd</B> xxyyy.192
       &lt;In the above, xxyyy is your userid, 192 is the mindisk address&gt;
       <B>ascii</B>
       <B>mget *</B>
       &lt;Type <B>y</B> for each file to be transferred as character;
       &lt;type <B>n</B> for all others.&gt;
       <B>binary fixed 80</B>
       <B>mget *</B>
       &lt;Type <B>y</B> for each file to be transferred as binary;
       &lt;type<B> n </B>for all others.&gt;
       <B>lcd ..</B>
       <B>quit</B></PRE>

    <P><FONT SIZE="-1" FACE="Arial">(Note: For MVS systems, partitioned
    data sets would be used in lieu of sub directories and would
    need creation prior to invoking ftp. The mkdir commands would
    be omitted during the ftp session. The operand of an lcd command
    would be the full name of the partitioned data set enclosed in
    single quotes.)</FONT></P>

    <P>&nbsp;</P>

    <H3><FONT SIZE="+0" FACE="Arial">Tape Files</FONT></H3>

    <P><FONT SIZE="-1" FACE="Arial">Tape files cannot be transferred
    directly with ftp. You must copy tape files to disk before transfer
    can occur. After a tape file has been copied to disk, ftp can
    be used to transfer the file in the same manner as any other
    disk file.</FONT></P>

    <P><FONT SIZE="-1" FACE="Arial">(Note: If you have many tape
    files, you should consider using the IBM MVS/TSO system instead
    of UNIX. If the tapes are not in CMS format, they can be used
    directly on the MVS system. If the tapes are in CMS format, they
    must be copied to MVS format tapes.)</FONT></P>

    <P><FONT SIZE="-1" FACE="Arial">When working with tape, it is
    usually easier to work with a few files at a time rather than
    all at once, particularly if you are already using most of your
    disk quota. (You also need sufficient disk space on the target
    system to receive transferred files.)</FONT></P>

    <P><FONT SIZE="-1" FACE="Arial">For a large tape file which exceeds
    your disk quota, you can create a temporary disk to contain the
    file; however, you would need to invoke the ftp utility from
    CMS to transfer file to the target system. If the file is on
    one of your permanent disks, you have the option of using the
    ftp utility from the target system and retrieving the file from
    CMS.</FONT></P>

    <P>&nbsp;</P>

    <H3><FONT SIZE="+0" FACE="Arial">Disk Space</FONT></H3>

    <P><FONT SIZE="-1" FACE="Arial">Disk space is measured in cylinders
    for CMS, in megabytes for UNIX, and in tracks for MVS. For an
    approximate conversion between cylinders and megabytes, use the
    formula &quot;1 cylinder = 600 KB&quot; (1 KB = 1024 bytes, 1024
    KB = 1 MB). For conversion between cylinders and tracks, use
    the formula &quot;1 cylinder = 15 tracks&quot;.</FONT></P>

    <P><FONT SIZE="-1" FACE="Arial">The megabyte formula will actually
    provide more UNIX disk space than needed. The true number of
    bytes per cylinder varies as a result of arbitrary choices made
    by you when creating the files on CMS or when formatting the
    minidisk.</FONT></P>

    <P><FONT SIZE="-1" FACE="Arial">The following table lists some
    representative disk quotas in cylinders and in megabytes</FONT></P>

    <UL>
      <LI><FONT SIZE="-1" FACE="Arial">1 cyl = 0.6 MB --- CMS default</FONT>
      <LI><FONT SIZE="-1" FACE="Arial">5 cyls = 3 MB</FONT>
      <LI><FONT SIZE="-1" FACE="Arial">10 cyls = 6 MB</FONT>
      <LI><FONT SIZE="-1" FACE="Arial">17 cyls = 10 MB --- UNIX default</FONT>
      <LI><FONT SIZE="-1" FACE="Arial">50 cyls = 29 MB</FONT>
      <LI><FONT SIZE="-1" FACE="Arial">100 cyls = 59 MB</FONT>
      <LI><FONT SIZE="-1" FACE="Arial">171 cyls = 100 MB</FONT>
      <LI><FONT SIZE="-1" FACE="Arial">341 cyls = 200 MB</FONT>
    </UL>

    <P>&nbsp;</TD>
  </TR>
</TABLE></H2>


<IMG SRC="http://www.asu.edu/it/fyi/menus/images/yellow-bar.GIF" WIDTH="579" HEIGHT="12" ALIGN="BOTTOM" BORDER="0" 
NATURALSIZEFLAG="3"><BR>
<FONT SIZE="-2" FACE="Arial, Helvetica, Verdana, Arial Narrow">
<A HREF="http://www.asu.edu/it/fyi/">FYI Home</a> | <A HREF="http://www.asu.edu/it/fyi/search/">FYI Search</A> | <A 
HREF="http://www.asu.edu/">ASU Home</a> | <A HREF="http://www.asu.edu/asuweb/disclaimer">ASU Disclaimer</A><br>
<A HREF="mailto:helpdesk@asu.edu">helpdesk@asu.edu</A></FONT><br><FONT
 SIZE="-2" FACE="Arial, Helvetica, Verdana,Arial Narrow">Page
Last Updated:  Monday, 01-Jul-2002 16:40:44 MST</FONT>


</BODY>
</HTML>
