<HTML>
<!-- This page produced Thu Jul  8 09:27:58 EDT 1999
 -->
<!-- Used program version 1.118.1.2 from beta -->
<HEAD>
<!-- <META http-equiv="Content-Type" content="text/html; charset="> -->
<TITLE>Loading Data : Loading the Data </TITLE></HEAD>
<BODY bgcolor="#FFFFFF">
<!-- navigation -->
<TABLE cellpadding="0" cellspacing="0">
<TR valign="top">
<TD align="center">
<A href="z0238016.htm">
<IMG border="0" SRC="../common/images/cont1.gif"><BR><FONT size="-2">Chapter Contents</FONT></A></TD>
<TD align="center">
<A href="aslib.htm">
<IMG border="0" src="../common/images/prev1.gif"><BR><FONT size="-2">Previous</FONT></A></TD>
<TD align="center">
<A href="z0229637.htm">
<IMG border="0" SRC="../common/images/next1.gif"><BR><FONT size="-2">Next</FONT></A></TD>
</TR></TABLE>
<!-- running head -->
<TABLE width="100%" cellpadding="4">
<TR valign="MIDDLE">
<TD bgcolor="#CCCC99"><I><FONT size="2">SAS/SPECTRAVIEW Software User's Guide                                                                                     </FONT></I></TD>
</TR>
</TABLE><H1><FONT size="5"><A name="z0229290">Loading the Data</A></FONT></H1>


<P><A name="z0781785">&#13;The
first step in the visualization process is selecting and reading your data
into SAS/SPECTRAVIEW.  The interface
guides you through the process.</A>
<P>When you first invoke SAS/SPECTRAVIEW, [<SMALL><B>Data</B></SMALL>] is selected by default, ready for you to
load data. Note that
you can load data at any time during a SAS/SPECTRAVIEW session
by reselecting [<SMALL><B>Data</B></SMALL>]. 
<P>
<P>
<B><I>Loading Data</I></B><BR>

<P><IMG border="0" src="./images/01327139.gif" vspace="12" alt="[IMAGE]">
<P>
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5">Selecting a Libref</FONT></B></TD></TR></TABLE>

<P><A name="z0781787">&#13;To
display the session's assigned librefs: </A>
<OL START="1" type="1">
<LI>Select [<SMALL><B>Load data</B></SMALL>].  The software
displays the assigned librefs under the label <B>Libname.</B> <B>To assign an additional libref for a session, you can do so from the SAS PROGRAM
EDITOR window (if you invoked SAS/SPECTRAVIEW with
a command), then refresh the session's librefs for SAS/SPECTRAVIEW by
reselecting the Data and Load data buttons.</B><P>

<LI>Select the libref containing the data set that
you want to load. Use the scroll bar if there are more than 10. Once you select
the libref, the software displays the data sets associated with the libref.<P>
</OL>
 
<P>
<P>
<B><I>Selecting a Libref</I></B><BR>

<P><IMG border="0" src="./images/01327140.gif" vspace="12" alt="[IMAGE]">
<P>
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5">Selecting a Data Set</FONT></B></TD></TR></TABLE>

<P><A name="z0781790">&#13;SAS/SPECTRAVIEW works
as well with small data sets (such as 20 observations) as it does with large
data sets (such as a quarter million observations). The SAS data set that
you select must have at least four variables to be specified for the three
axis variables and the response variable, the response variable must be numeric,
and each variable specified for SAS/SPECTRAVIEW must
contain at least two unique values. If you want to use a BY variable, the
data set must have a fifth variable as well. <B>To load a data set that
has only three variables, see </A><A href="z0229637.htm#zkaround">Loading a Data Set with Only Three Variables</A>.</B>
<P>Select the input data set from the list of names. Use
the scroll bar if there are more than 10. Once you select the input data set,
the software lists the data set's variables in columns from which you can
select SAS/SPECTRAVIEW variables. 
<P>
<P>
<B><I>Selecting a Data Set</I></B><BR>

<P><IMG border="0" src="./images/01327141.gif" vspace="12" alt="[IMAGE]">
<P>
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5"><A name="zspecvar">Specifying SAS/SPECTRAVIEW Variables</A></FONT></B></TD></TR></TABLE>

<P><A name="z0781792">&#13;You must specify a different
data set variable for each SAS/SPECTRAVIEW variable.
That is, you must select a different variable from each of the <B>X Variable</B>, <B>Y Variable</B>, <B>Z Variable</B>, and
<B>Response variable</B>
columns. The axis variables can be either numeric or character, but the response
variable must be numeric.</A>
<P>To help you select appropriate variables, you can place
your cursor on a variable name, and the software will display a short description
of it in the text window. For example, for the EPA data set, which contains
the variables HOUR, LEVEL, LNGITUDE, LATITUDE, SULFATE, and OZONE, their descriptions
provide the following information: 
<P>
<UL>

<LI>All the variables are numeric.  Specifically,
the description for SULFATE is 


<CODE><B>Type: Num, Label: Sulfate (ppm)</B></CODE>.<P>

<LI>SULFATE and OZONE specify that their values are
in ppm (parts per million). SULFATE and OZONE are good candidates for the
Response variable, since you usually want a variable that is observed or generated
in various quantities.  A Response variable is one that contains the values
that are of most interest.<P>

<LI>Variables LEVEL, LNGITUDE, and LATITUDE are described
as RADM Model layer, RADM Cell X coordinate, and RADM Cell Y coordinate. Their
values are most likely not sampled or generated but represent where SULFATE
and OZONE values are located or from what types of data the response values
were generated.  Therefore, LEVEL, LNGITUDE, and LATITUDE are good candidates
as axis variables, since they can be used to generate grid locations to display
the response values.<P>

<LI>HOUR contains hour values.  This type of variable
is useful to generate groups of observations by assigning it as a BY variable
as explained in <A href="#by">Grouping Observations with a BY Variable</A>.<P>
</UL>

<P>Note that any variable that is appropriate as a Response
variable is not a valid choice as an axis variable, and any variable that
is appropriate as an axis variable is not a valid choice for a Response variable.
 Attempting to read a data set with inappropriate variables selected could
result in the data set failing to load. You want to specify variables that
are the best ones as the axis variables to build as complete a volume grid
with actual data points as possible. And you want to avoid specifying axis
variables that are sparsely valued or have continuous data. 
<P>
<P>
<B><I>Specifying SAS/SPECTRAVIEW Variables</I></B><BR>

<P><IMG border="0" src="./images/01327142.gif" vspace="12" alt="[IMAGE]">
<P>
<P>Once you select the four required variables,
the software
highlights [<SMALL><B>Read data</B></SMALL>], but you still have the option of specifying
BY variable processing, duplicate values handling, data categorizing, automatic
axis scaling, and data subsetting with a WHERE clause, which are discussed
in the following sections.
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5"><A name="by">Grouping Observations with a BY Variable</A></FONT></B></TD></TR></TABLE>

<P><A name="z0781800">&#13;In
addition to the four required variables, you have the option of specifying
a fifth variable as a <B>BY variable</B>.  The values of a BY variable
define groups of observations, such as hour, month, or year.  Specifying a
BY variable allows you to animate an image so that you can see how response
values change according to some grouping, like over time.</A>
<P>A BY variable can be either character or numeric. BY
data usually includes multiple response values for a single data point.
<P>For example, in the EPA data set, the variable HOUR
contains hour values, which would be useful as a BY variable. If you imagine
that the first four variables would generate a cube of data values, then specifying
a BY variable would generate a sequence of cubes of data values that can be
cycled through to determine how response values change over time (in this
case).
<P>If you select LNGITUDE, LATITUDE, and LEVEL as the axis
variables, SULFATE as the Response variable, then HOUR as the BY variable,
you will create a sequence of volumes of data to be displayed and analyzed. 
<P>
<P>
<B><I>Specifying a BY Variable</I></B><BR>

<P><IMG border="0" src="./images/01327143.gif" vspace="12" alt="[IMAGE]">
<P> 
<P><B>Note:</B>&nbsp;&nbsp;&nbsp;If you do not
specify a BY variable
but your data contains BY data (like a time variable), you may receive a message
in the text window after loading the data.  The message warns that there is
more than one response value for an x,y,z coordinate.  When this occurs, the
software handles the response values according to the setting on the <B>Duplicate Values</B> panel.&nbsp;&nbsp;<IMG border="0" src="../common/images/cautend.gif" alt="[cautionend]" align="bottom"><BR>
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5"><A name="zdupresp">Handling Duplicate Values</A></FONT></B></TD></TR></TABLE>

<P><A name="z0781805">&#13;Duplicate values occur when the data has more than one observation
for the same x,y,z coordinate, which could result in more than one response
value for a data point. Note that if you also categorize the data or if you
have specified a BY variable, the instances of duplicate values may increase.</A>
<P>You determine how the software handles duplicate values
by selecting one of the choices under the label <B>Duplicate Values.</B> The default is [<SMALL><B>Last</B></SMALL>], which means that the
last response value encountered for a data point is used as that location's
response value. 
<P>
<P>
<B><I>Handling Duplicate Values</I></B><BR>

<P><IMG border="0" src="./images/01327144.gif" vspace="12" alt="[IMAGE]">
<P>
<P>To specify
how the software handles duplicate values,
select one of the following options: 
<DL>
<DT>[<SMALL><B>Count</B></SMALL>]</DT>
<DD>For each unique x,y,z location, the software
counts the number of observations and uses that count as the response value.
For example, if there are three observations that specify the x,y,z location
1,1,1, the response value is 3, regardless of the actual response values in
the data.
<P>When you load data, each response value for the resulting
data points represents a count of the observations for that location. If there
are no duplicate observations for a particular x,y,z location, the response
value is 1, indicating that only one observation was found for that location.
Similarly, if the data includes no observations for a particular x,y,z location,
the response value would be 0, meaning that the data point is missing. [<SMALL><B>Count</B></SMALL>] allows you to find the number of response values that were
used to calculate other values, for example, [<SMALL><B>Mean</B></SMALL>] or [<SMALL><B>Sum</B></SMALL>]. If you load data with [<SMALL><B>Mean</B></SMALL>], you may want to
know how many values were used to calculate the mean value shown at a particular
x,y,z location.  You can load again using [<SMALL><B>Count</B></SMALL>], then probe
the data to reveal the number used for the mean.<P></DD>

<DT>[<SMALL><B>Nmiss</B></SMALL>]</DT>
<DD>For each unique x,y,z location, the software
counts the number of observations with missing response values. For example,
if an x,y,z location has two observations and both have a valid response value,
the result is a response value of 0, meaning no observations with a missing
response value were found for that location.
<P>With [<SMALL><B>Nmiss</B></SMALL>] specified, every data point
has a response value indicating how many missing response values were encountered
for that location. If a valid data point has five observations and only three
had response values, then that data point's response value is 2, meaning two
observations were found missing a response value for that location. [<SMALL><B>Nmiss</B></SMALL>] only counts valid data points having no response value.  It
does not count filler points generated by the software.  If the data does
not contain an observation for an x,y,z location, the software inserts a data
point that has a missing response value. This means that if you load a data
set, display it as a point cloud, and discover there are several missing values
in the volume grid, you can reload the data with [<SMALL><B>Nmiss</B></SMALL>] selected
and determine which missing values are caused by missing response values as
opposed to missing axis values.<P></DD>

<DT>[<SMALL><B>Minimum</B></SMALL>]</DT>
<DD>If there are two or more response values
for the same x,y,z location, the software uses the minimum value as the response
value.<P></DD>

<DT>[<SMALL><B>Maximum</B></SMALL>]</DT>
<DD>If there are two or more response values
for the same x,y,z location, the software uses the maximum value as the response
value.<P></DD>

<DT>[<SMALL><B>Sum</B></SMALL>]</DT>
<DD>If there are two or more response values
for the same x,y,z location, the software uses the sum as the response value.<P></DD>

<DT>[<SMALL><B>Range</B></SMALL>]</DT>
<DD>If the data contains at least two response
values for each x,y,z location, the software uses the range as the response
value. The range is calculated by subtracting the minimum response value from
the maximum response value. If there is only one value for a location, the
response value is set to missing.<P></DD>

<DT>[<SMALL><B>Last</B></SMALL>]</DT>
<DD>If the data contains two or more response
values for the same x,y,z location, the software uses the last response value
as the response value. This is the default.<P></DD>

<DT>[<SMALL><B>Mean</B></SMALL>]</DT>
<DD>If the data contains two or more response
values for the same x,y,z location, the software uses the mean as the response
value.<P></DD>
</DL>

<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5"><A name="cat">Categorizing Data</A></FONT></B></TD></TR></TABLE>

<P><A name="z0781826">&#13;Categorizing data is an option that groups numeric
data to create
distinct ranges (called categories) for each axis. <B>You cannot categorize
character variables.</B> The result is a reduced number of data points
in the volume grid. By categorizing all three axes, you can set exactly how
many data points the software will create. Categorizing data is useful </A>
<P>
<UL>

<LI>for data that has a large number of unique values
for one or more axes, which would result in a large number of data points
making the data difficult to analyze or possibly unable to be loaded.<P>

<LI>when it is simply not important that each axis
value be distinct. In many cases, measurements are more precise than necessary
for successful analysis.<P>
</UL>

<P>Continuous data (containing few gaps that vary slightly
over a large range like weight and height) are a good candidate for categorizing.
For example, to analyze a group of people's heart rate based on their age,
activity level, and weight, the weight values, which would be in pounds like
139.5, 143.6, would be considered continuous.  That is, it is not likely that
any two people (let alone several) would have the same weight but a different
age and activity level. Categorizing the weight values by creating weight
categories for ranges of weight with one value to represent each category
would make the data clearer and easier to use.
<P>Discrete data (containing natural gaps like patient
IDs and years) would probably not be as useful to categorize.  But discrete
data such as hour could be categorized into groups if the degree of precision
can be reduced without losing data integrity.
<P>To categorize data: 
<OL START="1" type="1">
<LI>Select [<SMALL><B>Categorize</B></SMALL>]. The software
displays a group of sliders and buttons at the bottom of the interface. 
<P>
<P>
<B><I>Categorizing Data</I></B><BR>

<P><IMG border="0" src="./images/01327145.gif" vspace="12" alt="[IMAGE]">
<P><P>

<LI>Under
the label <B>CATEGORIZE AXIS</B>,
specify which axis you want to categorize. By default, all three are turned
on for categorizing. Use the on/off buttons to turn categorizing on or off
for a particular axis.  For example, selecting [<SMALL><B>X on</B></SMALL>] turns
on categorizing for the X axis, and selecting [<SMALL><B>Y off</B></SMALL>] turns
off categorizing for the Y axis.<P>

<LI>Under <B>NUMBER GROUPS</B>,
use the sliders to specify the number of categories you want for each axis.
You can specify between two and 100 categories for each, with 10 being the
default.<P>

<LI>Under <B>GROUP AXIS VALUE</B>,
for each categorized axis, specify the axis tick mark value: 
<TABLE cellpadding="5" cellspacing="0">
<TR align=left valign="top">
<TD>[<SMALL><B>Lower</B></SMALL>]</TD>
<TD align="left">Uses the lower bound value in each range.</TD></TR>

<TR align=left valign="top">
<TD>[<SMALL><B>Midpoint</B></SMALL>]</TD>
<TD align="left">Uses the midpoint value in each range.  This is the
default setting.</TD></TR>

<TR align=left valign="top">
<TD>[<SMALL><B>Upper</B></SMALL>]</TD>
<TD align="left">Uses the upper bound value in each range.</TD></TR>

<TR align=left valign="top">
<TD>[<SMALL><B>Bounds</B></SMALL>]</TD>
<TD align="left">Uses both the upper and lower bound values in each range.
The values display as a range, for example, 


<CODE><B>125.1-225.1</B></CODE> for each major
tick mark.</TD></TR>
</TABLE>
<P>
</OL>

<BR><H3>Effect on Duplicate Values Handling</H3>


<P><A name="z0781844">&#13;Categorizing data makes it
more likely that the software encounters
more than one response value for a given x,y,z coordinate. (Uncategorized
data usually contain only one response value for each x,y,z coordinate.) When
one or more of the axes are categorized, some of the data points become duplicates
within a group, which could result in more than one response value for a single
data point.</A>
<P>For example, suppose values for the X variable are integers
from 1 to 100.  If you categorize the X values into groups of 10 values, 1-10
would be a single category.  The data points 1,1,1 and 2,1,1 and 3,1,1 and
so forth are viewed by the software as the same data point in the volume grid,
because they would all have the same X, Y, and Z values.
<P>The response values for the 10 data points would appear
to be 10 different response values for the same data point. The response values
for the duplicate locations are handled according to the method specified
for duplicate values handling, with the default being to use the last response
value found as the category's response value.
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5">Automatically Scaling Axes</FONT></B></TD></TR></TABLE>

<P><A name="z0781847">&#13;By selecting [<SMALL><B>Auto scale</B></SMALL>], you can automatically scale the volume's three axes
to
the same length. The default is that the length of each axis is determined
by the range of axis values. For example, an axis with values from 1 to 100
is ten times as long as an axis with values from 1 to 10. </A>
<P><B>Note:</B>&nbsp;&nbsp;&nbsp;Once a data set is loaded, [<SMALL><B>Auto scale</B></SMALL>] is deselected.  To
load a subsequent data set with automatic scaling, you must select [<SMALL><B>Auto scale</B></SMALL>] again.&nbsp;&nbsp;<IMG border="0" src="../common/images/cautend.gif" alt="[cautionend]" align="bottom"><BR>
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5">Subsetting Data with a WHERE Clause</FONT></B></TD></TR></TABLE>

<P><A name="z0781849">&#13;Optionally, you can specify a
subset of data to be loaded
into SAS/SPECTRAVIEW by specifying
condition(s) that observations must meet. You can subset response values by
specifying criteria for the response variable, and you can subset data points
by specifying criteria for the axis variables.</A>
<P>Subsetting can change the size and shape of the volume
grid. For example, subsetting data can create holes that are replaced with
filler points, or subsetting can remove holes in data.
<P>Prior to selecting [<SMALL><B>Read data</B></SMALL>], you can
specify subsetting conditions using a SAS WHERE clause: 
<OL START="1" type="1">
<LI>Select [<SMALL><B>Where clause</B></SMALL>].<P>

<LI>In the
text window, type a SAS WHERE clause, without
the keyword WHERE and no ending semicolon.  A condition consists of a variable
name, an operator (such as EQ, NE, LT), and a value, such as 


<CODE><B>sulfate
> .00005060</B></CODE>. 
<P>
<P>
<B><I>Subsetting Data</I></B><BR>

<P><IMG border="0" src="./images/01327146.gif" vspace="12" alt="[IMAGE]">
<P><P>

<LI>Press
Enter.<P>
</OL>
 For details on specifying conditions, see the appropriate
WHERE clause documentation. <B>Note that before you invoke SAS/SPECTRAVIEW,
you can create a smaller SAS data set containing only the values that you
want to use. For example, you could choose certain ranges of axis values or
specific response values.</B>
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5">Reading the Data Set</FONT></B></TD></TR></TABLE>

<P><A name="z0781855">&#13;To have the software read the data, select [<SMALL><B>Read data</B></SMALL>].</A>
<P>The software loads the input data, applying any
optional
specifications.  For example, if a WHERE clause is specified, the software
loads only those observations meeting the criteria, and if categorizing is
specified, the software changes the number of data points accordingly. Once
the data set is loaded, the variable list disappears, and the software is
ready for you to 
<P>
<UL>

<LI>apply optional data filtering, which is explained
in <A href="z0238013.htm">Adjusting Data with Filters</A>.<P>

<LI>customize colors, which is explained in
<A href="z0238014.htm">Setting Response Value Colors for Images</A>.<P>

<LI>request the visualization techniques that produce
the images, which is explained in <A href="z0238017.htm">Exploring Data with Visualization Techniques</A>.<P>
</UL>

<P>If you have loading problems,
see <A href="z0229637.htm">Resolving Data Loading Problems</A>.

<P><!-- navigation -->
<P><TABLE cellpadding="0" cellspacing="0">
<TR valign="top">
<TD align="center">
<A href="z0238016.htm">
<IMG border="0" SRC="../common/images/cont1.gif"><BR><FONT size="-2">Chapter Contents</FONT></A></TD>
<TD align="center">
<A href="aslib.htm">
<IMG border="0" src="../common/images/prev1.gif"><BR><FONT size="-2">Previous</FONT></A></TD>
<TD align="center">
<A href="z0229637.htm">
<IMG border="0" SRC="../common/images/next1.gif"><BR><FONT size="-2">Next</FONT></A></TD>
<TD align="center">
<A href="#z0229290">
<IMG border="0" SRC="../common/images/top1.gif"><BR><FONT size="-2">Top of Page</FONT></A></TD>
</TR></TABLE>
<P><FONT size=1><A href="../common/images/copyrite.htm">Copyright 1999 by SAS Institute Inc., Cary, NC, USA. All rights reserved.</A></FONT>
</BODY>
</HTML>