<HTML>
<HEAD>
<TITLE>CRPJAC Statement</TITLE>
<LINK REL="STYLESHEET" TYPE="text/css" HREF="../sas.css">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<A NAME="nlpcrpjac">&#13;</A>
<!--Navigation Panel-->
<TABLE BORDER="0" CELLPADDING="0">
<TR VALIGN="TOP">
  <TD ALIGN="CENTER">
  <A NAME="topofpage" HREF="index.htm">
  <IMG BORDER="0" SRC="../../common/images/cont1.gif" ALT="Chapter Contents" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Chapter Contents</FONT></A></TD>
  <TD ALIGN=CENTER>
  <A HREF="sect9.htm"><IMG BORDER="0" SRC="../../common/images/prev1.gif" ALT="Previous" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Previous</FONT></A></TD>
  <TD ALIGN=CENTER>
  <A HREF="sect11.htm"><IMG BORDER="0" SRC="../../common/images/next1.gif" ALT="Next" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Next</FONT></A></TD>
</TR>
</TABLE>
<TABLE BGCOLOR="#CCCC99" WIDTH="100%" CELLPADDING=4>
<TR>
  <TD VALIGN=MIDDLE CLASS="chaphead"><I><FONT SIZE="2">The NLP Procedure</FONT></I></TD>
</TR>
</TABLE><BR>
<P><!--End of Navigation Panel-->
<H2>CRPJAC Statement</H2>
<A NAME="idxnlp0300">&#13;</A><A NAME="idxnlp0301">&#13;</A><DL><DD><B CLASS="ssbeleven">CRPJAC</B> <I CLASS="ssieleven"> variables <SPAN CLASS="ssbeleven"><B>;</B></SPAN></I></DL><BR>The CRPJAC statement defines the crossproduct Jacobian <SPAN CLASS="mathfont"><I>J</I><SUP><I>T</I></SUP><I>J</I></SPAN> matrix
used in solving least-squares problems.
For more information, see the section <A HREF="sect26.htm#nlpd">&#34;Derivatives&#34;</A>.
If the DIAHES option is not specified, the CRPJAC statement
lists <SPAN CLASS="mathfont"><I>n</I>(<I>n</I>+1)/2</SPAN> variable names, which correspond to the
elements <IMG WIDTH="110" HEIGHT="37" ALIGN="MIDDLE" BORDER="0"
 SRC="images/nlpeq49.gif"
 ALT="J^TJ_{j,k}, j \geq k,"> of the lower triangle of the
symmetric crossproduct Jacobian matrix listed by rows.
For example, the statements
<PRE>
    lsq f1-f3;
    decvar x1-x3;
    crpjac jj1-jj6;
</PRE>
correspond to the crossproduct Jacobian matrix

<DL CLASS="equation"><DD><IMG WIDTH="224" HEIGHT="123"
 SRC="images/nlpeq50.gif"
 ALT="J^TJ = [ JJ1 & JJ2 & JJ4 \ JJ2 & JJ3 & JJ5 \ JJ4 & JJ5 & JJ6 \ ]"></DL>
If the DIAHES option is specified, only the <SPAN CLASS="mathfont"><I>n</I></SPAN> diagonal
elements must be listed in the CRPJAC statement.
The <SPAN CLASS="mathfont"><I>n</I></SPAN> rows and columns of the crossproduct Jacobian matrix
must be in the same order as the <SPAN CLASS="mathfont"><I>n</I></SPAN> corresponding
parameter names listed in the DECVAR statement. 
To specify the values of nonzero derivatives, the variables 
specified in the
CRPJAC statement have to be defined at the left-hand side of
algebraic expressions in programming statements.
For example, consider the Rosenbrock Function:
<P><PRE>
   proc nlp tech=levmar;
      lsq f1 f2;
      decvar x1 x2;
      gradient g1 g2;
      crpjac cpj1-cpj3;

      f1   = 10 * (x2 - x1 * x1);
      f2   = 1 - x1;
      g1   = -200 * x1 * (x2 - x1 * x1) - (1 - x1);
      g2   =  100 * (x2 - x1 * x1);

      cpj1 = 400 * x1 * x1 _ 1 ;
      cpj2 = -200 * x1;
      cpj3 = 100;
   run;
</PRE>
<P>
<!--Navigation Panel-->
<TABLE BORDER="0" CELLPADDING="0">
<TR VALIGN="TOP">
  <TD ALIGN="CENTER">
  <A HREF="index.htm">
  <IMG BORDER="0" SRC="../../common/images/cont1.gif" ALT="Chapter Contents" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Chapter Contents</FONT></A></TD>
  <TD ALIGN=CENTER>
  <A HREF="sect9.htm"><IMG BORDER="0" SRC="../../common/images/prev1.gif" ALT="Previous" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Previous</FONT></A></TD>
  <TD ALIGN=CENTER>
  <A HREF="sect11.htm"><IMG BORDER="0" SRC="../../common/images/next1.gif" ALT="Next" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Next</FONT></A></TD>
  <TD ALIGN=CENTER>
  <A HREF="#topofpage">
  <IMG BORDER="0" SRC="../../common/images/top1.gif" ALT="Top" WIDTH="99" HEIGHT="16"><BR><FONT SIZE="-2">Top</FONT></A></TD>
</TR>
</TABLE>
<P><!--End of Navigation Panel-->
<P><FONT SIZE="1"><A HREF="../../common/images/copyrite.htm">Copyright &copy; 1999 by SAS Institute Inc., Cary, NC, USA. All rights reserved.</A></FONT>
</BODY>
</HTML>
