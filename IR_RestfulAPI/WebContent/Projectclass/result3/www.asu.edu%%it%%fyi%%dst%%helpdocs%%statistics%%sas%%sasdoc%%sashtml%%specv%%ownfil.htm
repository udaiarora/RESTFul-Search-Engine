<HTML>
<!-- This page produced Thu Jul  8 09:27:58 EDT 1999
 -->
<!-- Used program version 1.118.1.2 from beta -->
<HEAD>
<!-- <META http-equiv="Content-Type" content="text/html; charset="> -->
<TITLE>Adjusting Data with Filters : Creating and Applying Your Own Filter </TITLE></HEAD>
<BODY bgcolor="#FFFFFF">
<!-- navigation -->
<TABLE cellpadding="0" cellspacing="0">
<TR valign="top">
<TD align="center">
<A href="z0238013.htm">
<IMG border="0" SRC="../common/images/cont1.gif"><BR><FONT size="-2">Chapter Contents</FONT></A></TD>
<TD align="center">
<A href="z0229378.htm">
<IMG border="0" src="../common/images/prev1.gif"><BR><FONT size="-2">Previous</FONT></A></TD>
<TD align="center">
<A href="z0229659.htm">
<IMG border="0" SRC="../common/images/next1.gif"><BR><FONT size="-2">Next</FONT></A></TD>
</TR></TABLE>
<!-- running head -->
<TABLE width="100%" cellpadding="4">
<TR valign="MIDDLE">
<TD bgcolor="#CCCC99"><I><FONT size="2">SAS/SPECTRAVIEW Software User's Guide                                                                                     </FONT></I></TD>
</TR>
</TABLE><H1><FONT size="5"><A name="ownfil">Creating and Applying Your Own Filter</A></FONT></H1>


<P><A name="z0781202">&#13;To create a filter
to suit your own needs, you can customize a supplied filter by modifying its
preset values, or you can define a filter using SAS DATA step code.</A>
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5">Customizing a Filter</FONT></B></TD></TR></TABLE>

<P><A name="z0781203">&#13;The following steps create a filter by modifying
the preset values
of a filter provided with SAS/SPECTRAVIEW: </A>
<OL START="1" type="1">
<LI>Load the appropriate data
set.<P>

<LI>Select [<SMALL><B>Data</B></SMALL>], then [<SMALL><B>Filter
data</B></SMALL>].<P>

<LI>Specify the filter template you want to customize
by selecting one of the following. You cannot customize the Median filter. 



<TABLE cellpadding="6" cellspacing="2">
<TR valign="top"><TD></TD><TD>[<SMALL><B>Blend filter</B></SMALL>] smooths by averaging without weighting
the response value.</TD></TR>
<TR valign="top"><TD></TD><TD>[<SMALL><B>Gaussian filter</B></SMALL>] smooths by averaging and weights the
response value.</TD></TR>
<TR valign="top"><TD></TD><TD>[<SMALL><B>Laplacian filter</B></SMALL>] sharpens the data.</TD></TR></TABLE><P>

<LI>Select the filter element(s) that you
want to
have the same value, and adjust the slider under <B>Filter Value</B> to set the value.<P>

<LI>Select [<SMALL><B>Deselect buttons</B></SMALL>] to release
the selected elements.<P>

<LI>If needed, adjust more element values.<P>

<LI>Select [<SMALL><B>Apply filter</B></SMALL>] to apply
the customized filter to all response values in the data.<P>

<LI>To reuse the customized filter, store it in a
SAS data set by selecting [<SMALL><B>Save filter</B></SMALL>] and specifying a one-
or two-level SAS data set name in the text window.<P>
</OL>

<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5">Creating a Filter with SAS DATA Step Code</FONT></B></TD></TR></TABLE>

<P><A name="z0781218">&#13;Using
SAS DATA step code, you can create a SAS data set containing a filter, which
can then be loaded into SAS/SPECTRAVIEW.
The following restrictions apply: </A>
<P>
<UL>

<LI>The data set must contain exactly four numeric
variables, named as follows and in this order: FILTER_X, FILTER_Y, FILTER_Z,
FILTER. 
<P>
<UL>

<LI>FILTER_X, FILTER_Y, and FILTER_Z are the indices
of the filter for X, Y, and Z.  The valid range for these values is 1, 2,
and 3.<P>

<LI>FILTER is the value for a given set of indices.
 Its range of values is -16 to 16, inclusive.<P>
</UL>
<P>

<LI>All values must be integers or are converted to
integers when read in.  The data set must have at least 27 values, one for
each location in the filter.  More than 27 values produces a warning message.
 Incomplete filters are aborted.  The data set cannot contain missing values.<P>
</UL>

<P>The following DATA step code creates a SAS data set
named BLEND, which contains a valid filter:  



<PRE>       data blend;
         do filter_x = 1 to 3;
         do filter_y = 1 to 3;
         do filter_z = 1 to 3;
           filter = 1;  output;
         end; end; end;
       run;</PRE>
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5">Applying a Filter Stored in a Data Set</FONT></B></TD></TR></TABLE>

<P>The following instructions apply a filter stored in
a SAS data set: 
<OL START="1" type="1">
<LI>Load the appropriate data set.<P>

<LI>Select [<SMALL><B>Data</B></SMALL>], then [<SMALL><B>Filter
data</B></SMALL>].<P>

<LI>Select [<SMALL><B>Load filter</B></SMALL>] and enter
the data set name in the text window.<P>

<LI>Select [<SMALL><B>Data set filter</B></SMALL>] to display
the filter matrix.<P>

<LI>Select [<SMALL><B>Apply filter</B></SMALL>] to apply
the filter to all response values in the data.<P>
</OL>


<P><!-- navigation -->
<P><TABLE cellpadding="0" cellspacing="0">
<TR valign="top">
<TD align="center">
<A href="z0238013.htm">
<IMG border="0" SRC="../common/images/cont1.gif"><BR><FONT size="-2">Chapter Contents</FONT></A></TD>
<TD align="center">
<A href="z0229378.htm">
<IMG border="0" src="../common/images/prev1.gif"><BR><FONT size="-2">Previous</FONT></A></TD>
<TD align="center">
<A href="z0229659.htm">
<IMG border="0" SRC="../common/images/next1.gif"><BR><FONT size="-2">Next</FONT></A></TD>
<TD align="center">
<A href="#ownfil">
<IMG border="0" SRC="../common/images/top1.gif"><BR><FONT size="-2">Top of Page</FONT></A></TD>
</TR></TABLE>
<P><FONT size=1><A href="../common/images/copyrite.htm">Copyright 1999 by SAS Institute Inc., Cary, NC, USA. All rights reserved.</A></FONT>
</BODY>
</HTML>