<HTML>
<!-- This page produced Tue Jul 20 10:24:46 EDT 1999
 -->
<!-- Used program version 1.118.1.2 from beta -->
<HEAD>
<!-- <META http-equiv="Content-Type" content="text/html; charset="> -->
<TITLE>Image Data Model Class : Image Data Model:_filter  </TITLE></HEAD>
<BODY bgcolor="#FFFFFF">
<!-- navigation -->
<TABLE cellpadding="0" cellspacing="0">
<TR valign="top">
<TD align="center">
<A href="z13slam.htm">
<IMG border="0" SRC="../common/images/cont1.gif"><BR><FONT size="-2">Chapter Contents</FONT></A></TD>
<TD align="center">
<A href="z0233720.htm">
<IMG border="0" src="../common/images/prev1.gif"><BR><FONT size="-2">Previous</FONT></A></TD>
<TD align="center">
<A href="z0233723.htm">
<IMG border="0" SRC="../common/images/next1.gif"><BR><FONT size="-2">Next</FONT></A></TD>
</TR></TABLE>
<!-- running head -->
<TABLE width="100%" cellpadding="4">
<TR valign="MIDDLE">
<TD bgcolor="#CCCC99"><I><FONT size="2">Image Data Model:_filter </FONT></I></TD>
</TR>
</TABLE><H1><FONT size="5"><A name="z1259614">Image Data Model:_filter </A></FONT></H1>

<P><HR><BR><B>Applies a filter to an
image</B><p>
 <HR>
<TABLE cellspacing="0" cellpadding="1">
<TR>
<TD colspan="2"><A href="z1259614.htm#zid-6462"><FONT size="2"><B>Syntax</b></FONT></A></TD></TR>
<TR>
<TD colspan="2"><A href="z1259614.htm#z1259618"><FONT size="2"><B>Details</b></FONT></A></TD></TR>
<TR>
<TD colspan="2"><A href="z1259614.htm#z1259693"><FONT size="2"><B>Example</b></FONT></A></TD></TR></TABLE>
<TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><H2><A name="zid-6462">Syntax</A></H2></TD></TR></TABLE>

<TABLE cellpadding="4" cellspacing="2">
<TR valign="top"><TD>
CALL SEND (<I>imgdat_id</I>, '_filter', <I>filter-type</I>,
<I>matrix</I>);
</TD></TR></TABLE><A name="zid-6463">&#13;</A>
<P>
<P>
<TABLE cellpadding="6" cellspacing="0" border="0">


<TR valign="bottom" bgcolor="#CCCCCC">
  <TH  align="LEFT" valign="BOTTOM" ><B>Argument </B></TH>
  <TH  align="LEFT" valign="BOTTOM" ><B>Type </B></TH>
  <TH  align="LEFT" valign="BOTTOM" ><B>Description </B></TH>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP"><B>filter-type</B><BR></TD>
  
<TD  align="LEFT" valign="TOP">C </TD>
  
<TD  align="LEFT" valign="TOP">must be specified as 



<PRE>'CONVOLUTION'</PRE>
Other
filter types will be added in the future.</TD>
</TR>


<TR valign="top" bgcolor="#FFFFFF">
  
<TD  align="LEFT" valign="TOP"><B>matrix</B></TD>
  
<TD  align="LEFT" valign="TOP">C</TD>
  
<TD  align="LEFT" valign="TOP">contains the matrix size, the filter matrix, the divisor, the bias,
and 1 if you want to use the absolute value of the resulting value. If not
specified, the defaults are 1 for divisor, 0 for bias, and 0 for not using
the absolute value. Separate each number with a space.</TD>
</TR>

</TABLE>

<BR>

<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5"><A name="z1259618">Details</A></FONT></B></TD></TR></TABLE>

<P>The FILTER command supports user-provided convolution filters. A filter
matrix is moved along the pixels in an image, and a new pixel value is calculated
and replaced at the pixel that is at the center point of the filter matrix.
The new value is determined by weighting nearby pixels according to the values
in the filter matrix.
<P>A detailed explanation of the concept and theory behind filtering is
beyond the scope of this help. However, it is explained in many text books.
For example, see <B>Digital Image Processing</B>, by Rafael Gonzalez
and Paul Wintz, and <B>The Image Processing Handbook</B>, by John C.
Russ.
<P><B>Calculating New Pixel Values</B>
<P>Use the following equation to calculate new pixel
values:
<P>
<P><IMG border="0" src="./images/01333131.gif" vspace="12" alt="[IMAGE]">
<P>
<P><TABLE width="100%" cellpadding="0" cellspacing="0">
<TR valign="bottom"><TD><HR></TD></TR>
<TR valign="top"><TD><B><FONT size="5"><A name="z1259693">Example</A></FONT></B></TD></TR></TABLE>

<P>Consider the following 3x3 matrix: 



<PRE>-1 -2 -3
 4  5  6
-7  8 -9</PRE>
<P>Design the matrix with a divisor of 1 and a zero bias, and use the absolute
value of the answer: 



<PRE>matrix='3 -1 -2 -3 4 5 6 -7 8 -9 1 0 1';
CALL SEND (imgdat_id, '_filter', 'CONVOLUTION', matrix);</PRE>
<P><B>Note:</B>&nbsp;&nbsp;&nbsp;Normally, calculated values that are larger than 255 and smaller
than zero are normalized to 255 or zero. If 1 is set for 'absolute value',
then negative numbers are first converted to positive numbers.
<P>A filter selection and creation window is available. An example of using
it is in the image sample catalog (imagedmo) named FILTEXAM.FRAME. It is essentially
the same window that is used in the Image Editor. It accesses the filters
that are shipped with the Image Editor.&nbsp;&nbsp;<IMG border="0" src="../common/images/cautend.gif" alt="[cautionend]" align="bottom"><BR>

<P><!-- navigation -->
<P><TABLE cellpadding="0" cellspacing="0">
<TR valign="top">
<TD align="center">
<A href="z13slam.htm">
<IMG border="0" SRC="../common/images/cont1.gif"><BR><FONT size="-2">Chapter Contents</FONT></A></TD>
<TD align="center">
<A href="z0233720.htm">
<IMG border="0" src="../common/images/prev1.gif"><BR><FONT size="-2">Previous</FONT></A></TD>
<TD align="center">
<A href="z0233723.htm">
<IMG border="0" SRC="../common/images/next1.gif"><BR><FONT size="-2">Next</FONT></A></TD>
<TD align="center">
<A href="#z1259614">
<IMG border="0" SRC="../common/images/top1.gif"><BR><FONT size="-2">Top of Page</FONT></A></TD>
</TR></TABLE>
<P><FONT size=1><A href="../common/images/copyrite.htm">Copyright 1999 by SAS Institute Inc., Cary, NC, USA. All rights reserved.</A></FONT>
</BODY>
</HTML>